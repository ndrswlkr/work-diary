(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();const Qn=(e,o)=>e===o,Jn=Symbol("solid-track"),ze={equals:Qn};let Vt=Jt;const he=1,je=2,Ht={owned:null,cleanups:null,context:null,owner:null};var F=null;let ft=null,Xn=null,j=null,q=null,ae=null,Je=0;function Ye(e,o){const r=j,a=F,l=e.length===0,c=o===void 0?a:o,h=l?Ht:{owned:null,cleanups:null,context:c?c.context:null,owner:c},d=l?e:()=>e(()=>te(()=>Xe(h)));F=h,j=null;try{return Ne(d,!0)}finally{j=r,F=a}}function G(e,o){o=o?Object.assign({},ze,o):ze;const r={value:e,observers:null,observerSlots:null,comparator:o.equals||void 0},a=l=>(typeof l=="function"&&(l=l(r.value)),Qt(r,l));return[Gt.bind(r),a]}function J(e,o,r){const a=mt(e,o,!1,he);Te(a)}function me(e,o,r){Vt=tr;const a=mt(e,o,!1,he);(!r||!r.render)&&(a.user=!0),ae?ae.push(a):Te(a)}function be(e,o,r){r=r?Object.assign({},ze,r):ze;const a=mt(e,o,!0,0);return a.observers=null,a.observerSlots=null,a.comparator=r.equals||void 0,Te(a),Gt.bind(a)}function te(e){if(j===null)return e();const o=j;j=null;try{return e()}finally{j=o}}function dt(e,o,r){const a=Array.isArray(e);let l,c=r&&r.defer;return h=>{let d;if(a){d=Array(e.length);for(let S=0;S<e.length;S++)d[S]=e[S]()}else d=e();if(c)return c=!1,h;const x=te(()=>o(d,l,h));return l=d,x}}function Ae(e){me(()=>te(e))}function yt(e){return F===null||(F.cleanups===null?F.cleanups=[e]:F.cleanups.push(e)),e}function qn(e,o){const r=Symbol("context");return{id:r,Provider:rr(r),defaultValue:e}}function ve(e){return F&&F.context&&F.context[e.id]!==void 0?F.context[e.id]:e.defaultValue}function Kt(e){const o=be(e),r=be(()=>ht(o()));return r.toArray=()=>{const a=r();return Array.isArray(a)?a:a!=null?[a]:[]},r}function Gt(){if(this.sources&&this.state)if(this.state===he)Te(this);else{const e=q;q=null,Ne(()=>He(this),!1),q=e}if(j){const e=this.observers?this.observers.length:0;j.sources?(j.sources.push(this),j.sourceSlots.push(e)):(j.sources=[this],j.sourceSlots=[e]),this.observers?(this.observers.push(j),this.observerSlots.push(j.sources.length-1)):(this.observers=[j],this.observerSlots=[j.sources.length-1])}return this.value}function Qt(e,o,r){let a=e.value;return(!e.comparator||!e.comparator(a,o))&&(e.value=o,e.observers&&e.observers.length&&Ne(()=>{for(let l=0;l<e.observers.length;l+=1){const c=e.observers[l],h=ft&&ft.running;h&&ft.disposed.has(c),(h?!c.tState:!c.state)&&(c.pure?q.push(c):ae.push(c),c.observers&&Xt(c)),h||(c.state=he)}if(q.length>1e6)throw q=[],new Error},!1)),o}function Te(e){if(!e.fn)return;Xe(e);const o=Je;Zn(e,e.value,o)}function Zn(e,o,r){let a;const l=F,c=j;j=F=e;try{a=e.fn(o)}catch(h){return e.pure&&(e.state=he,e.owned&&e.owned.forEach(Xe),e.owned=null),e.updatedAt=r+1,qt(h)}finally{j=c,F=l}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Qt(e,a):e.value=a,e.updatedAt=r)}function mt(e,o,r,a=he,l){const c={fn:e,state:a,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:o,owner:F,context:F?F.context:null,pure:r};return F===null||F!==Ht&&(F.owned?F.owned.push(c):F.owned=[c]),c}function Ve(e){if(e.state===0)return;if(e.state===je)return He(e);if(e.suspense&&te(e.suspense.inFallback))return e.suspense.effects.push(e);const o=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Je);)e.state&&o.push(e);for(let r=o.length-1;r>=0;r--)if(e=o[r],e.state===he)Te(e);else if(e.state===je){const a=q;q=null,Ne(()=>He(e,o[0]),!1),q=a}}function Ne(e,o){if(q)return e();let r=!1;o||(q=[]),ae?r=!0:ae=[],Je++;try{const a=e();return er(r),a}catch(a){r||(ae=null),q=null,qt(a)}}function er(e){if(q&&(Jt(q),q=null),e)return;const o=ae;ae=null,o.length&&Ne(()=>Vt(o),!1)}function Jt(e){for(let o=0;o<e.length;o++)Ve(e[o])}function tr(e){let o,r=0;for(o=0;o<e.length;o++){const a=e[o];a.user?e[r++]=a:Ve(a)}for(o=0;o<r;o++)Ve(e[o])}function He(e,o){e.state=0;for(let r=0;r<e.sources.length;r+=1){const a=e.sources[r];if(a.sources){const l=a.state;l===he?a!==o&&(!a.updatedAt||a.updatedAt<Je)&&Ve(a):l===je&&He(a,o)}}}function Xt(e){for(let o=0;o<e.observers.length;o+=1){const r=e.observers[o];r.state||(r.state=je,r.pure?q.push(r):ae.push(r),r.observers&&Xt(r))}}function Xe(e){let o;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),a=e.sourceSlots.pop(),l=r.observers;if(l&&l.length){const c=l.pop(),h=r.observerSlots.pop();a<l.length&&(c.sourceSlots[h]=a,l[a]=c,r.observerSlots[a]=h)}}if(e.owned){for(o=e.owned.length-1;o>=0;o--)Xe(e.owned[o]);e.owned=null}if(e.cleanups){for(o=e.cleanups.length-1;o>=0;o--)e.cleanups[o]();e.cleanups=null}e.state=0}function nr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qt(e,o=F){throw nr(e)}function ht(e){if(typeof e=="function"&&!e.length)return ht(e());if(Array.isArray(e)){const o=[];for(let r=0;r<e.length;r++){const a=ht(e[r]);Array.isArray(a)?o.push.apply(o,a):o.push(a)}return o}return e}function rr(e,o){return function(a){let l;return J(()=>l=te(()=>(F.context={...F.context,[e]:a.value},Kt(()=>a.children))),void 0),l}}const or=Symbol("fallback");function Ft(e){for(let o=0;o<e.length;o++)e[o]()}function ir(e,o,r={}){let a=[],l=[],c=[],h=0,d=o.length>1?[]:null;return yt(()=>Ft(c)),()=>{let x=e()||[],S,w;return x[Jn],te(()=>{let E=x.length,A,D,k,N,M,R,Y,W,_;if(E===0)h!==0&&(Ft(c),c=[],a=[],l=[],h=0,d&&(d=[])),r.fallback&&(a=[or],l[0]=Ye(T=>(c[0]=T,r.fallback())),h=1);else if(h===0){for(l=new Array(E),w=0;w<E;w++)a[w]=x[w],l[w]=Ye(m);h=E}else{for(k=new Array(E),N=new Array(E),d&&(M=new Array(E)),R=0,Y=Math.min(h,E);R<Y&&a[R]===x[R];R++);for(Y=h-1,W=E-1;Y>=R&&W>=R&&a[Y]===x[W];Y--,W--)k[W]=l[Y],N[W]=c[Y],d&&(M[W]=d[Y]);for(A=new Map,D=new Array(W+1),w=W;w>=R;w--)_=x[w],S=A.get(_),D[w]=S===void 0?-1:S,A.set(_,w);for(S=R;S<=Y;S++)_=a[S],w=A.get(_),w!==void 0&&w!==-1?(k[w]=l[S],N[w]=c[S],d&&(M[w]=d[S]),w=D[w],A.set(_,w)):c[S]();for(w=R;w<E;w++)w in k?(l[w]=k[w],c[w]=N[w],d&&(d[w]=M[w],d[w](w))):l[w]=Ye(m);l=l.slice(0,h=E),a=x.slice(0)}return l});function m(E){if(c[w]=E,d){const[A,D]=G(w);return d[w]=D,o(x[w],A)}return o(x[w])}}}function K(e,o){return te(()=>e(o||{}))}const Zt=e=>`Stale read from <${e}>.`;function en(e){const o="fallback"in e&&{fallback:()=>e.fallback};return be(ir(()=>e.each,e.children,o||void 0))}function ar(e){const o=e.keyed,r=be(()=>e.when,void 0,{equals:(a,l)=>o?a===l:!a==!l});return be(()=>{const a=r();if(a){const l=e.children;return typeof l=="function"&&l.length>0?te(()=>l(o?a:()=>{if(!te(r))throw Zt("Show");return e.when})):l}return e.fallback},void 0,void 0)}function sr(e){let o=!1;const r=(c,h)=>(o?c[1]===h[1]:!c[1]==!h[1])&&c[2]===h[2],a=Kt(()=>e.children),l=be(()=>{let c=a();Array.isArray(c)||(c=[c]);for(let h=0;h<c.length;h++){const d=c[h].when;if(d)return o=!!c[h].keyed,[h,d,c[h]]}return[-1]},void 0,{equals:r});return be(()=>{const[c,h,d]=l();if(c<0)return e.fallback;const x=d.children;return typeof x=="function"&&x.length>0?te(()=>x(o?h:()=>{if(te(l)[0]!==c)throw Zt("Match");return d.when})):x},void 0,void 0)}function Wt(e){return e}function fr(e,o,r){let a=r.length,l=o.length,c=a,h=0,d=0,x=o[l-1].nextSibling,S=null;for(;h<l||d<c;){if(o[h]===r[d]){h++,d++;continue}for(;o[l-1]===r[c-1];)l--,c--;if(l===h){const w=c<a?d?r[d-1].nextSibling:r[c-d]:x;for(;d<c;)e.insertBefore(r[d++],w)}else if(c===d)for(;h<l;)(!S||!S.has(o[h]))&&o[h].remove(),h++;else if(o[h]===r[c-1]&&r[d]===o[l-1]){const w=o[--l].nextSibling;e.insertBefore(r[d++],o[h++].nextSibling),e.insertBefore(r[--c],w),o[l]=r[c]}else{if(!S){S=new Map;let m=d;for(;m<c;)S.set(r[m],m++)}const w=S.get(o[h]);if(w!=null)if(d<w&&w<c){let m=h,E=1,A;for(;++m<l&&m<c&&!((A=S.get(o[m]))==null||A!==w+E);)E++;if(E>w-d){const D=o[h];for(;d<w;)e.insertBefore(r[d++],D)}else e.replaceChild(r[d++],o[h++])}else h++;else o[h++].remove()}}}const Ut="_$DX_DELEGATE";function ur(e,o,r,a={}){let l;return Ye(c=>{l=c,o===document?e():X(o,e(),o.firstChild?null:void 0,r)},a.owner),()=>{l(),o.textContent=""}}function ie(e,o,r){let a;const l=()=>{const h=document.createElement("template");return h.innerHTML=e,r?h.content.firstChild.firstChild:h.content.firstChild},c=o?()=>te(()=>document.importNode(a||(a=l()),!0)):()=>(a||(a=l())).cloneNode(!0);return c.cloneNode=c,c}function we(e,o=window.document){const r=o[Ut]||(o[Ut]=new Set);for(let a=0,l=e.length;a<l;a++){const c=e[a];r.has(c)||(r.add(c),o.addEventListener(c,lr))}}function Re(e,o,r){r==null?e.removeAttribute(o):e.setAttribute(o,r)}function $e(e,o,r){return te(()=>e(o,r))}function X(e,o,r,a){if(r!==void 0&&!a&&(a=[]),typeof o!="function")return Ke(e,o,a,r);J(l=>Ke(e,o(),l,r),a)}function lr(e){const o=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}});r;){const a=r[o];if(a&&!r.disabled){const l=r[`${o}Data`];if(l!==void 0?a.call(r,l,e):a.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Ke(e,o,r,a,l){for(;typeof r=="function";)r=r();if(o===r)return r;const c=typeof o,h=a!==void 0;if(e=h&&r[0]&&r[0].parentNode||e,c==="string"||c==="number")if(c==="number"&&(o=o.toString()),h){let d=r[0];d&&d.nodeType===3?d.data!==o&&(d.data=o):d=document.createTextNode(o),r=xe(e,r,a,d)}else r!==""&&typeof r=="string"?r=e.firstChild.data=o:r=e.textContent=o;else if(o==null||c==="boolean")r=xe(e,r,a);else{if(c==="function")return J(()=>{let d=o();for(;typeof d=="function";)d=d();r=Ke(e,d,r,a)}),()=>r;if(Array.isArray(o)){const d=[],x=r&&Array.isArray(r);if(vt(d,o,r,l))return J(()=>r=Ke(e,d,r,a,!0)),()=>r;if(d.length===0){if(r=xe(e,r,a),h)return r}else x?r.length===0?Yt(e,d,a):fr(e,r,d):(r&&xe(e),Yt(e,d));r=d}else if(o.nodeType){if(Array.isArray(r)){if(h)return r=xe(e,r,a,o);xe(e,r,null,o)}else r==null||r===""||!e.firstChild?e.appendChild(o):e.replaceChild(o,e.firstChild);r=o}}return r}function vt(e,o,r,a){let l=!1;for(let c=0,h=o.length;c<h;c++){let d=o[c],x=r&&r[e.length],S;if(!(d==null||d===!0||d===!1))if((S=typeof d)=="object"&&d.nodeType)e.push(d);else if(Array.isArray(d))l=vt(e,d,x)||l;else if(S==="function")if(a){for(;typeof d=="function";)d=d();l=vt(e,Array.isArray(d)?d:[d],Array.isArray(x)?x:[x])||l}else e.push(d),l=!0;else{const w=String(d);x&&x.nodeType===3&&x.data===w?e.push(x):e.push(document.createTextNode(w))}}return l}function Yt(e,o,r=null){for(let a=0,l=o.length;a<l;a++)e.insertBefore(o[a],r)}function xe(e,o,r,a){if(r===void 0)return e.textContent="";const l=a||document.createTextNode("");if(o.length){let c=!1;for(let h=o.length-1;h>=0;h--){const d=o[h];if(l!==d){const x=d.parentNode===e;!c&&!h?x?e.replaceChild(l,d):e.insertBefore(l,r):x&&d.remove()}else c=!0}}else e.insertBefore(l,r);return[l]}var cr=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},pt;typeof window<"u"&&(typeof Promise<"u"?pt=new Promise(function(e){return window.addEventListener("load",e)}):pt={then:function(e){return window.addEventListener("load",e)}});function dr(e,o){o===void 0&&(o={});var r=o.registrationOptions;r===void 0&&(r={}),delete o.registrationOptions;var a=function(l){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];o&&o[l]&&o[l].apply(o,c)};"serviceWorker"in navigator&&pt.then(function(){cr()?(hr(e,a,r),navigator.serviceWorker.ready.then(function(l){a("ready",l)}).catch(function(l){return De(a,l)})):(tn(e,a,r),navigator.serviceWorker.ready.then(function(l){a("ready",l)}).catch(function(l){return De(a,l)}))})}function De(e,o){navigator.onLine||e("offline"),e("error",o)}function tn(e,o,r){navigator.serviceWorker.register(e,r).then(function(a){if(o("registered",a),a.waiting){o("updated",a);return}a.onupdatefound=function(){o("updatefound",a);var l=a.installing;l.onstatechange=function(){l.state==="installed"&&(navigator.serviceWorker.controller?o("updated",a):o("cached",a))}}}).catch(function(a){return De(o,a)})}function hr(e,o,r){fetch(e).then(function(a){a.status===404?(o("error",new Error("Service worker not found at "+e)),zt()):a.headers.get("content-type").indexOf("javascript")===-1?(o("error",new Error("Expected "+e+" to have javascript content-type, but received "+a.headers.get("content-type"))),zt()):tn(e,o,r)}).catch(function(a){return De(o,a)})}function zt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return De(emit,e)})}function vr(){dr("/work-diary/serviceworker.js")}const pr=async()=>Notification.permission==="granted",gr=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ue(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,o){(function(r){e.exports=r()})(function(){return function r(a,l,c){function h(S,w){if(!l[S]){if(!a[S]){var m=typeof Ue=="function"&&Ue;if(!w&&m)return m(S,!0);if(d)return d(S,!0);var E=new Error("Cannot find module '"+S+"'");throw E.code="MODULE_NOT_FOUND",E}var A=l[S]={exports:{}};a[S][0].call(A.exports,function(D){var k=a[S][1][D];return h(k||D)},A,A.exports,r,a,l,c)}return l[S].exports}for(var d=typeof Ue=="function"&&Ue,x=0;x<c.length;x++)h(c[x]);return h}({1:[function(r,a,l){(function(c){var h=c.MutationObserver||c.WebKitMutationObserver,d;if(h){var x=0,S=new h(D),w=c.document.createTextNode("");S.observe(w,{characterData:!0}),d=function(){w.data=x=++x%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var m=new c.MessageChannel;m.port1.onmessage=D,d=function(){m.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?d=function(){var N=c.document.createElement("script");N.onreadystatechange=function(){D(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},c.document.documentElement.appendChild(N)}:d=function(){setTimeout(D,0)};var E,A=[];function D(){E=!0;for(var N,M,R=A.length;R;){for(M=A,A=[],N=-1;++N<R;)M[N]();R=A.length}E=!1}a.exports=k;function k(N){A.push(N)===1&&!E&&d()}}).call(this,typeof We<"u"?We:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,a,l){var c=r(1);function h(){}var d={},x=["REJECTED"],S=["FULFILLED"],w=["PENDING"];a.exports=m;function m(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,_!==h&&k(this,_)}m.prototype.catch=function(_){return this.then(null,_)},m.prototype.then=function(_,T){if(typeof _!="function"&&this.state===S||typeof T!="function"&&this.state===x)return this;var I=new this.constructor(h);if(this.state!==w){var O=this.state===S?_:T;A(I,O,this.outcome)}else this.queue.push(new E(I,_,T));return I};function E(_,T,I){this.promise=_,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}E.prototype.callFulfilled=function(_){d.resolve(this.promise,_)},E.prototype.otherCallFulfilled=function(_){A(this.promise,this.onFulfilled,_)},E.prototype.callRejected=function(_){d.reject(this.promise,_)},E.prototype.otherCallRejected=function(_){A(this.promise,this.onRejected,_)};function A(_,T,I){c(function(){var O;try{O=T(I)}catch(V){return d.reject(_,V)}O===_?d.reject(_,new TypeError("Cannot resolve promise with itself")):d.resolve(_,O)})}d.resolve=function(_,T){var I=N(D,T);if(I.status==="error")return d.reject(_,I.value);var O=I.value;if(O)k(_,O);else{_.state=S,_.outcome=T;for(var V=-1,P=_.queue.length;++V<P;)_.queue[V].callFulfilled(T)}return _},d.reject=function(_,T){_.state=x,_.outcome=T;for(var I=-1,O=_.queue.length;++I<O;)_.queue[I].callRejected(T);return _};function D(_){var T=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof T=="function")return function(){T.apply(_,arguments)}}function k(_,T){var I=!1;function O(Q){I||(I=!0,d.reject(_,Q))}function V(Q){I||(I=!0,d.resolve(_,Q))}function P(){T(V,O)}var H=N(P);H.status==="error"&&O(H.value)}function N(_,T){var I={};try{I.value=_(T),I.status="success"}catch(O){I.status="error",I.value=O}return I}m.resolve=M;function M(_){return _ instanceof this?_:d.resolve(new this(h),_)}m.reject=R;function R(_){var T=new this(h);return d.reject(T,_)}m.all=Y;function Y(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,O=!1;if(!I)return this.resolve([]);for(var V=new Array(I),P=0,H=-1,Q=new this(h);++H<I;)ne(_[H],H);return Q;function ne(pe,ge){T.resolve(pe).then(_e,function(Z){O||(O=!0,d.reject(Q,Z))});function _e(Z){V[ge]=Z,++P===I&&!O&&(O=!0,d.resolve(Q,V))}}}m.race=W;function W(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,O=!1;if(!I)return this.resolve([]);for(var V=-1,P=new this(h);++V<I;)H(_[V]);return P;function H(Q){T.resolve(Q).then(function(ne){O||(O=!0,d.resolve(P,ne))},function(ne){O||(O=!0,d.reject(P,ne))})}}},{1:1}],3:[function(r,a,l){(function(c){typeof c.Promise!="function"&&(c.Promise=r(2))}).call(this,typeof We<"u"?We:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,a,l){var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function h(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var x=d();function S(){try{if(!x||!x.open)return!1;var t=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),i=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!t||i)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function w(t,i){t=t||[],i=i||{};try{return new Blob(t,i)}catch(s){if(s.name!=="TypeError")throw s;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,f=new n,u=0;u<t.length;u+=1)f.append(t[u]);return f.getBlob(i.type)}}typeof Promise>"u"&&r(3);var m=Promise;function E(t,i){i&&t.then(function(n){i(null,n)},function(n){i(n)})}function A(t,i,n){typeof i=="function"&&t.then(i),typeof n=="function"&&t.catch(n)}function D(t){return typeof t!="string"&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var N="local-forage-detect-blob-support",M=void 0,R={},Y=Object.prototype.toString,W="readonly",_="readwrite";function T(t){for(var i=t.length,n=new ArrayBuffer(i),f=new Uint8Array(n),u=0;u<i;u++)f[u]=t.charCodeAt(u);return n}function I(t){return new m(function(i){var n=t.transaction(N,_),f=w([""]);n.objectStore(N).put(f,"key"),n.onabort=function(u){u.preventDefault(),u.stopPropagation(),i(!1)},n.oncomplete=function(){var u=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);i(s||!u||parseInt(u[1],10)>=43)}}).catch(function(){return!1})}function O(t){return typeof M=="boolean"?m.resolve(M):I(t).then(function(i){return M=i,M})}function V(t){var i=R[t.name],n={};n.promise=new m(function(f,u){n.resolve=f,n.reject=u}),i.deferredOperations.push(n),i.dbReady?i.dbReady=i.dbReady.then(function(){return n.promise}):i.dbReady=n.promise}function P(t){var i=R[t.name],n=i.deferredOperations.pop();if(n)return n.resolve(),n.promise}function H(t,i){var n=R[t.name],f=n.deferredOperations.pop();if(f)return f.reject(i),f.promise}function Q(t,i){return new m(function(n,f){if(R[t.name]=R[t.name]||fe(),t.db)if(i)V(t),t.db.close();else return n(t.db);var u=[t.name];i&&u.push(t.version);var s=x.open.apply(x,u);i&&(s.onupgradeneeded=function(v){var p=s.result;try{p.createObjectStore(t.storeName),v.oldVersion<=1&&p.createObjectStore(N)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+t.name+'" has been upgraded from version '+v.oldVersion+" to version "+v.newVersion+', but the storage "'+t.storeName+'" already exists.');else throw g}}),s.onerror=function(v){v.preventDefault(),f(s.error)},s.onsuccess=function(){var v=s.result;v.onversionchange=function(p){p.target.close()},n(v),P(t)}})}function ne(t){return Q(t,!1)}function pe(t){return Q(t,!0)}function ge(t,i){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),f=t.version<t.db.version,u=t.version>t.db.version;if(f&&(t.version!==i&&console.warn('The database "'+t.name+`" can't be downgraded from version `+t.db.version+" to version "+t.version+"."),t.version=t.db.version),u||n){if(n){var s=t.db.version+1;s>t.version&&(t.version=s)}return!0}return!1}function _e(t){return new m(function(i,n){var f=new FileReader;f.onerror=n,f.onloadend=function(u){var s=btoa(u.target.result||"");i({__local_forage_encoded_blob:!0,data:s,type:t.type})},f.readAsBinaryString(t)})}function Z(t){var i=T(atob(t.data));return w([i],{type:t.type})}function Se(t){return t&&t.__local_forage_encoded_blob}function Pe(t){var i=this,n=i._initReady().then(function(){var f=R[i._dbInfo.name];if(f&&f.dbReady)return f.dbReady});return A(n,t,t),n}function qe(t){V(t);for(var i=R[t.name],n=i.forages,f=0;f<n.length;f++){var u=n[f];u._dbInfo.db&&(u._dbInfo.db.close(),u._dbInfo.db=null)}return t.db=null,ne(t).then(function(s){return t.db=s,ge(t)?pe(t):s}).then(function(s){t.db=i.db=s;for(var v=0;v<n.length;v++)n[v]._dbInfo.db=s}).catch(function(s){throw H(t,s),s})}function oe(t,i,n,f){f===void 0&&(f=1);try{var u=t.db.transaction(t.storeName,i);n(null,u)}catch(s){if(f>0&&(!t.db||s.name==="InvalidStateError"||s.name==="NotFoundError"))return m.resolve().then(function(){if(!t.db||s.name==="NotFoundError"&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),pe(t)}).then(function(){return qe(t).then(function(){oe(t,i,n,f-1)})}).catch(n);n(s)}}function fe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Le(t){var i=this,n={db:null};if(t)for(var f in t)n[f]=t[f];var u=R[n.name];u||(u=fe(),R[n.name]=u),u.forages.push(i),i._initReady||(i._initReady=i.ready,i.ready=Pe);var s=[];function v(){return m.resolve()}for(var p=0;p<u.forages.length;p++){var g=u.forages[p];g!==i&&s.push(g._initReady().catch(v))}var y=u.forages.slice(0);return m.all(s).then(function(){return n.db=u.db,ne(n)}).then(function(b){return n.db=b,ge(n,i._defaultConfig.version)?pe(n):b}).then(function(b){n.db=u.db=b,i._dbInfo=n;for(var $=0;$<y.length;$++){var C=y[$];C!==i&&(C._dbInfo.db=n.db,C._dbInfo.version=n.version)}})}function Oe(t,i){var n=this;t=D(t);var f=new m(function(u,s){n.ready().then(function(){oe(n._dbInfo,W,function(v,p){if(v)return s(v);try{var g=p.objectStore(n._dbInfo.storeName),y=g.get(t);y.onsuccess=function(){var b=y.result;b===void 0&&(b=null),Se(b)&&(b=Z(b)),u(b)},y.onerror=function(){s(y.error)}}catch(b){s(b)}})}).catch(s)});return E(f,i),f}function Be(t,i){var n=this,f=new m(function(u,s){n.ready().then(function(){oe(n._dbInfo,W,function(v,p){if(v)return s(v);try{var g=p.objectStore(n._dbInfo.storeName),y=g.openCursor(),b=1;y.onsuccess=function(){var $=y.result;if($){var C=$.value;Se(C)&&(C=Z(C));var L=t(C,$.key,b++);L!==void 0?u(L):$.continue()}else u()},y.onerror=function(){s(y.error)}}catch($){s($)}})}).catch(s)});return E(f,i),f}function ke(t,i,n){var f=this;t=D(t);var u=new m(function(s,v){var p;f.ready().then(function(){return p=f._dbInfo,Y.call(i)==="[object Blob]"?O(p.db).then(function(g){return g?i:_e(i)}):i}).then(function(g){oe(f._dbInfo,_,function(y,b){if(y)return v(y);try{var $=b.objectStore(f._dbInfo.storeName);g===null&&(g=void 0);var C=$.put(g,t);b.oncomplete=function(){g===void 0&&(g=null),s(g)},b.onabort=b.onerror=function(){var L=C.error?C.error:C.transaction.error;v(L)}}catch(L){v(L)}})}).catch(v)});return E(u,n),u}function ee(t,i){var n=this;t=D(t);var f=new m(function(u,s){n.ready().then(function(){oe(n._dbInfo,_,function(v,p){if(v)return s(v);try{var g=p.objectStore(n._dbInfo.storeName),y=g.delete(t);p.oncomplete=function(){u()},p.onerror=function(){s(y.error)},p.onabort=function(){var b=y.error?y.error:y.transaction.error;s(b)}}catch(b){s(b)}})}).catch(s)});return E(f,i),f}function ue(t){var i=this,n=new m(function(f,u){i.ready().then(function(){oe(i._dbInfo,_,function(s,v){if(s)return u(s);try{var p=v.objectStore(i._dbInfo.storeName),g=p.clear();v.oncomplete=function(){f()},v.onabort=v.onerror=function(){var y=g.error?g.error:g.transaction.error;u(y)}}catch(y){u(y)}})}).catch(u)});return E(n,t),n}function ye(t){var i=this,n=new m(function(f,u){i.ready().then(function(){oe(i._dbInfo,W,function(s,v){if(s)return u(s);try{var p=v.objectStore(i._dbInfo.storeName),g=p.count();g.onsuccess=function(){f(g.result)},g.onerror=function(){u(g.error)}}catch(y){u(y)}})}).catch(u)});return E(n,t),n}function on(t,i){var n=this,f=new m(function(u,s){if(t<0){u(null);return}n.ready().then(function(){oe(n._dbInfo,W,function(v,p){if(v)return s(v);try{var g=p.objectStore(n._dbInfo.storeName),y=!1,b=g.openKeyCursor();b.onsuccess=function(){var $=b.result;if(!$){u(null);return}t===0||y?u($.key):(y=!0,$.advance(t))},b.onerror=function(){s(b.error)}}catch($){s($)}})}).catch(s)});return E(f,i),f}function an(t){var i=this,n=new m(function(f,u){i.ready().then(function(){oe(i._dbInfo,W,function(s,v){if(s)return u(s);try{var p=v.objectStore(i._dbInfo.storeName),g=p.openKeyCursor(),y=[];g.onsuccess=function(){var b=g.result;if(!b){f(y);return}y.push(b.key),b.continue()},g.onerror=function(){u(g.error)}}catch(b){u(b)}})}).catch(u)});return E(n,t),n}function sn(t,i){i=k.apply(this,arguments);var n=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var f=this,u;if(!t.name)u=m.reject("Invalid arguments");else{var s=t.name===n.name&&f._dbInfo.db,v=s?m.resolve(f._dbInfo.db):ne(t).then(function(p){var g=R[t.name],y=g.forages;g.db=p;for(var b=0;b<y.length;b++)y[b]._dbInfo.db=p;return p});t.storeName?u=v.then(function(p){if(p.objectStoreNames.contains(t.storeName)){var g=p.version+1;V(t);var y=R[t.name],b=y.forages;p.close();for(var $=0;$<b.length;$++){var C=b[$];C._dbInfo.db=null,C._dbInfo.version=g}var L=new m(function(B,z){var U=x.open(t.name,g);U.onerror=function(re){var Ce=U.result;Ce.close(),z(re)},U.onupgradeneeded=function(){var re=U.result;re.deleteObjectStore(t.storeName)},U.onsuccess=function(){var re=U.result;re.close(),B(re)}});return L.then(function(B){y.db=B;for(var z=0;z<b.length;z++){var U=b[z];U._dbInfo.db=B,P(U._dbInfo)}}).catch(function(B){throw(H(t,B)||m.resolve()).catch(function(){}),B})}}):u=v.then(function(p){V(t);var g=R[t.name],y=g.forages;p.close();for(var b=0;b<y.length;b++){var $=y[b];$._dbInfo.db=null}var C=new m(function(L,B){var z=x.deleteDatabase(t.name);z.onerror=function(){var U=z.result;U&&U.close(),B(z.error)},z.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},z.onsuccess=function(){var U=z.result;U&&U.close(),L(U)}});return C.then(function(L){g.db=L;for(var B=0;B<y.length;B++){var z=y[B];P(z._dbInfo)}}).catch(function(L){throw(H(t,L)||m.resolve()).catch(function(){}),L})})}return E(u,i),u}var fn={_driver:"asyncStorage",_initStorage:Le,_support:S(),iterate:Be,getItem:Oe,setItem:ke,removeItem:ee,clear:ue,length:ye,key:on,keys:an,dropInstance:sn};function un(){return typeof openDatabase=="function"}var le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ln="~~local_forage_type~",wt=/^~~local_forage_type~([^~]+)~/,Me="__lfsc__:",Ze=Me.length,et="arbf",tt="blob",_t="si08",St="ui08",Et="uic8",xt="si16",$t="si32",At="ur16",It="ui32",Ct="fl32",Rt="fl64",Dt=Ze+et.length,Tt=Object.prototype.toString;function Nt(t){var i=t.length*.75,n=t.length,f,u=0,s,v,p,g;t[t.length-1]==="="&&(i--,t[t.length-2]==="="&&i--);var y=new ArrayBuffer(i),b=new Uint8Array(y);for(f=0;f<n;f+=4)s=le.indexOf(t[f]),v=le.indexOf(t[f+1]),p=le.indexOf(t[f+2]),g=le.indexOf(t[f+3]),b[u++]=s<<2|v>>4,b[u++]=(v&15)<<4|p>>2,b[u++]=(p&3)<<6|g&63;return y}function nt(t){var i=new Uint8Array(t),n="",f;for(f=0;f<i.length;f+=3)n+=le[i[f]>>2],n+=le[(i[f]&3)<<4|i[f+1]>>4],n+=le[(i[f+1]&15)<<2|i[f+2]>>6],n+=le[i[f+2]&63];return i.length%3===2?n=n.substring(0,n.length-1)+"=":i.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function cn(t,i){var n="";if(t&&(n=Tt.call(t)),t&&(n==="[object ArrayBuffer]"||t.buffer&&Tt.call(t.buffer)==="[object ArrayBuffer]")){var f,u=Me;t instanceof ArrayBuffer?(f=t,u+=et):(f=t.buffer,n==="[object Int8Array]"?u+=_t:n==="[object Uint8Array]"?u+=St:n==="[object Uint8ClampedArray]"?u+=Et:n==="[object Int16Array]"?u+=xt:n==="[object Uint16Array]"?u+=At:n==="[object Int32Array]"?u+=$t:n==="[object Uint32Array]"?u+=It:n==="[object Float32Array]"?u+=Ct:n==="[object Float64Array]"?u+=Rt:i(new Error("Failed to get type for BinaryArray"))),i(u+nt(f))}else if(n==="[object Blob]"){var s=new FileReader;s.onload=function(){var v=ln+t.type+"~"+nt(this.result);i(Me+tt+v)},s.readAsArrayBuffer(t)}else try{i(JSON.stringify(t))}catch(v){console.error("Couldn't convert value into a JSON string: ",t),i(null,v)}}function dn(t){if(t.substring(0,Ze)!==Me)return JSON.parse(t);var i=t.substring(Dt),n=t.substring(Ze,Dt),f;if(n===tt&&wt.test(i)){var u=i.match(wt);f=u[1],i=i.substring(u[0].length)}var s=Nt(i);switch(n){case et:return s;case tt:return w([s],{type:f});case _t:return new Int8Array(s);case St:return new Uint8Array(s);case Et:return new Uint8ClampedArray(s);case xt:return new Int16Array(s);case At:return new Uint16Array(s);case $t:return new Int32Array(s);case It:return new Uint32Array(s);case Ct:return new Float32Array(s);case Rt:return new Float64Array(s);default:throw new Error("Unkown type: "+n)}}var rt={serialize:cn,deserialize:dn,stringToBuffer:Nt,bufferToString:nt};function Pt(t,i,n,f){t.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,f)}function hn(t){var i=this,n={db:null};if(t)for(var f in t)n[f]=typeof t[f]!="string"?t[f].toString():t[f];var u=new m(function(s,v){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(p){return v(p)}n.db.transaction(function(p){Pt(p,n,function(){i._dbInfo=n,s()},function(g,y){v(y)})},v)});return n.serializer=rt,u}function ce(t,i,n,f,u,s){t.executeSql(n,f,u,function(v,p){p.code===p.SYNTAX_ERR?v.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[i.storeName],function(g,y){y.rows.length?s(g,p):Pt(g,i,function(){g.executeSql(n,f,u,s)},s)},s):s(v,p)},s)}function vn(t,i){var n=this;t=D(t);var f=new m(function(u,s){n.ready().then(function(){var v=n._dbInfo;v.db.transaction(function(p){ce(p,v,"SELECT * FROM "+v.storeName+" WHERE key = ? LIMIT 1",[t],function(g,y){var b=y.rows.length?y.rows.item(0).value:null;b&&(b=v.serializer.deserialize(b)),u(b)},function(g,y){s(y)})})}).catch(s)});return E(f,i),f}function pn(t,i){var n=this,f=new m(function(u,s){n.ready().then(function(){var v=n._dbInfo;v.db.transaction(function(p){ce(p,v,"SELECT * FROM "+v.storeName,[],function(g,y){for(var b=y.rows,$=b.length,C=0;C<$;C++){var L=b.item(C),B=L.value;if(B&&(B=v.serializer.deserialize(B)),B=t(B,L.key,C+1),B!==void 0){u(B);return}}u()},function(g,y){s(y)})})}).catch(s)});return E(f,i),f}function Lt(t,i,n,f){var u=this;t=D(t);var s=new m(function(v,p){u.ready().then(function(){i===void 0&&(i=null);var g=i,y=u._dbInfo;y.serializer.serialize(i,function(b,$){$?p($):y.db.transaction(function(C){ce(C,y,"INSERT OR REPLACE INTO "+y.storeName+" (key, value) VALUES (?, ?)",[t,b],function(){v(g)},function(L,B){p(B)})},function(C){if(C.code===C.QUOTA_ERR){if(f>0){v(Lt.apply(u,[t,g,n,f-1]));return}p(C)}})})}).catch(p)});return E(s,n),s}function gn(t,i,n){return Lt.apply(this,[t,i,n,1])}function yn(t,i){var n=this;t=D(t);var f=new m(function(u,s){n.ready().then(function(){var v=n._dbInfo;v.db.transaction(function(p){ce(p,v,"DELETE FROM "+v.storeName+" WHERE key = ?",[t],function(){u()},function(g,y){s(y)})})}).catch(s)});return E(f,i),f}function mn(t){var i=this,n=new m(function(f,u){i.ready().then(function(){var s=i._dbInfo;s.db.transaction(function(v){ce(v,s,"DELETE FROM "+s.storeName,[],function(){f()},function(p,g){u(g)})})}).catch(u)});return E(n,t),n}function bn(t){var i=this,n=new m(function(f,u){i.ready().then(function(){var s=i._dbInfo;s.db.transaction(function(v){ce(v,s,"SELECT COUNT(key) as c FROM "+s.storeName,[],function(p,g){var y=g.rows.item(0).c;f(y)},function(p,g){u(g)})})}).catch(u)});return E(n,t),n}function wn(t,i){var n=this,f=new m(function(u,s){n.ready().then(function(){var v=n._dbInfo;v.db.transaction(function(p){ce(p,v,"SELECT key FROM "+v.storeName+" WHERE id = ? LIMIT 1",[t+1],function(g,y){var b=y.rows.length?y.rows.item(0).key:null;u(b)},function(g,y){s(y)})})}).catch(s)});return E(f,i),f}function _n(t){var i=this,n=new m(function(f,u){i.ready().then(function(){var s=i._dbInfo;s.db.transaction(function(v){ce(v,s,"SELECT key FROM "+s.storeName,[],function(p,g){for(var y=[],b=0;b<g.rows.length;b++)y.push(g.rows.item(b).key);f(y)},function(p,g){u(g)})})}).catch(u)});return E(n,t),n}function Sn(t){return new m(function(i,n){t.transaction(function(f){f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(u,s){for(var v=[],p=0;p<s.rows.length;p++)v.push(s.rows.item(p).name);i({db:t,storeNames:v})},function(u,s){n(s)})},function(f){n(f)})})}function En(t,i){i=k.apply(this,arguments);var n=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var f=this,u;return t.name?u=new m(function(s){var v;t.name===n.name?v=f._dbInfo.db:v=openDatabase(t.name,"","",0),t.storeName?s({db:v,storeNames:[t.storeName]}):s(Sn(v))}).then(function(s){return new m(function(v,p){s.db.transaction(function(g){function y(L){return new m(function(B,z){g.executeSql("DROP TABLE IF EXISTS "+L,[],function(){B()},function(U,re){z(re)})})}for(var b=[],$=0,C=s.storeNames.length;$<C;$++)b.push(y(s.storeNames[$]));m.all(b).then(function(){v()}).catch(function(L){p(L)})},function(g){p(g)})})}):u=m.reject("Invalid arguments"),E(u,i),u}var xn={_driver:"webSQLStorage",_initStorage:hn,_support:un(),iterate:pn,getItem:vn,setItem:gn,removeItem:yn,clear:mn,length:bn,key:wn,keys:_n,dropInstance:En};function $n(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ot(t,i){var n=t.name+"/";return t.storeName!==i.storeName&&(n+=t.storeName+"/"),n}function An(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch{return!0}}function In(){return!An()||localStorage.length>0}function Cn(t){var i=this,n={};if(t)for(var f in t)n[f]=t[f];return n.keyPrefix=Ot(t,i._defaultConfig),In()?(i._dbInfo=n,n.serializer=rt,m.resolve()):m.reject()}function Rn(t){var i=this,n=i.ready().then(function(){for(var f=i._dbInfo.keyPrefix,u=localStorage.length-1;u>=0;u--){var s=localStorage.key(u);s.indexOf(f)===0&&localStorage.removeItem(s)}});return E(n,t),n}function Dn(t,i){var n=this;t=D(t);var f=n.ready().then(function(){var u=n._dbInfo,s=localStorage.getItem(u.keyPrefix+t);return s&&(s=u.serializer.deserialize(s)),s});return E(f,i),f}function Tn(t,i){var n=this,f=n.ready().then(function(){for(var u=n._dbInfo,s=u.keyPrefix,v=s.length,p=localStorage.length,g=1,y=0;y<p;y++){var b=localStorage.key(y);if(b.indexOf(s)===0){var $=localStorage.getItem(b);if($&&($=u.serializer.deserialize($)),$=t($,b.substring(v),g++),$!==void 0)return $}}});return E(f,i),f}function Nn(t,i){var n=this,f=n.ready().then(function(){var u=n._dbInfo,s;try{s=localStorage.key(t)}catch{s=null}return s&&(s=s.substring(u.keyPrefix.length)),s});return E(f,i),f}function Pn(t){var i=this,n=i.ready().then(function(){for(var f=i._dbInfo,u=localStorage.length,s=[],v=0;v<u;v++){var p=localStorage.key(v);p.indexOf(f.keyPrefix)===0&&s.push(p.substring(f.keyPrefix.length))}return s});return E(n,t),n}function Ln(t){var i=this,n=i.keys().then(function(f){return f.length});return E(n,t),n}function On(t,i){var n=this;t=D(t);var f=n.ready().then(function(){var u=n._dbInfo;localStorage.removeItem(u.keyPrefix+t)});return E(f,i),f}function Bn(t,i,n){var f=this;t=D(t);var u=f.ready().then(function(){i===void 0&&(i=null);var s=i;return new m(function(v,p){var g=f._dbInfo;g.serializer.serialize(i,function(y,b){if(b)p(b);else try{localStorage.setItem(g.keyPrefix+t,y),v(s)}catch($){($.name==="QuotaExceededError"||$.name==="NS_ERROR_DOM_QUOTA_REACHED")&&p($),p($)}})})});return E(u,n),u}function kn(t,i){if(i=k.apply(this,arguments),t=typeof t!="function"&&t||{},!t.name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var f=this,u;return t.name?u=new m(function(s){t.storeName?s(Ot(t,f._defaultConfig)):s(t.name+"/")}).then(function(s){for(var v=localStorage.length-1;v>=0;v--){var p=localStorage.key(v);p.indexOf(s)===0&&localStorage.removeItem(p)}}):u=m.reject("Invalid arguments"),E(u,i),u}var Mn={_driver:"localStorageWrapper",_initStorage:Cn,_support:$n(),iterate:Tn,getItem:Dn,setItem:Bn,removeItem:On,clear:Rn,length:Ln,key:Nn,keys:Pn,dropInstance:kn},Fn=function(i,n){return i===n||typeof i=="number"&&typeof n=="number"&&isNaN(i)&&isNaN(n)},Wn=function(i,n){for(var f=i.length,u=0;u<f;){if(Fn(i[u],n))return!0;u++}return!1},Bt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},Ie={},kt={},Ee={INDEXEDDB:fn,WEBSQL:xn,LOCALSTORAGE:Mn},Un=[Ee.INDEXEDDB._driver,Ee.WEBSQL._driver,Ee.LOCALSTORAGE._driver],Fe=["dropInstance"],ot=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Fe),Yn={description:"",driver:Un.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zn(t,i){t[i]=function(){var n=arguments;return t.ready().then(function(){return t[i].apply(t,n)})}}function it(){for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var n in i)i.hasOwnProperty(n)&&(Bt(i[n])?arguments[0][n]=i[n].slice():arguments[0][n]=i[n])}return arguments[0]}var jn=function(){function t(i){h(this,t);for(var n in Ee)if(Ee.hasOwnProperty(n)){var f=Ee[n],u=f._driver;this[n]=u,Ie[u]||this.defineDriver(f)}this._defaultConfig=it({},Yn),this._config=it({},this._defaultConfig,i),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(n){if((typeof n>"u"?"undefined":c(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var f in n){if(f==="storeName"&&(n[f]=n[f].replace(/\W/g,"_")),f==="version"&&typeof n[f]!="number")return new Error("Database version must be a number.");this._config[f]=n[f]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},t.prototype.defineDriver=function(n,f,u){var s=new m(function(v,p){try{var g=n._driver,y=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){p(y);return}for(var b=ot.concat("_initStorage"),$=0,C=b.length;$<C;$++){var L=b[$],B=!Wn(Fe,L);if((B||n[L])&&typeof n[L]!="function"){p(y);return}}var z=function(){for(var Ce=function(Kn){return function(){var Gn=new Error("Method "+Kn+" is not implemented by the current driver"),Mt=m.reject(Gn);return E(Mt,arguments[arguments.length-1]),Mt}},at=0,Hn=Fe.length;at<Hn;at++){var st=Fe[at];n[st]||(n[st]=Ce(st))}};z();var U=function(Ce){Ie[g]&&console.info("Redefining LocalForage driver: "+g),Ie[g]=n,kt[g]=Ce,v()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(U,p):U(!!n._support):U(!0)}catch(re){p(re)}});return A(s,f,u),s},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(n,f,u){var s=Ie[n]?m.resolve(Ie[n]):m.reject(new Error("Driver not found."));return A(s,f,u),s},t.prototype.getSerializer=function(n){var f=m.resolve(rt);return A(f,n),f},t.prototype.ready=function(n){var f=this,u=f._driverSet.then(function(){return f._ready===null&&(f._ready=f._initDriver()),f._ready});return A(u,n,n),u},t.prototype.setDriver=function(n,f,u){var s=this;Bt(n)||(n=[n]);var v=this._getSupportedDrivers(n);function p(){s._config.driver=s.driver()}function g($){return s._extend($),p(),s._ready=s._initStorage(s._config),s._ready}function y($){return function(){var C=0;function L(){for(;C<$.length;){var B=$[C];return C++,s._dbInfo=null,s._ready=null,s.getDriver(B).then(g).catch(L)}p();var z=new Error("No available storage method found.");return s._driverSet=m.reject(z),s._driverSet}return L()}}var b=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=b.then(function(){var $=v[0];return s._dbInfo=null,s._ready=null,s.getDriver($).then(function(C){s._driver=C._driver,p(),s._wrapLibraryMethodsWithReady(),s._initDriver=y(v)})}).catch(function(){p();var $=new Error("No available storage method found.");return s._driverSet=m.reject($),s._driverSet}),A(this._driverSet,f,u),this._driverSet},t.prototype.supports=function(n){return!!kt[n]},t.prototype._extend=function(n){it(this,n)},t.prototype._getSupportedDrivers=function(n){for(var f=[],u=0,s=n.length;u<s;u++){var v=n[u];this.supports(v)&&f.push(v)}return f},t.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,f=ot.length;n<f;n++)zn(this,ot[n])},t.prototype.createInstance=function(n){return new t(n)},t}(),Vn=new jn;a.exports=Vn},{3:3}]},{},[4])(4)})})(nn);var mr=nn.exports;const bt=yr(mr),[br,Ge]=G({show:!1,title:"",message:""});bt.config({name:"work-diary"});const[de,Qe]=G([]);function wr(){bt.getItem("diary").then(e=>{e&&Qe(JSON.parse(e))}).catch(e=>console.log(e))}function gt(){let e=JSON.stringify(de());bt.setItem("diary",e).catch(o=>console.log(o))}const _r=()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(de())),o=document.createElement("a");o.setAttribute("href",e),o.setAttribute("download","diary-export.json"),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)},Sr=e=>{let o=new FileReader;o.onload=r=>{try{let a=JSON.parse(r.target.result);Qe(a),gt()}catch(a){Ge({show:!0,title:"error importing file",message:e.name+" "+a})}},o.onerror=r=>{console.log(r),Ge({show:!0,title:"error",message:"error importing diary data"})},o.readAsText(e)};function rn(e){e=new Date(e);let o=e.getMonth()+1;o<10&&(o=`0${o}`);let r=e.getDate();return r<10&&(r=`0${r}`),`${r}.${o}.${e.getFullYear()}`}function Er(e){e=new Date(e);let o=e.getMonth()+1;o<10&&(o=`0${o}`);let r=e.getDate();return r<10&&(r=`0${r}`),`${e.getFullYear()}-${o}-${r}`}function xr(e){return e=new Date(e),Number(e)}const se=qn();function $r(e){const[o,r]=G(!1),[a,l]=G(null),[c,h]=G(!1),[d,x]=G(!1),[S,w]=G(!1),m=["Pflege","Pflanzen/Setzen","Ernten","Pflanzenschutz","Anzucht","Umgebungsarbeiten","Anderes"];return K(se.Provider,{value:{showEditor:o,setShowEditor:r,openToEdit:a,setOpenToEdit:l,deleteHot:c,setDeleteHot:h,showMenu:d,setShowMenu:x,categorys:m,toastMessage:br,setToastMessage:Ge,showReport:S,setShowReport:w},get children(){return e.children}})}var Ar=ie('<article><header><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><button class="icon-button outline"><i class="fa-solid fa-trash-can"></i> </button></header><h6></h6><p></p><footer><div class=diary-grid-1><label><input type=checkbox>done</label><p></p><p><i class="fa-regular fa-clock"></i><mark> minutes');function Ir(e){const{setOpenToEdit:o,deleteHot:r}=ve(se);return(()=>{var a=Ar(),l=a.firstChild,c=l.firstChild,h=c.nextSibling,d=h.firstChild,x=l.nextSibling,S=x.nextSibling,w=S.nextSibling,m=w.firstChild,E=m.firstChild,A=E.firstChild,D=E.nextSibling,k=D.nextSibling,N=k.firstChild,M=N.nextSibling,R=M.firstChild;return c.$$click=()=>o(e.entry.id),h.$$click=()=>e.deleteEntry(e.entry.id),X(x,()=>e.entry.category),S.style.setProperty("white-space","pre-wrap"),X(S,()=>e.entry.work),X(D,()=>rn(e.entry.date)),N.style.setProperty("font-size","1.3rem"),X(M,()=>e.entry.duration,R),J(()=>(r()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)")!=null?d.style.setProperty("color",r()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)"):d.style.removeProperty("color")),J(()=>A.checked=e.entry.done),a})()}we(["click"]);var Cr=ie('<button class="float primary"id=floating-button><i class="fa-solid fa-plus fa-2xl float-icon">');function Rr(e){const{showEditor:o,setShowEditor:r,showReport:a}=ve(se),[l,c]=G();return Ae(()=>{setInterval(()=>{c(!0),setTimeout(()=>c(!1),400)},7e3)}),K(ar,{get when(){return!a()},get children(){var h=Cr();return h.$$click=()=>r(!o()),J(()=>Re(h,"buzz",l())),h}})}we(["click"]);var Dr=ie('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-floppy-disk"></i></button><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><label><input type=checkbox>done</label><textarea rows=5 cols=40 placeholder="describe work"></textarea><input type=date><label for=duration>duration <mark></mark></label><input type=range id=duration min=0 max=240 step=5><fieldset><legend>Kategorie'),Tr=ie("<label><input type=radio name=category on>");let ut;function Nr(e){const{showEditor:o,setShowEditor:r,openToEdit:a,setOpenToEdit:l,categorys:c}=ve(se),h=P=>{o()&&(ut.contains(P.target)||r(!1))};Ae(()=>{document.addEventListener("click",h,!0)}),yt(()=>{document.removeEventListener("click",h,!0)}),me(()=>{o()&&x({id:Date.now(),date:Date.now(),work:"",category:"Pflege",done:!0,duration:10}),a()!==null?d(a()):x({id:Date.now(),date:Date.now(),work:"",category:"Pflege",done:!0,duration:10})});const d=P=>{const H=de().find(Q=>Q.id===P);console.log("from Editor",P),x(H)},x=P=>{O(P.id),N(P.done),E(P.work),D(P.date),W(P.category),R(P.duration)};let S,w;const[m,E]=G(""),[A,D]=G(Date.now()),[k,N]=G(!1),[M,R]=G(10),[Y,W]=G("Pflege"),[_,T]=G(!1),[I,O]=G(Date.now()),V=()=>{if(m().length<1){T(!0);return}let P={id:I(),work:m(),date:A(),done:k(),duration:M(),category:Y()};e.saveNewEntry(P),r(!1)};return me(dt(()=>m(),()=>T(!1))),(()=>{var P=Dr(),H=P.firstChild,Q=H.firstChild,ne=Q.firstChild,pe=ne.nextSibling,ge=Q.nextSibling,_e=ge.firstChild,Z=ge.nextSibling,Se=Z.nextSibling,Pe=Se.nextSibling,qe=Pe.firstChild,oe=qe.nextSibling,fe=Pe.nextSibling,Le=fe.nextSibling;Le.firstChild;var Oe=ut;typeof Oe=="function"?$e(Oe,H):ut=H,ne.$$click=()=>V(),pe.$$click=()=>r(!1),_e.addEventListener("change",()=>N(!k())),Z.$$input=()=>E(S.value);var Be=S;typeof Be=="function"?$e(Be,Z):S=Z,Se.addEventListener("change",ee=>D(xr(ee.target.value))),X(oe,M),fe.$$input=()=>R(w.value);var ke=w;return typeof ke=="function"?$e(ke,fe):w=fe,X(Le,K(en,{each:c,children:ee=>(()=>{var ue=Tr(),ye=ue.firstChild;return ye.addEventListener("change",()=>W(ee)),X(ue,ee,null),J(()=>ye.checked=ee===Y()),ue})()}),null),J(ee=>{var ue=o(),ye=_();return ue!==ee.e&&Re(P,"open",ee.e=ue),ye!==ee.t&&Re(Z,"aria-invalid",ee.t=ye),ee},{e:void 0,t:void 0}),J(()=>_e.checked=k()),J(()=>Z.value=m()),J(()=>Se.value=Er(A())),J(()=>fe.value=M()),P})()}we(["click","input"]);var Pr=ie("<canvas height=600 id=report-canvas>");function Lr(e){let o,r;Ae(()=>{console.log("mountex"),o.width=window.innerWidth*.85,o.height=35+35+e.report.totalLines*22+20+Object.keys(e.report.report).length*22,r=o.getContext("2d"),r.fillStyle="white",r.fillRect(0,0,o.width,o.height),r.fillStyle="black",console.log("canvas registered...")}),console.log(e.report);let a=0;function l(h,d){r.font='900 17px "Font Awesome 6 Free"',r.fillText("ï…Š",10,d)}function c(h){console.log(h.work),l(10,a),r.font="15px system-ui";for(let d of h.work)d.length&&(r.fillText(d,35,a),a+=22)}return me(()=>{let h=e.report;if(a=20,h){r.font="20px system-ui",r.fillText("Work Report",10,a),a+=35,r.fillText("Zeitaufwand in Periode: "+h.totalTime,10,a),a+=35,r.font="15px system-ui";for(let d in h.report){r.fillText(d,10,a),r.fillText(h.report[d].duration+" min",120,a),a+=22;for(let x of h.report[d].works)c(x)}}}),(()=>{var h=Pr(),d=o;return typeof d=="function"?$e(d,h):o=h,h})()}var Or=ie("<article><header>Work Report can share: </header><footer><button>close Report</button><button>share report</button><p>");const[Br,jt]=G("");function kr(){let e=0;de().forEach(r=>{e+=Number(r.duration)});let o={};return o.totalTime=`${e} min`,o.totalLines=0,o.report={},de().forEach(r=>{let a=rn(r.date);a in o.report||(o.report[a]={works:[],duration:0}),o.report[a].duration+=Number(r.duration);let l=r.work.split(`
`);l=l.filter(c=>c.length>0),o.totalLines+=l.length,o.report[a].works.push({date:a,duration:r.duration,work:l,category:r.category})}),o}function Mr(e,o){for(var r=e.split(","),a=r[0].match(/:(.*?);/)[1],l=atob(r[r.length-1]),c=l.length,h=new Uint8Array(c);c--;)h[c]=l.charCodeAt(c);return new File([h],o,{type:a})}function Fr(){var e=document.querySelector("#report-canvas");const o=e.toDataURL("image/png"),r=Mr(o,"report.png");console.log(navigator.canShare()),jt("pending"),navigator.share({title:"Work Report",text:"hier ist der neuste Arbeitsraport",files:[r]}).then(()=>{jt("shared successfully")}).catch(a=>Ge({show:!0,title:"error while sharing report ",message:a}))}function Wr(){const{showReport:e,setShowReport:o}=ve(se);return(()=>{var r=Or(),a=r.firstChild;a.firstChild;var l=a.nextSibling,c=l.firstChild,h=c.nextSibling,d=h.nextSibling;return r.style.setProperty("min-height","100vh"),r.style.setProperty("height","100vh"),X(a,()=>navigator.canShare()?"yes":"no",null),X(r,K(Lr,{get report(){return kr()}}),l),c.$$click=()=>o(!1),h.$$click=()=>Fr(),X(d,()=>Br()||" "),r})()}we(["click"]);var Ur=ie("<div>");function Yr(){const{showEditor:e,setShowEditor:o,openToEdit:r,setOpenToEdit:a,deleteHot:l,setDeleteHot:c,showReport:h}=ve(se);Ae(async()=>{wr()});const d=async S=>{Qe([S,...de().filter(w=>w.id!==S.id)]),gt()},x=async S=>{if(l()===!1){c(S),setTimeout(()=>c(!1),2e3);return}l()===S?(Qe(de().filter(w=>w.id!==S)),gt()):c(S)};return me(dt(()=>r(),()=>{r()!==null&&o(!0)})),me(dt(()=>e(),()=>{e()===!1&&a(null)})),(()=>{var S=Ur();return X(S,K(Rr,{}),null),X(S,K(Nr,{saveNewEntry:d}),null),X(S,K(sr,{get children(){return[K(Wt,{get when(){return!h()},get children(){return K(en,{get each(){return de()},children:w=>K(Ir,{entry:w,deleteEntry:x})})}}),K(Wt,{get when(){return h()},get children(){return K(Wr,{})}})]}}),null),S})()}var zr=ie('<nav><ul><li><h2><i class="fa-solid fa-person-digging"></i></h2></li></ul><ul><li><h2>Work Diary</h2></li></ul><ul><li><button>Menu');function jr(){const{showMenu:e,setShowMenu:o}=ve(se);return(()=>{var r=zr(),a=r.firstChild,l=a.nextSibling,c=l.nextSibling,h=c.firstChild,d=h.firstChild;return d.$$click=()=>o(!e()),r})()}we(["click"]);var Vr=ie('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><button>generate Report</button><h6>export Data</h6><p>exports current data to your device<br>this can serve as an update</p><button>export Diary</button><hr><h6>import diary data</h6><p><mark>Caution!</mark> Existing data will be overwritten.</p><input type=file><button>import Diary');let lt,ct;function Hr(e){const{showMenu:o,setShowMenu:r,showReport:a,setShowReport:l}=ve(se),c=h=>{o()&&(lt.contains(h.target)||r(!1))};return Ae(()=>{document.addEventListener("click",c,!0)}),yt(()=>{document.removeEventListener("click",c,!0)}),(()=>{var h=Vr(),d=h.firstChild,x=d.firstChild,S=x.firstChild,w=x.nextSibling,m=w.nextSibling,E=m.nextSibling,A=E.nextSibling,D=A.nextSibling,k=D.nextSibling,N=k.nextSibling,M=N.nextSibling,R=M.nextSibling,Y=lt;typeof Y=="function"?$e(Y,d):lt=d,S.$$click=()=>r(!1),w.$$click=()=>{l(!0),r(!1)},A.$$click=()=>{_r(),r(!1)};var W=ct;return typeof W=="function"?$e(W,M):ct=M,R.$$click=()=>{Sr(ct.files[0]),r(!1)},R.style.setProperty("background-color","var(--pico-del-color)"),J(()=>Re(h,"open",o())),h})()}we(["click"]);var Kr=ie("<div id=toast><h3></h3><p>");function Gr(){const{toastMessage:e,setToastMessage:o}=ve(se);return me(()=>{e().show&&setTimeout(()=>o(r=>({title:r.title,message:r.message,show:!1})),3e3)}),(()=>{var r=Kr(),a=r.firstChild,l=a.nextSibling;return X(a,()=>e().title),X(l,()=>e().message),J(()=>Re(r,"open",e().show)),r})()}var Qr=ie("<div class=card><dialog><h4>Like to get Notified?</h4><button>activate notifications");function Jr(){const[e,o]=G(!1);return Ae(async()=>{vr(),await pr()||o(!0)}),[K(jr,{}),K(Hr,{}),K(Gr,{}),(()=>{var r=Qr(),a=r.firstChild,l=a.firstChild,c=l.nextSibling;return c.$$click=()=>{gr(),o(!1)},J(()=>a.open=e()),r})(),K(Yr,{})]}we(["click"]);const Xr=document.getElementById("root");ur(()=>K($r,{get children(){return K(Jr,{})}}),Xr);
