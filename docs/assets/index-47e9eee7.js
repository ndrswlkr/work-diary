(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();const Br=(e,t)=>e===t,We=Symbol("solid-proxy"),tn=Symbol("solid-track"),Et={equals:Br};let Tn=On;const Oe=1,Ct=2,Rn={owned:null,cleanups:null,context:null,owner:null};var J=null;let Kt=null,Or=null,Q=null,se=null,Te=null,Lt=0;function xt(e,t){const n=Q,i=J,a=e.length===0,l=t===void 0?i:t,c=a?Rn:{owned:null,cleanups:null,context:l?l.context:null,owner:l},h=a?e:()=>e(()=>me(()=>Ft(c)));J=c,Q=null;try{return Qe(h,!0)}finally{Q=n,J=i}}function B(e,t){t=t?Object.assign({},Et,t):Et;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=a=>(typeof a=="function"&&(a=a(n.value)),Bn(n,a));return[Pn.bind(n),i]}function U(e,t,n){const i=dn(e,t,!1,Oe);gt(i)}function pe(e,t,n){Tn=Ur;const i=dn(e,t,!1,Oe);(!n||!n.render)&&(i.user=!0),Te?Te.push(i):gt(i)}function Ue(e,t,n){n=n?Object.assign({},Et,n):Et;const i=dn(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,gt(i),Pn.bind(i)}function Lr(e){return Qe(e,!1)}function me(e){if(Q===null)return e();const t=Q;Q=null;try{return e()}finally{Q=t}}function ut(e,t,n){const i=Array.isArray(e);let a,l=n&&n.defer;return c=>{let h;if(i){h=Array(e.length);for(let _=0;_<e.length;_++)h[_]=e[_]()}else h=e();if(l)return l=!1,c;const g=me(()=>t(h,a,c));return a=h,g}}function Re(e){pe(()=>me(e))}function Mt(e){return J===null||(J.cleanups===null?J.cleanups=[e]:J.cleanups.push(e)),e}function nn(){return Q}function Mr(e,t){const n=Symbol("context");return{id:n,Provider:Yr(n),defaultValue:e}}function fe(e){return J&&J.context&&J.context[e.id]!==void 0?J.context[e.id]:e.defaultValue}function kn(e){const t=Ue(e),n=Ue(()=>rn(t()));return n.toArray=()=>{const i=n();return Array.isArray(i)?i:i!=null?[i]:[]},n}function Pn(){if(this.sources&&this.state)if(this.state===Oe)gt(this);else{const e=se;se=null,Qe(()=>Dt(this),!1),se=e}if(Q){const e=this.observers?this.observers.length:0;Q.sources?(Q.sources.push(this),Q.sourceSlots.push(e)):(Q.sources=[this],Q.sourceSlots=[e]),this.observers?(this.observers.push(Q),this.observerSlots.push(Q.sources.length-1)):(this.observers=[Q],this.observerSlots=[Q.sources.length-1])}return this.value}function Bn(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&Qe(()=>{for(let a=0;a<e.observers.length;a+=1){const l=e.observers[a],c=Kt&&Kt.running;c&&Kt.disposed.has(l),(c?!l.tState:!l.state)&&(l.pure?se.push(l):Te.push(l),l.observers&&Ln(l)),c||(l.state=Oe)}if(se.length>1e6)throw se=[],new Error},!1)),t}function gt(e){if(!e.fn)return;Ft(e);const t=Lt;Fr(e,e.value,t)}function Fr(e,t,n){let i;const a=J,l=Q;Q=J=e;try{i=e.fn(t)}catch(c){return e.pure&&(e.state=Oe,e.owned&&e.owned.forEach(Ft),e.owned=null),e.updatedAt=n+1,Mn(c)}finally{Q=l,J=a}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Bn(e,i):e.value=i,e.updatedAt=n)}function dn(e,t,n,i=Oe,a){const l={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:J,context:J?J.context:null,pure:n};return J===null||J!==Rn&&(J.owned?J.owned.push(l):J.owned=[l]),l}function At(e){if(e.state===0)return;if(e.state===Ct)return Dt(e);if(e.suspense&&me(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Lt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Oe)gt(e);else if(e.state===Ct){const i=se;se=null,Qe(()=>Dt(e,t[0]),!1),se=i}}function Qe(e,t){if(se)return e();let n=!1;t||(se=[]),Te?n=!0:Te=[],Lt++;try{const i=e();return Wr(n),i}catch(i){n||(Te=null),se=null,Mn(i)}}function Wr(e){if(se&&(On(se),se=null),e)return;const t=Te;Te=null,t.length&&Qe(()=>Tn(t),!1)}function On(e){for(let t=0;t<e.length;t++)At(e[t])}function Ur(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:At(i)}for(t=0;t<n;t++)At(e[t])}function Dt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const a=i.state;a===Oe?i!==t&&(!i.updatedAt||i.updatedAt<Lt)&&At(i):a===Ct&&Dt(i,t)}}}function Ln(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ct,n.pure?se.push(n):Te.push(n),n.observers&&Ln(n))}}function Ft(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),a=n.observers;if(a&&a.length){const l=a.pop(),c=n.observerSlots.pop();i<a.length&&(l.sourceSlots[c]=i,a[i]=l,n.observerSlots[i]=c)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ft(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Gr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Mn(e,t=J){throw Gr(e)}function rn(e){if(typeof e=="function"&&!e.length)return rn(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const i=rn(e[n]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return t}return e}function Yr(e,t){return function(i){let a;return U(()=>a=me(()=>(J.context={...J.context,[e]:i.value},kn(()=>i.children))),void 0),a}}const zr=Symbol("fallback");function $n(e){for(let t=0;t<e.length;t++)e[t]()}function jr(e,t,n={}){let i=[],a=[],l=[],c=0,h=t.length>1?[]:null;return Mt(()=>$n(l)),()=>{let g=e()||[],_,y;return g[tn],me(()=>{let m=g.length,E,D,k,T,R,C,F,O,b;if(m===0)c!==0&&($n(l),l=[],i=[],a=[],c=0,h&&(h=[])),n.fallback&&(i=[zr],a[0]=xt(N=>(l[0]=N,n.fallback())),c=1);else if(c===0){for(a=new Array(m),y=0;y<m;y++)i[y]=g[y],a[y]=xt(v);c=m}else{for(k=new Array(m),T=new Array(m),h&&(R=new Array(m)),C=0,F=Math.min(c,m);C<F&&i[C]===g[C];C++);for(F=c-1,O=m-1;F>=C&&O>=C&&i[F]===g[O];F--,O--)k[O]=a[F],T[O]=l[F],h&&(R[O]=h[F]);for(E=new Map,D=new Array(O+1),y=O;y>=C;y--)b=g[y],_=E.get(b),D[y]=_===void 0?-1:_,E.set(b,y);for(_=C;_<=F;_++)b=i[_],y=E.get(b),y!==void 0&&y!==-1?(k[y]=a[_],T[y]=l[_],h&&(R[y]=h[_]),y=D[y],E.set(b,y)):l[_]();for(y=C;y<m;y++)y in k?(a[y]=k[y],l[y]=T[y],h&&(h[y]=R[y],h[y](y))):a[y]=xt(v);a=a.slice(0,c=m),i=g.slice(0)}return a});function v(m){if(l[y]=m,h){const[E,D]=B(y);return h[y]=D,t(g[y],E)}return t(g[y])}}}function Y(e,t){return me(()=>e(t||{}))}const Fn=e=>`Stale read from <${e}>.`;function Ge(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Ue(jr(()=>e.each,e.children,t||void 0))}function Wn(e){const t=e.keyed,n=Ue(()=>e.when,void 0,{equals:(i,a)=>t?i===a:!i==!a});return Ue(()=>{const i=n();if(i){const a=e.children;return typeof a=="function"&&a.length>0?me(()=>a(t?i:()=>{if(!me(n))throw Fn("Show");return e.when})):a}return e.fallback},void 0,void 0)}function Hr(e){let t=!1;const n=(l,c)=>(t?l[1]===c[1]:!l[1]==!c[1])&&l[2]===c[2],i=kn(()=>e.children),a=Ue(()=>{let l=i();Array.isArray(l)||(l=[l]);for(let c=0;c<l.length;c++){const h=l[c].when;if(h)return t=!!l[c].keyed,[c,h,l[c]]}return[-1]},void 0,{equals:n});return Ue(()=>{const[l,c,h]=a();if(l<0)return e.fallback;const g=h.children;return typeof g=="function"&&g.length>0?me(()=>g(t?c:()=>{if(me(a)[0]!==l)throw Fn("Match");return h.when})):g},void 0,void 0)}function Sn(e){return e}function Vr(e,t,n){let i=n.length,a=t.length,l=i,c=0,h=0,g=t[a-1].nextSibling,_=null;for(;c<a||h<l;){if(t[c]===n[h]){c++,h++;continue}for(;t[a-1]===n[l-1];)a--,l--;if(a===c){const y=l<i?h?n[h-1].nextSibling:n[l-h]:g;for(;h<l;)e.insertBefore(n[h++],y)}else if(l===h)for(;c<a;)(!_||!_.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[l-1]&&n[h]===t[a-1]){const y=t[--a].nextSibling;e.insertBefore(n[h++],t[c++].nextSibling),e.insertBefore(n[--l],y),t[a]=n[l]}else{if(!_){_=new Map;let v=h;for(;v<l;)_.set(n[v],v++)}const y=_.get(t[c]);if(y!=null)if(h<y&&y<l){let v=c,m=1,E;for(;++v<a&&v<l&&!((E=_.get(t[v]))==null||E!==y+m);)m++;if(m>y-h){const D=t[c];for(;h<y;)e.insertBefore(n[h++],D)}else e.replaceChild(n[h++],t[c++])}else c++;else t[c++].remove()}}}const xn="_$DX_DELEGATE";function Kr(e,t,n,i={}){let a;return xt(l=>{a=l,t===document?e():W(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{a(),t.textContent=""}}function X(e,t,n){let i;const a=()=>{const c=document.createElement("template");return c.innerHTML=e,n?c.content.firstChild.firstChild:c.content.firstChild},l=t?()=>me(()=>document.importNode(i||(i=a()),!0)):()=>(i||(i=a())).cloneNode(!0);return l.cloneNode=l,l}function we(e,t=window.document){const n=t[xn]||(t[xn]=new Set);for(let i=0,a=e.length;i<a;i++){const l=e[i];n.has(l)||(n.add(l),t.addEventListener(l,qr))}}function ye(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Jr(e,t){t==null?e.removeAttribute("class"):e.className=t}function ie(e,t,n){return me(()=>e(t,n))}function W(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return It(e,t,i,n);U(a=>It(e,t(),a,n),i)}function qr(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const i=n[t];if(i&&!n.disabled){const a=n[`${t}Data`];if(a!==void 0?i.call(n,a,e):i.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function It(e,t,n,i,a){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,c=i!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),c){let h=n[0];h&&h.nodeType===3?h.data!==t&&(h.data=t):h=document.createTextNode(t),n=Je(e,n,i,h)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||l==="boolean")n=Je(e,n,i);else{if(l==="function")return U(()=>{let h=t();for(;typeof h=="function";)h=h();n=It(e,h,n,i)}),()=>n;if(Array.isArray(t)){const h=[],g=n&&Array.isArray(n);if(on(h,t,n,a))return U(()=>n=It(e,h,n,i,!0)),()=>n;if(h.length===0){if(n=Je(e,n,i),c)return n}else g?n.length===0?En(e,h,i):Vr(e,n,h):(n&&Je(e),En(e,h));n=h}else if(t.nodeType){if(Array.isArray(n)){if(c)return n=Je(e,n,i,t);Je(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function on(e,t,n,i){let a=!1;for(let l=0,c=t.length;l<c;l++){let h=t[l],g=n&&n[e.length],_;if(!(h==null||h===!0||h===!1))if((_=typeof h)=="object"&&h.nodeType)e.push(h);else if(Array.isArray(h))a=on(e,h,g)||a;else if(_==="function")if(i){for(;typeof h=="function";)h=h();a=on(e,Array.isArray(h)?h:[h],Array.isArray(g)?g:[g])||a}else e.push(h),a=!0;else{const y=String(h);g&&g.nodeType===3&&g.data===y?e.push(g):e.push(document.createTextNode(y))}}return a}function En(e,t,n=null){for(let i=0,a=t.length;i<a;i++)e.insertBefore(t[i],n)}function Je(e,t,n,i){if(n===void 0)return e.textContent="";const a=i||document.createTextNode("");if(t.length){let l=!1;for(let c=t.length-1;c>=0;c--){const h=t[c];if(a!==h){const g=h.parentNode===e;!l&&!c?g?e.replaceChild(a,h):e.insertBefore(a,n):g&&h.remove()}else l=!0}}else e.insertBefore(a,n);return[a]}var Qr=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},an;typeof window<"u"&&(typeof Promise<"u"?an=new Promise(function(e){return window.addEventListener("load",e)}):an={then:function(e){return window.addEventListener("load",e)}});function Xr(e,t){t===void 0&&(t={});var n=t.registrationOptions;n===void 0&&(n={}),delete t.registrationOptions;var i=function(a){for(var l=[],c=arguments.length-1;c-- >0;)l[c]=arguments[c+1];t&&t[a]&&t[a].apply(t,l)};"serviceWorker"in navigator&&an.then(function(){Qr()?(Zr(e,i,n),navigator.serviceWorker.ready.then(function(a){i("ready",a)}).catch(function(a){return ct(i,a)})):(Un(e,i,n),navigator.serviceWorker.ready.then(function(a){i("ready",a)}).catch(function(a){return ct(i,a)}))})}function ct(e,t){navigator.onLine||e("offline"),e("error",t)}function Un(e,t,n){navigator.serviceWorker.register(e,n).then(function(i){if(t("registered",i),i.waiting){t("updated",i);return}i.onupdatefound=function(){t("updatefound",i);var a=i.installing;a.onstatechange=function(){a.state==="installed"&&(navigator.serviceWorker.controller?t("updated",i):t("cached",i))}}}).catch(function(i){return ct(t,i)})}function Zr(e,t,n){fetch(e).then(function(i){i.status===404?(t("error",new Error("Service worker not found at "+e)),Cn()):i.headers.get("content-type").indexOf("javascript")===-1?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+i.headers.get("content-type"))),Cn()):Un(e,t,n)}).catch(function(i){return ct(t,i)})}function Cn(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return ct(emit,e)})}function ei(){Xr("/work-diary/serviceworker.js")}const ti=async()=>Notification.permission==="granted",ni=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};function ri(e={}){window.navigator.serviceWorker.ready.then(t=>{t.active.postMessage({type:"message",body:{text:"start",data:e}})})}var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ii(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $t(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(i,a,l){function c(_,y){if(!a[_]){if(!i[_]){var v=typeof $t=="function"&&$t;if(!y&&v)return v(_,!0);if(h)return h(_,!0);var m=new Error("Cannot find module '"+_+"'");throw m.code="MODULE_NOT_FOUND",m}var E=a[_]={exports:{}};i[_][0].call(E.exports,function(D){var k=i[_][1][D];return c(k||D)},E,E.exports,n,i,a,l)}return a[_].exports}for(var h=typeof $t=="function"&&$t,g=0;g<l.length;g++)c(l[g]);return c}({1:[function(n,i,a){(function(l){var c=l.MutationObserver||l.WebKitMutationObserver,h;if(c){var g=0,_=new c(D),y=l.document.createTextNode("");_.observe(y,{characterData:!0}),h=function(){y.data=g=++g%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var v=new l.MessageChannel;v.port1.onmessage=D,h=function(){v.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?h=function(){var T=l.document.createElement("script");T.onreadystatechange=function(){D(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},l.document.documentElement.appendChild(T)}:h=function(){setTimeout(D,0)};var m,E=[];function D(){m=!0;for(var T,R,C=E.length;C;){for(R=E,E=[],T=-1;++T<C;)R[T]();C=E.length}m=!1}i.exports=k;function k(T){E.push(T)===1&&!m&&h()}}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,a){var l=n(1);function c(){}var h={},g=["REJECTED"],_=["FULFILLED"],y=["PENDING"];i.exports=v;function v(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,b!==c&&k(this,b)}v.prototype.catch=function(b){return this.then(null,b)},v.prototype.then=function(b,N){if(typeof b!="function"&&this.state===_||typeof N!="function"&&this.state===g)return this;var I=new this.constructor(c);if(this.state!==y){var P=this.state===_?b:N;E(I,P,this.outcome)}else this.queue.push(new m(I,b,N));return I};function m(b,N,I){this.promise=b,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(b){h.resolve(this.promise,b)},m.prototype.otherCallFulfilled=function(b){E(this.promise,this.onFulfilled,b)},m.prototype.callRejected=function(b){h.reject(this.promise,b)},m.prototype.otherCallRejected=function(b){E(this.promise,this.onRejected,b)};function E(b,N,I){l(function(){var P;try{P=N(I)}catch(j){return h.reject(b,j)}P===b?h.reject(b,new TypeError("Cannot resolve promise with itself")):h.resolve(b,P)})}h.resolve=function(b,N){var I=T(D,N);if(I.status==="error")return h.reject(b,I.value);var P=I.value;if(P)k(b,P);else{b.state=_,b.outcome=N;for(var j=-1,H=b.queue.length;++j<H;)b.queue[j].callFulfilled(N)}return b},h.reject=function(b,N){b.state=g,b.outcome=N;for(var I=-1,P=b.queue.length;++I<P;)b.queue[I].callRejected(N);return b};function D(b){var N=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof N=="function")return function(){N.apply(b,arguments)}}function k(b,N){var I=!1;function P(V){I||(I=!0,h.reject(b,V))}function j(V){I||(I=!0,h.resolve(b,V))}function H(){N(j,P)}var Z=T(H);Z.status==="error"&&P(Z.value)}function T(b,N){var I={};try{I.value=b(N),I.status="success"}catch(P){I.status="error",I.value=P}return I}v.resolve=R;function R(b){return b instanceof this?b:h.resolve(new this(c),b)}v.reject=C;function C(b){var N=new this(c);return h.reject(N,b)}v.all=F;function F(b){var N=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=b.length,P=!1;if(!I)return this.resolve([]);for(var j=new Array(I),H=0,Z=-1,V=new this(c);++Z<I;)oe(b[Z],Z);return V;function oe(de,_e){N.resolve(de).then(ae,function(he){P||(P=!0,h.reject(V,he))});function ae(he){j[_e]=he,++H===I&&!P&&(P=!0,h.resolve(V,j))}}}v.race=O;function O(b){var N=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=b.length,P=!1;if(!I)return this.resolve([]);for(var j=-1,H=new this(c);++j<I;)Z(b[j]);return H;function Z(V){N.resolve(V).then(function(oe){P||(P=!0,h.resolve(H,oe))},function(oe){P||(P=!0,h.reject(H,oe))})}}},{1:1}],3:[function(n,i,a){(function(l){typeof l.Promise!="function"&&(l.Promise=n(2))}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,a){var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function c(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var g=h();function _(){try{if(!g||!g.open)return!1;var r=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),s=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!r||s)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function y(r,s){r=r||[],s=s||{};try{return new Blob(r,s)}catch(u){if(u.name!=="TypeError")throw u;for(var o=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,f=new o,d=0;d<r.length;d+=1)f.append(r[d]);return f.getBlob(s.type)}}typeof Promise>"u"&&n(3);var v=Promise;function m(r,s){s&&r.then(function(o){s(null,o)},function(o){s(o)})}function E(r,s,o){typeof s=="function"&&r.then(s),typeof o=="function"&&r.catch(o)}function D(r){return typeof r!="string"&&(console.warn(r+" used as a key, but it is not a string."),r=String(r)),r}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var T="local-forage-detect-blob-support",R=void 0,C={},F=Object.prototype.toString,O="readonly",b="readwrite";function N(r){for(var s=r.length,o=new ArrayBuffer(s),f=new Uint8Array(o),d=0;d<s;d++)f[d]=r.charCodeAt(d);return o}function I(r){return new v(function(s){var o=r.transaction(T,b),f=y([""]);o.objectStore(T).put(f,"key"),o.onabort=function(d){d.preventDefault(),d.stopPropagation(),s(!1)},o.oncomplete=function(){var d=navigator.userAgent.match(/Chrome\/(\d+)/),u=navigator.userAgent.match(/Edge\//);s(u||!d||parseInt(d[1],10)>=43)}}).catch(function(){return!1})}function P(r){return typeof R=="boolean"?v.resolve(R):I(r).then(function(s){return R=s,R})}function j(r){var s=C[r.name],o={};o.promise=new v(function(f,d){o.resolve=f,o.reject=d}),s.deferredOperations.push(o),s.dbReady?s.dbReady=s.dbReady.then(function(){return o.promise}):s.dbReady=o.promise}function H(r){var s=C[r.name],o=s.deferredOperations.pop();if(o)return o.resolve(),o.promise}function Z(r,s){var o=C[r.name],f=o.deferredOperations.pop();if(f)return f.reject(s),f.promise}function V(r,s){return new v(function(o,f){if(C[r.name]=C[r.name]||xe(),r.db)if(s)j(r),r.db.close();else return o(r.db);var d=[r.name];s&&d.push(r.version);var u=g.open.apply(g,d);s&&(u.onupgradeneeded=function(p){var w=u.result;try{w.createObjectStore(r.storeName),p.oldVersion<=1&&w.createObjectStore(T)}catch($){if($.name==="ConstraintError")console.warn('The database "'+r.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+r.storeName+'" already exists.');else throw $}}),u.onerror=function(p){p.preventDefault(),f(u.error)},u.onsuccess=function(){var p=u.result;p.onversionchange=function(w){w.target.close()},o(p),H(r)}})}function oe(r){return V(r,!1)}function de(r){return V(r,!0)}function _e(r,s){if(!r.db)return!0;var o=!r.db.objectStoreNames.contains(r.storeName),f=r.version<r.db.version,d=r.version>r.db.version;if(f&&(r.version!==s&&console.warn('The database "'+r.name+`" can't be downgraded from version `+r.db.version+" to version "+r.version+"."),r.version=r.db.version),d||o){if(o){var u=r.db.version+1;u>r.version&&(r.version=u)}return!0}return!1}function ae(r){return new v(function(s,o){var f=new FileReader;f.onerror=o,f.onloadend=function(d){var u=btoa(d.target.result||"");s({__local_forage_encoded_blob:!0,data:u,type:r.type})},f.readAsBinaryString(r)})}function he(r){var s=N(atob(r.data));return y([s],{type:r.type})}function $e(r){return r&&r.__local_forage_encoded_blob}function De(r){var s=this,o=s._initReady().then(function(){var f=C[s._dbInfo.name];if(f&&f.dbReady)return f.dbReady});return E(o,r,r),o}function Se(r){j(r);for(var s=C[r.name],o=s.forages,f=0;f<o.length;f++){var d=o[f];d._dbInfo.db&&(d._dbInfo.db.close(),d._dbInfo.db=null)}return r.db=null,oe(r).then(function(u){return r.db=u,_e(r)?de(r):u}).then(function(u){r.db=s.db=u;for(var p=0;p<o.length;p++)o[p]._dbInfo.db=u}).catch(function(u){throw Z(r,u),u})}function te(r,s,o,f){f===void 0&&(f=1);try{var d=r.db.transaction(r.storeName,s);o(null,d)}catch(u){if(f>0&&(!r.db||u.name==="InvalidStateError"||u.name==="NotFoundError"))return v.resolve().then(function(){if(!r.db||u.name==="NotFoundError"&&!r.db.objectStoreNames.contains(r.storeName)&&r.version<=r.db.version)return r.db&&(r.version=r.db.version+1),de(r)}).then(function(){return Se(r).then(function(){te(r,s,o,f-1)})}).catch(o);o(u)}}function xe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function M(r){var s=this,o={db:null};if(r)for(var f in r)o[f]=r[f];var d=C[o.name];d||(d=xe(),C[o.name]=d),d.forages.push(s),s._initReady||(s._initReady=s.ready,s.ready=De);var u=[];function p(){return v.resolve()}for(var w=0;w<d.forages.length;w++){var $=d.forages[w];$!==s&&u.push($._initReady().catch(p))}var S=d.forages.slice(0);return v.all(u).then(function(){return o.db=d.db,oe(o)}).then(function(x){return o.db=x,_e(o,s._defaultConfig.version)?de(o):x}).then(function(x){o.db=d.db=x,s._dbInfo=o;for(var A=0;A<S.length;A++){var L=S[A];L!==s&&(L._dbInfo.db=o.db,L._dbInfo.version=o.version)}})}function ne(r,s){var o=this;r=D(r);var f=new v(function(d,u){o.ready().then(function(){te(o._dbInfo,O,function(p,w){if(p)return u(p);try{var $=w.objectStore(o._dbInfo.storeName),S=$.get(r);S.onsuccess=function(){var x=S.result;x===void 0&&(x=null),$e(x)&&(x=he(x)),d(x)},S.onerror=function(){u(S.error)}}catch(x){u(x)}})}).catch(u)});return m(f,s),f}function K(r,s){var o=this,f=new v(function(d,u){o.ready().then(function(){te(o._dbInfo,O,function(p,w){if(p)return u(p);try{var $=w.objectStore(o._dbInfo.storeName),S=$.openCursor(),x=1;S.onsuccess=function(){var A=S.result;if(A){var L=A.value;$e(L)&&(L=he(L));var G=r(L,A.key,x++);G!==void 0?d(G):A.continue()}else d()},S.onerror=function(){u(S.error)}}catch(A){u(A)}})}).catch(u)});return m(f,s),f}function ge(r,s,o){var f=this;r=D(r);var d=new v(function(u,p){var w;f.ready().then(function(){return w=f._dbInfo,F.call(s)==="[object Blob]"?P(w.db).then(function($){return $?s:ae(s)}):s}).then(function($){te(f._dbInfo,b,function(S,x){if(S)return p(S);try{var A=x.objectStore(f._dbInfo.storeName);$===null&&($=void 0);var L=A.put($,r);x.oncomplete=function(){$===void 0&&($=null),u($)},x.onabort=x.onerror=function(){var G=L.error?L.error:L.transaction.error;p(G)}}catch(G){p(G)}})}).catch(p)});return m(d,o),d}function ke(r,s){var o=this;r=D(r);var f=new v(function(d,u){o.ready().then(function(){te(o._dbInfo,b,function(p,w){if(p)return u(p);try{var $=w.objectStore(o._dbInfo.storeName),S=$.delete(r);w.oncomplete=function(){d()},w.onerror=function(){u(S.error)},w.onabort=function(){var x=S.error?S.error:S.transaction.error;u(x)}}catch(x){u(x)}})}).catch(u)});return m(f,s),f}function Le(r){var s=this,o=new v(function(f,d){s.ready().then(function(){te(s._dbInfo,b,function(u,p){if(u)return d(u);try{var w=p.objectStore(s._dbInfo.storeName),$=w.clear();p.oncomplete=function(){f()},p.onabort=p.onerror=function(){var S=$.error?$.error:$.transaction.error;d(S)}}catch(S){d(S)}})}).catch(d)});return m(o,r),o}function Me(r){var s=this,o=new v(function(f,d){s.ready().then(function(){te(s._dbInfo,O,function(u,p){if(u)return d(u);try{var w=p.objectStore(s._dbInfo.storeName),$=w.count();$.onsuccess=function(){f($.result)},$.onerror=function(){d($.error)}}catch(S){d(S)}})}).catch(d)});return m(o,r),o}function Pe(r,s){var o=this,f=new v(function(d,u){if(r<0){d(null);return}o.ready().then(function(){te(o._dbInfo,O,function(p,w){if(p)return u(p);try{var $=w.objectStore(o._dbInfo.storeName),S=!1,x=$.openKeyCursor();x.onsuccess=function(){var A=x.result;if(!A){d(null);return}r===0||S?d(A.key):(S=!0,A.advance(r))},x.onerror=function(){u(x.error)}}catch(A){u(A)}})}).catch(u)});return m(f,s),f}function Ze(r){var s=this,o=new v(function(f,d){s.ready().then(function(){te(s._dbInfo,O,function(u,p){if(u)return d(u);try{var w=p.objectStore(s._dbInfo.storeName),$=w.openKeyCursor(),S=[];$.onsuccess=function(){var x=$.result;if(!x){f(S);return}S.push(x.key),x.continue()},$.onerror=function(){d($.error)}}catch(x){d(x)}})}).catch(d)});return m(o,r),o}function vt(r,s){s=k.apply(this,arguments);var o=this.config();r=typeof r!="function"&&r||{},r.name||(r.name=r.name||o.name,r.storeName=r.storeName||o.storeName);var f=this,d;if(!r.name)d=v.reject("Invalid arguments");else{var u=r.name===o.name&&f._dbInfo.db,p=u?v.resolve(f._dbInfo.db):oe(r).then(function(w){var $=C[r.name],S=$.forages;$.db=w;for(var x=0;x<S.length;x++)S[x]._dbInfo.db=w;return w});r.storeName?d=p.then(function(w){if(w.objectStoreNames.contains(r.storeName)){var $=w.version+1;j(r);var S=C[r.name],x=S.forages;w.close();for(var A=0;A<x.length;A++){var L=x[A];L._dbInfo.db=null,L._dbInfo.version=$}var G=new v(function(z,ee){var q=g.open(r.name,$);q.onerror=function(be){var lt=q.result;lt.close(),ee(be)},q.onupgradeneeded=function(){var be=q.result;be.deleteObjectStore(r.storeName)},q.onsuccess=function(){var be=q.result;be.close(),z(be)}});return G.then(function(z){S.db=z;for(var ee=0;ee<x.length;ee++){var q=x[ee];q._dbInfo.db=z,H(q._dbInfo)}}).catch(function(z){throw(Z(r,z)||v.resolve()).catch(function(){}),z})}}):d=p.then(function(w){j(r);var $=C[r.name],S=$.forages;w.close();for(var x=0;x<S.length;x++){var A=S[x];A._dbInfo.db=null}var L=new v(function(G,z){var ee=g.deleteDatabase(r.name);ee.onerror=function(){var q=ee.result;q&&q.close(),z(ee.error)},ee.onblocked=function(){console.warn('dropInstance blocked for database "'+r.name+'" until all open connections are closed')},ee.onsuccess=function(){var q=ee.result;q&&q.close(),G(q)}});return L.then(function(G){$.db=G;for(var z=0;z<S.length;z++){var ee=S[z];H(ee._dbInfo)}}).catch(function(G){throw(Z(r,G)||v.resolve()).catch(function(){}),G})})}return m(d,s),d}var Wt={_driver:"asyncStorage",_initStorage:M,_support:_(),iterate:K,getItem:ne,setItem:ge,removeItem:ke,clear:Le,length:Me,key:Pe,keys:Ze,dropInstance:vt};function Ut(){return typeof openDatabase=="function"}var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt="~~local_forage_type~",et=/^~~local_forage_type~([^~]+)~/,ze="__lfsc__:",je=ze.length,tt="arbf",He="blob",yt="si08",mt="ui08",Ve="uic8",bt="si16",nt="si32",rt="ur16",it="ui32",le="fl32",ve="fl64",ot=je+tt.length,gn=Object.prototype.toString;function vn(r){var s=r.length*.75,o=r.length,f,d=0,u,p,w,$;r[r.length-1]==="="&&(s--,r[r.length-2]==="="&&s--);var S=new ArrayBuffer(s),x=new Uint8Array(S);for(f=0;f<o;f+=4)u=ce.indexOf(r[f]),p=ce.indexOf(r[f+1]),w=ce.indexOf(r[f+2]),$=ce.indexOf(r[f+3]),x[d++]=u<<2|p>>4,x[d++]=(p&15)<<4|w>>2,x[d++]=(w&3)<<6|$&63;return S}function Gt(r){var s=new Uint8Array(r),o="",f;for(f=0;f<s.length;f+=3)o+=ce[s[f]>>2],o+=ce[(s[f]&3)<<4|s[f+1]>>4],o+=ce[(s[f+1]&15)<<2|s[f+2]>>6],o+=ce[s[f+2]&63];return s.length%3===2?o=o.substring(0,o.length-1)+"=":s.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}function Qn(r,s){var o="";if(r&&(o=gn.call(r)),r&&(o==="[object ArrayBuffer]"||r.buffer&&gn.call(r.buffer)==="[object ArrayBuffer]")){var f,d=ze;r instanceof ArrayBuffer?(f=r,d+=tt):(f=r.buffer,o==="[object Int8Array]"?d+=yt:o==="[object Uint8Array]"?d+=mt:o==="[object Uint8ClampedArray]"?d+=Ve:o==="[object Int16Array]"?d+=bt:o==="[object Uint16Array]"?d+=rt:o==="[object Int32Array]"?d+=nt:o==="[object Uint32Array]"?d+=it:o==="[object Float32Array]"?d+=le:o==="[object Float64Array]"?d+=ve:s(new Error("Failed to get type for BinaryArray"))),s(d+Gt(f))}else if(o==="[object Blob]"){var u=new FileReader;u.onload=function(){var p=pt+r.type+"~"+Gt(this.result);s(ze+He+p)},u.readAsArrayBuffer(r)}else try{s(JSON.stringify(r))}catch(p){console.error("Couldn't convert value into a JSON string: ",r),s(null,p)}}function Xn(r){if(r.substring(0,je)!==ze)return JSON.parse(r);var s=r.substring(ot),o=r.substring(je,ot),f;if(o===He&&et.test(s)){var d=s.match(et);f=d[1],s=s.substring(d[0].length)}var u=vn(s);switch(o){case tt:return u;case He:return y([u],{type:f});case yt:return new Int8Array(u);case mt:return new Uint8Array(u);case Ve:return new Uint8ClampedArray(u);case bt:return new Int16Array(u);case rt:return new Uint16Array(u);case nt:return new Int32Array(u);case it:return new Uint32Array(u);case le:return new Float32Array(u);case ve:return new Float64Array(u);default:throw new Error("Unkown type: "+o)}}var Yt={serialize:Qn,deserialize:Xn,stringToBuffer:vn,bufferToString:Gt};function pn(r,s,o,f){r.executeSql("CREATE TABLE IF NOT EXISTS "+s.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,f)}function Zn(r){var s=this,o={db:null};if(r)for(var f in r)o[f]=typeof r[f]!="string"?r[f].toString():r[f];var d=new v(function(u,p){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(w){return p(w)}o.db.transaction(function(w){pn(w,o,function(){s._dbInfo=o,u()},function($,S){p(S)})},p)});return o.serializer=Yt,d}function Be(r,s,o,f,d,u){r.executeSql(o,f,d,function(p,w){w.code===w.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[s.storeName],function($,S){S.rows.length?u($,w):pn($,s,function(){$.executeSql(o,f,d,u)},u)},u):u(p,w)},u)}function er(r,s){var o=this;r=D(r);var f=new v(function(d,u){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(w){Be(w,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[r],function($,S){var x=S.rows.length?S.rows.item(0).value:null;x&&(x=p.serializer.deserialize(x)),d(x)},function($,S){u(S)})})}).catch(u)});return m(f,s),f}function tr(r,s){var o=this,f=new v(function(d,u){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(w){Be(w,p,"SELECT * FROM "+p.storeName,[],function($,S){for(var x=S.rows,A=x.length,L=0;L<A;L++){var G=x.item(L),z=G.value;if(z&&(z=p.serializer.deserialize(z)),z=r(z,G.key,L+1),z!==void 0){d(z);return}}d()},function($,S){u(S)})})}).catch(u)});return m(f,s),f}function yn(r,s,o,f){var d=this;r=D(r);var u=new v(function(p,w){d.ready().then(function(){s===void 0&&(s=null);var $=s,S=d._dbInfo;S.serializer.serialize(s,function(x,A){A?w(A):S.db.transaction(function(L){Be(L,S,"INSERT OR REPLACE INTO "+S.storeName+" (key, value) VALUES (?, ?)",[r,x],function(){p($)},function(G,z){w(z)})},function(L){if(L.code===L.QUOTA_ERR){if(f>0){p(yn.apply(d,[r,$,o,f-1]));return}w(L)}})})}).catch(w)});return m(u,o),u}function nr(r,s,o){return yn.apply(this,[r,s,o,1])}function rr(r,s){var o=this;r=D(r);var f=new v(function(d,u){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(w){Be(w,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[r],function(){d()},function($,S){u(S)})})}).catch(u)});return m(f,s),f}function ir(r){var s=this,o=new v(function(f,d){s.ready().then(function(){var u=s._dbInfo;u.db.transaction(function(p){Be(p,u,"DELETE FROM "+u.storeName,[],function(){f()},function(w,$){d($)})})}).catch(d)});return m(o,r),o}function or(r){var s=this,o=new v(function(f,d){s.ready().then(function(){var u=s._dbInfo;u.db.transaction(function(p){Be(p,u,"SELECT COUNT(key) as c FROM "+u.storeName,[],function(w,$){var S=$.rows.item(0).c;f(S)},function(w,$){d($)})})}).catch(d)});return m(o,r),o}function ar(r,s){var o=this,f=new v(function(d,u){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(w){Be(w,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[r+1],function($,S){var x=S.rows.length?S.rows.item(0).key:null;d(x)},function($,S){u(S)})})}).catch(u)});return m(f,s),f}function lr(r){var s=this,o=new v(function(f,d){s.ready().then(function(){var u=s._dbInfo;u.db.transaction(function(p){Be(p,u,"SELECT key FROM "+u.storeName,[],function(w,$){for(var S=[],x=0;x<$.rows.length;x++)S.push($.rows.item(x).key);f(S)},function(w,$){d($)})})}).catch(d)});return m(o,r),o}function sr(r){return new v(function(s,o){r.transaction(function(f){f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(d,u){for(var p=[],w=0;w<u.rows.length;w++)p.push(u.rows.item(w).name);s({db:r,storeNames:p})},function(d,u){o(u)})},function(f){o(f)})})}function ur(r,s){s=k.apply(this,arguments);var o=this.config();r=typeof r!="function"&&r||{},r.name||(r.name=r.name||o.name,r.storeName=r.storeName||o.storeName);var f=this,d;return r.name?d=new v(function(u){var p;r.name===o.name?p=f._dbInfo.db:p=openDatabase(r.name,"","",0),r.storeName?u({db:p,storeNames:[r.storeName]}):u(sr(p))}).then(function(u){return new v(function(p,w){u.db.transaction(function($){function S(G){return new v(function(z,ee){$.executeSql("DROP TABLE IF EXISTS "+G,[],function(){z()},function(q,be){ee(be)})})}for(var x=[],A=0,L=u.storeNames.length;A<L;A++)x.push(S(u.storeNames[A]));v.all(x).then(function(){p()}).catch(function(G){w(G)})},function($){w($)})})}):d=v.reject("Invalid arguments"),m(d,s),d}var cr={_driver:"webSQLStorage",_initStorage:Zn,_support:Ut(),iterate:tr,getItem:er,setItem:nr,removeItem:rr,clear:ir,length:or,key:ar,keys:lr,dropInstance:ur};function fr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function mn(r,s){var o=r.name+"/";return r.storeName!==s.storeName&&(o+=r.storeName+"/"),o}function dr(){var r="_localforage_support_test";try{return localStorage.setItem(r,!0),localStorage.removeItem(r),!1}catch{return!0}}function hr(){return!dr()||localStorage.length>0}function gr(r){var s=this,o={};if(r)for(var f in r)o[f]=r[f];return o.keyPrefix=mn(r,s._defaultConfig),hr()?(s._dbInfo=o,o.serializer=Yt,v.resolve()):v.reject()}function vr(r){var s=this,o=s.ready().then(function(){for(var f=s._dbInfo.keyPrefix,d=localStorage.length-1;d>=0;d--){var u=localStorage.key(d);u.indexOf(f)===0&&localStorage.removeItem(u)}});return m(o,r),o}function pr(r,s){var o=this;r=D(r);var f=o.ready().then(function(){var d=o._dbInfo,u=localStorage.getItem(d.keyPrefix+r);return u&&(u=d.serializer.deserialize(u)),u});return m(f,s),f}function yr(r,s){var o=this,f=o.ready().then(function(){for(var d=o._dbInfo,u=d.keyPrefix,p=u.length,w=localStorage.length,$=1,S=0;S<w;S++){var x=localStorage.key(S);if(x.indexOf(u)===0){var A=localStorage.getItem(x);if(A&&(A=d.serializer.deserialize(A)),A=r(A,x.substring(p),$++),A!==void 0)return A}}});return m(f,s),f}function mr(r,s){var o=this,f=o.ready().then(function(){var d=o._dbInfo,u;try{u=localStorage.key(r)}catch{u=null}return u&&(u=u.substring(d.keyPrefix.length)),u});return m(f,s),f}function br(r){var s=this,o=s.ready().then(function(){for(var f=s._dbInfo,d=localStorage.length,u=[],p=0;p<d;p++){var w=localStorage.key(p);w.indexOf(f.keyPrefix)===0&&u.push(w.substring(f.keyPrefix.length))}return u});return m(o,r),o}function wr(r){var s=this,o=s.keys().then(function(f){return f.length});return m(o,r),o}function _r(r,s){var o=this;r=D(r);var f=o.ready().then(function(){var d=o._dbInfo;localStorage.removeItem(d.keyPrefix+r)});return m(f,s),f}function $r(r,s,o){var f=this;r=D(r);var d=f.ready().then(function(){s===void 0&&(s=null);var u=s;return new v(function(p,w){var $=f._dbInfo;$.serializer.serialize(s,function(S,x){if(x)w(x);else try{localStorage.setItem($.keyPrefix+r,S),p(u)}catch(A){(A.name==="QuotaExceededError"||A.name==="NS_ERROR_DOM_QUOTA_REACHED")&&w(A),w(A)}})})});return m(d,o),d}function Sr(r,s){if(s=k.apply(this,arguments),r=typeof r!="function"&&r||{},!r.name){var o=this.config();r.name=r.name||o.name,r.storeName=r.storeName||o.storeName}var f=this,d;return r.name?d=new v(function(u){r.storeName?u(mn(r,f._defaultConfig)):u(r.name+"/")}).then(function(u){for(var p=localStorage.length-1;p>=0;p--){var w=localStorage.key(p);w.indexOf(u)===0&&localStorage.removeItem(w)}}):d=v.reject("Invalid arguments"),m(d,s),d}var xr={_driver:"localStorageWrapper",_initStorage:gr,_support:fr(),iterate:yr,getItem:pr,setItem:$r,removeItem:_r,clear:vr,length:wr,key:mr,keys:br,dropInstance:Sr},Er=function(s,o){return s===o||typeof s=="number"&&typeof o=="number"&&isNaN(s)&&isNaN(o)},Cr=function(s,o){for(var f=s.length,d=0;d<f;){if(Er(s[d],o))return!0;d++}return!1},bn=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"},at={},wn={},Ke={INDEXEDDB:Wt,WEBSQL:cr,LOCALSTORAGE:xr},Ar=[Ke.INDEXEDDB._driver,Ke.WEBSQL._driver,Ke.LOCALSTORAGE._driver],wt=["dropInstance"],zt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(wt),Dr={description:"",driver:Ar.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ir(r,s){r[s]=function(){var o=arguments;return r.ready().then(function(){return r[s].apply(r,o)})}}function jt(){for(var r=1;r<arguments.length;r++){var s=arguments[r];if(s)for(var o in s)s.hasOwnProperty(o)&&(bn(s[o])?arguments[0][o]=s[o].slice():arguments[0][o]=s[o])}return arguments[0]}var Nr=function(){function r(s){c(this,r);for(var o in Ke)if(Ke.hasOwnProperty(o)){var f=Ke[o],d=f._driver;this[o]=d,at[d]||this.defineDriver(f)}this._defaultConfig=jt({},Dr),this._config=jt({},this._defaultConfig,s),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return r.prototype.config=function(o){if((typeof o>"u"?"undefined":l(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var f in o){if(f==="storeName"&&(o[f]=o[f].replace(/\W/g,"_")),f==="version"&&typeof o[f]!="number")return new Error("Database version must be a number.");this._config[f]=o[f]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},r.prototype.defineDriver=function(o,f,d){var u=new v(function(p,w){try{var $=o._driver,S=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){w(S);return}for(var x=zt.concat("_initStorage"),A=0,L=x.length;A<L;A++){var G=x[A],z=!Cr(wt,G);if((z||o[G])&&typeof o[G]!="function"){w(S);return}}var ee=function(){for(var lt=function(kr){return function(){var Pr=new Error("Method "+kr+" is not implemented by the current driver"),_n=v.reject(Pr);return m(_n,arguments[arguments.length-1]),_n}},Ht=0,Rr=wt.length;Ht<Rr;Ht++){var Vt=wt[Ht];o[Vt]||(o[Vt]=lt(Vt))}};ee();var q=function(lt){at[$]&&console.info("Redefining LocalForage driver: "+$),at[$]=o,wn[$]=lt,p()};"_support"in o?o._support&&typeof o._support=="function"?o._support().then(q,w):q(!!o._support):q(!0)}catch(be){w(be)}});return E(u,f,d),u},r.prototype.driver=function(){return this._driver||null},r.prototype.getDriver=function(o,f,d){var u=at[o]?v.resolve(at[o]):v.reject(new Error("Driver not found."));return E(u,f,d),u},r.prototype.getSerializer=function(o){var f=v.resolve(Yt);return E(f,o),f},r.prototype.ready=function(o){var f=this,d=f._driverSet.then(function(){return f._ready===null&&(f._ready=f._initDriver()),f._ready});return E(d,o,o),d},r.prototype.setDriver=function(o,f,d){var u=this;bn(o)||(o=[o]);var p=this._getSupportedDrivers(o);function w(){u._config.driver=u.driver()}function $(A){return u._extend(A),w(),u._ready=u._initStorage(u._config),u._ready}function S(A){return function(){var L=0;function G(){for(;L<A.length;){var z=A[L];return L++,u._dbInfo=null,u._ready=null,u.getDriver(z).then($).catch(G)}w();var ee=new Error("No available storage method found.");return u._driverSet=v.reject(ee),u._driverSet}return G()}}var x=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=x.then(function(){var A=p[0];return u._dbInfo=null,u._ready=null,u.getDriver(A).then(function(L){u._driver=L._driver,w(),u._wrapLibraryMethodsWithReady(),u._initDriver=S(p)})}).catch(function(){w();var A=new Error("No available storage method found.");return u._driverSet=v.reject(A),u._driverSet}),E(this._driverSet,f,d),this._driverSet},r.prototype.supports=function(o){return!!wn[o]},r.prototype._extend=function(o){jt(this,o)},r.prototype._getSupportedDrivers=function(o){for(var f=[],d=0,u=o.length;d<u;d++){var p=o[d];this.supports(p)&&f.push(p)}return f},r.prototype._wrapLibraryMethodsWithReady=function(){for(var o=0,f=zt.length;o<f;o++)Ir(this,zt[o])},r.prototype.createInstance=function(o){return new r(o)},r}(),Tr=new Nr;i.exports=Tr},{3:3}]},{},[4])(4)})})(Gn);var oi=Gn.exports;const Ye=ii(oi),[ai,Nt]=B({show:!1,title:"",message:""});function Yn(e){e=new Date(e);let t=e.getMonth()+1;t<10&&(t=`0${t}`);let n=e.getDate();return n<10&&(n=`0${n}`),`${n}.${t}.${e.getFullYear()}`}function li(e){e=new Date(e);let t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getMonth(),i=String(e.getFullYear());return`${t[n]} ${i.substring(2,4)}`}function ln(e){e=new Date(e);let t=e.getMonth()+1;t<10&&(t=`0${t}`);let n=e.getDate();return n<10&&(n=`0${n}`),`${e.getFullYear()}-${t}-${n}`}function Ee(e){return e=new Date(e),Number(e)}function si(){let t=new Date(Date.now()).getDate()+1;return t<10&&(t=`0${t}`),String(t)}function Fe(){let t=new Date(Date.now()).getMonth()+1;return t<10&&(t=`0${t}`),t}function Ie(){let t=new Date(Date.now()).getFullYear();return String(t)}function An(e,t){return new Date(e,Number(t),0).getDate()}function sn(){return Ee(new Date(Ie(),Fe(),si()))}Ye.config({name:"work-diary"});const[Ae,ft]=B([]),[Ce,Tt]=B({sections:[]});function ui(){Ye.getItem("gardenPlan").then(e=>{e&&Tt(JSON.parse(e))}).catch(e=>console.log(e))}function un(){let e=JSON.stringify(Ce());Ye.setItem("gardenPlan",e).catch(t=>console.log(t))}function ci(){Ye.getItem("diary").then(e=>{e&&ft(JSON.parse(e))}).catch(e=>console.log(e))}function Rt(){let e=JSON.stringify(Ae());Ye.setItem("diary",e).catch(t=>console.log(t))}const fi=()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({diary:Ae(),cultures:Xe(),gardenPlan:Ce()})),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","diary-export.json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},di=e=>{let t=new FileReader;t.onload=n=>{try{let i=JSON.parse(n.target.result),a=i.diary,l=i.cultures,c=i.gardenPlan;ft(a),Rt(),hn(l),jn(),Tt(c),un()}catch(i){Nt({show:!0,title:"error importing file",message:e.name+" "+i})}},t.onerror=n=>{console.log(n),Nt({show:!0,title:"error",message:"error importing diary data"})},t.readAsText(e)},[Xe,hn]=B([{name:"keine Kultur gewÃ¤hlt",id:"none"},{name:"Kartoffeln",id:"1"},{name:"Karotten",id:"2"},{name:"Bohnen",id:"3"},{name:"Salat",id:"4"}]);function zn(){Ye.getItem("cultures").then(e=>{e&&hn(JSON.parse(e))}).catch(e=>console.log(e))}function jn(){let e=JSON.stringify(Xe());Ye.setItem("cultures",e).catch(t=>console.log(t))}function Hn(e){return Xe().find(n=>n.id===e).name}async function hi(e){let t=[],n=94608e6;return Ae().forEach(i=>{i.correspondingBed?.id===e&&(i.category==="Aussaat"||i.category==="Pflanzen/Setzen")&&i.culture!=="none"&&Date.now()-i.date<n&&t.push({rawDate:i.date,date:li(i.date),category:i.category,culture:Hn(i.culture)})}),t=t.sort((i,a)=>a.rawDate-i.rawDate),t}const cn=Symbol("store-raw"),qe=Symbol("store-node"),Ne=Symbol("store-has"),Vn=Symbol("store-self");function Kn(e){let t=e[We];if(!t&&(Object.defineProperty(e,We,{value:t=new Proxy(e,pi)}),!Array.isArray(e))){const n=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let a=0,l=n.length;a<l;a++){const c=n[a];i[c].get&&Object.defineProperty(e,c,{enumerable:i[c].enumerable,get:i[c].get.bind(t)})}}return t}function kt(e){let t;return e!=null&&typeof e=="object"&&(e[We]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function dt(e,t=new Set){let n,i,a,l;if(n=e!=null&&e[cn])return n;if(!kt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let c=0,h=e.length;c<h;c++)a=e[c],(i=dt(a,t))!==a&&(e[c]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const c=Object.keys(e),h=Object.getOwnPropertyDescriptors(e);for(let g=0,_=c.length;g<_;g++)l=c[g],!h[l].get&&(a=e[l],(i=dt(a,t))!==a&&(e[l]=i))}return e}function Pt(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ht(e,t,n){if(e[t])return e[t];const[i,a]=B(n,{equals:!1,internal:!0});return i.$=a,e[t]=i}function gi(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===We||t===qe||(delete n.value,delete n.writable,n.get=()=>e[We][t]),n}function Jn(e){nn()&&ht(Pt(e,qe),Vn)()}function vi(e){return Jn(e),Reflect.ownKeys(e)}const pi={get(e,t,n){if(t===cn)return e;if(t===We)return n;if(t===tn)return Jn(e),n;const i=Pt(e,qe),a=i[t];let l=a?a():e[t];if(t===qe||t===Ne||t==="__proto__")return l;if(!a){const c=Object.getOwnPropertyDescriptor(e,t);nn()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(c&&c.get)&&(l=ht(i,t,l)())}return kt(l)?Kn(l):l},has(e,t){return t===cn||t===We||t===tn||t===qe||t===Ne||t==="__proto__"?!0:(nn()&&ht(Pt(e,Ne),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:vi,getOwnPropertyDescriptor:gi};function Bt(e,t,n,i=!1){if(!i&&e[t]===n)return;const a=e[t],l=e.length;n===void 0?(delete e[t],e[Ne]&&e[Ne][t]&&a!==void 0&&e[Ne][t].$()):(e[t]=n,e[Ne]&&e[Ne][t]&&a===void 0&&e[Ne][t].$());let c=Pt(e,qe),h;if((h=ht(c,t,a))&&h.$(()=>n),Array.isArray(e)&&e.length!==l){for(let g=e.length;g<l;g++)(h=c[g])&&h.$();(h=ht(c,"length",l))&&h.$(e.length)}(h=c[Vn])&&h.$()}function qn(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i+=1){const a=n[i];Bt(e,a,t[a])}}function yi(e,t){if(typeof t=="function"&&(t=t(e)),t=dt(t),Array.isArray(t)){if(e===t)return;let n=0,i=t.length;for(;n<i;n++){const a=t[n];e[n]!==a&&Bt(e,n,a)}Bt(e,"length",i)}else qn(e,t)}function st(e,t,n=[]){let i,a=e;if(t.length>1){i=t.shift();const c=typeof i,h=Array.isArray(e);if(Array.isArray(i)){for(let g=0;g<i.length;g++)st(e,[i[g]].concat(t),n);return}else if(h&&c==="function"){for(let g=0;g<e.length;g++)i(e[g],g)&&st(e,[g].concat(t),n);return}else if(h&&c==="object"){const{from:g=0,to:_=e.length-1,by:y=1}=i;for(let v=g;v<=_;v+=y)st(e,[v].concat(t),n);return}else if(t.length>1){st(e[i],t,[i].concat(n));return}a=e[i],n=[i].concat(n)}let l=t[0];typeof l=="function"&&(l=l(a,n),l===a)||i===void 0&&l==null||(l=dt(l),i===void 0||kt(a)&&kt(l)&&!Array.isArray(l)?qn(a,l):Bt(e,i,l))}function mi(...[e,t]){const n=dt(e||{}),i=Array.isArray(n),a=Kn(n);function l(...c){Lr(()=>{i&&c.length===1?yi(n,c[0]):st(n,c)})}return[a,l]}const ue=Mr();function bi(e){const[t,n]=B(!1),[i,a]=B(null),[l,c]=B(!1),[h,g]=B(!1),[_,y]=B(!1),[v,m]=B(!1),[E,D]=B(!1),[k,T]=B(!1),[R,C]=B(!1),[F,O]=mi({return:null,highlight:null}),b=()=>({done:"both",dateBegin:0,dateEnd:sn(),category:"All"}),[N,I]=B(b()),P=()=>I(b()),j=()=>Ae().filter(V=>V.date>=N().dateBegin&&V.date<=N().dateEnd&&(N().done==="both"||N().done==="done"&&V.done===!0||N().done==="pending"&&V.done===!1)&&(N().category==="All"||N().category===V.category)),H=["Pflege","Pflanzen/Setzen","Aussaat","Ernten","Boden","Pflanzenschutz","Anzucht","Umgebungsarbeiten","Anderes"];return Y(ue.Provider,{value:{showEditor:t,setShowEditor:n,openToEdit:i,setOpenToEdit:a,deleteHot:l,setDeleteHot:c,showMenu:h,setShowMenu:g,categorys:H,toastMessage:ai,setToastMessage:Nt,showReport:_,setShowReport:y,showFilter:v,setShowFilter:m,filter:N,setFilter:I,resetFilter:P,filteredDiary:j,showGardenMap:E,setShowGardenMap:D,showGardenMapEditor:k,setShowGardenMapEditor:T,bedCommunication:F,setBedCommunication:O,showCulturesEditor:R,setShowCulturesEditor:C},get children(){return e.children}})}var wi=X('<article><header><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><button class="icon-button outline"><i class="fa-solid fa-trash-can"></i> </button></header><div><h6></h6><h6> </h6><h6></h6></div><p></p><footer><div class=diary-grid-1><label><input type=checkbox>done</label><p></p><p><i class="fa-regular fa-clock"></i><mark> minutes');function _i(e){const{setOpenToEdit:t,deleteHot:n}=fe(ue),i=l=>{ft([...Ae().map(c=>c.id===l.id?{...c,done:!c.done}:c=c)]),console.log(Ae()),Rt()},a=l=>l.culture==="none"?"-":Xe().find(h=>h.id===l.culture)?.name;return(()=>{var l=wi(),c=l.firstChild,h=c.firstChild,g=h.nextSibling,_=g.firstChild,y=c.nextSibling,v=y.firstChild,m=v.nextSibling;m.firstChild;var E=m.nextSibling,D=y.nextSibling,k=D.nextSibling,T=k.firstChild,R=T.firstChild,C=R.firstChild,F=R.nextSibling,O=F.nextSibling,b=O.firstChild,N=b.nextSibling,I=N.firstChild;return h.$$click=()=>t(e.entry.id),g.$$click=()=>e.deleteEntry(e.entry.id),y.style.setProperty("display","grid"),y.style.setProperty("grid-template-columns","1fr 2fr 1fr"),y.style.setProperty("gap",".5rem"),W(v,()=>e.entry.category),W(m,()=>a(e.entry),null),W(E,()=>e.entry.correspondingBed?.name),D.style.setProperty("white-space","pre-wrap"),W(D,()=>e.entry.work),C.$$click=()=>i(e.entry),W(F,()=>Yn(e.entry.date)),b.style.setProperty("font-size","1.3rem"),W(N,()=>e.entry.duration,I),U(()=>(n()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)")!=null?_.style.setProperty("color",n()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)"):_.style.removeProperty("color")),U(()=>C.checked=e.entry.done),l})()}we(["click"]);var $i=X('<button class="float primary"id=floating-button><i class="fa-solid fa-plus fa-2xl float-icon">');function Si(e){const{showEditor:t,setShowEditor:n,showReport:i}=fe(ue),[a,l]=B();return Re(()=>{setInterval(()=>{l(!0),setTimeout(()=>l(!1),400)},7e3)}),Y(Wn,{get when(){return!i()},get children(){var c=$i();return c.$$click=()=>n(!t()),U(()=>ye(c,"buzz",a())),c}})}we(["click"]);let St;const xi=new Uint8Array(16);function Ei(){if(!St&&(St=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!St))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return St(xi)}const re=[];for(let e=0;e<256;++e)re.push((e+256).toString(16).slice(1));function Ci(e,t=0){return re[e[t+0]]+re[e[t+1]]+re[e[t+2]]+re[e[t+3]]+"-"+re[e[t+4]]+re[e[t+5]]+"-"+re[e[t+6]]+re[e[t+7]]+"-"+re[e[t+8]]+re[e[t+9]]+"-"+re[e[t+10]]+re[e[t+11]]+re[e[t+12]]+re[e[t+13]]+re[e[t+14]]+re[e[t+15]]}let Dn,Jt,qt=0,Qt=0;function Ot(e,t,n){let i=t&&n||0;const a=t||new Array(16);e=e||{};let l=e.node||Dn,c=e.clockseq!==void 0?e.clockseq:Jt;if(l==null||c==null){const m=e.random||(e.rng||Ei)();l==null&&(l=Dn=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),c==null&&(c=Jt=(m[6]<<8|m[7])&16383)}let h=e.msecs!==void 0?e.msecs:Date.now(),g=e.nsecs!==void 0?e.nsecs:Qt+1;const _=h-qt+(g-Qt)/1e4;if(_<0&&e.clockseq===void 0&&(c=c+1&16383),(_<0||h>qt)&&e.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qt=h,Qt=g,Jt=c,h+=122192928e5;const y=((h&268435455)*1e4+g)%4294967296;a[i++]=y>>>24&255,a[i++]=y>>>16&255,a[i++]=y>>>8&255,a[i++]=y&255;const v=h/4294967296*1e4&268435455;a[i++]=v>>>8&255,a[i++]=v&255,a[i++]=v>>>24&15|16,a[i++]=v>>>16&255,a[i++]=c>>>8|128,a[i++]=c&255;for(let m=0;m<6;++m)a[i+m]=l[m];return t||Ci(a)}var Ai=X('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><h4>add new Culture</h4><input type=text placeholder="Name of new Culture"><button> add Culture ');function Di(){let e;const{showCulturesEditor:t,setShowCulturesEditor:n}=fe(ue),[i,a]=B(""),[l,c]=B(!1);pe(()=>{i().length>2&&c(!1)});const h=()=>{i().length<3&&c(!0);let g={name:i(),id:Ot()};hn([...Xe(),g]),jn(),a(""),t(!1)};return(()=>{var g=Ai(),_=g.firstChild,y=_.firstChild,v=y.firstChild,m=y.nextSibling,E=m.nextSibling,D=E.nextSibling;v.$$click=()=>n(!1),E.addEventListener("change",()=>a(e.value));var k=e;return typeof k=="function"?ie(k,E):e=E,D.$$click=()=>h(),U(T=>{var R=t(),C=l();return R!==T.e&&ye(g,"open",T.e=R),C!==T.t&&ye(E,"aria-invalid",T.t=C),T},{e:void 0,t:void 0}),U(()=>E.value=i()),g})()}we(["click"]);var Ii=X('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-floppy-disk"></i></button><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><label><input type=checkbox>done</label><textarea rows=5 cols=40 placeholder="describe work"></textarea><input type=date><label for=duration>duration <mark></mark></label><input type=range id=duration min=0 max=240 step=5><fieldset role=group><input type=text readonly=true placeholder="no bed selected"><button class="secondary outline"><i class="fa-solid fa-location-dot"></i></button></fieldset><fieldset><legend>category</legend><select></select></fieldset><fieldset role=group><legend>culture</legend><select></select><button>Add Cultures'),In=X("<option>");let Xt;function Ni(e){const{showEditor:t,setShowEditor:n,openToEdit:i,setOpenToEdit:a,categorys:l,showGardenMap:c,setShowGardenMap:h,bedCommunication:g,setBedCommunication:_,showCulturesEditor:y,setShowCulturesEditor:v}=fe(ue),m=M=>{t()&&!Xt.contains(M.target)&&!c&&(console.log("here was trigged"),n(!1))};Re(()=>{document.addEventListener("click",m,!0),zn()}),Mt(()=>{document.removeEventListener("click",m,!0),_({return:null,highlight:!1})}),pe(()=>{t()&&D({id:Date.now(),date:sn(),work:"",category:"Pflege",done:!0,duration:10,culture:0}),i()!==null?E(i()):D({id:Date.now(),date:sn(),work:"",category:"Pflege",done:!0,duration:10})});const E=M=>{const ne=Ae().find(K=>K.id===M);D(ne)},D=M=>{de(M.id),N(M.done),C(M.work),O(M.date),H(M.category),P(M.duration),ae(M.correspondingBed?.id||null),$e(M.correspondingBed?.name||null),_("highlight",M.correspondingBed?.id||null),Se(M.culture||"none")};let k,T;const[R,C]=B(""),[F,O]=B(Date.now()),[b,N]=B(!1),[I,P]=B(10),[j,H]=B("Pflege"),[Z,V]=B(!1),[oe,de]=B(Ot()),[_e,ae]=B(null),[he,$e]=B(null),[De,Se]=B("none");function te(M,ne){const[K,ge]=ne();U(()=>M.value=K()),M.oninput=ke=>ge(ke.target.value)}const xe=()=>{if(R().length<1){V(!0);return}let M={id:oe(),work:R(),date:F(),done:b(),duration:I(),category:j(),correspondingBed:{id:_e(),name:he()},culture:De()};e.saveNewEntry(M),n(!1),window.scrollTo(0,0)};return pe(ut(()=>R(),()=>V(!1))),pe(()=>{if(g.return&&g.return!==!0){let M=g.return;_("return",null),h(!1),ae(M.id),$e(M.name)}}),(()=>{var M=Ii(),ne=M.firstChild,K=ne.firstChild,ge=K.firstChild,ke=ge.nextSibling,Le=K.nextSibling,Me=Le.firstChild,Pe=Le.nextSibling,Ze=Pe.nextSibling,vt=Ze.nextSibling,Wt=vt.firstChild,Ut=Wt.nextSibling,ce=vt.nextSibling,pt=ce.nextSibling,et=pt.firstChild,ze=et.nextSibling,je=pt.nextSibling,tt=je.firstChild,He=tt.nextSibling,yt=je.nextSibling,mt=yt.firstChild,Ve=mt.nextSibling,bt=Ve.nextSibling;W(M,Y(Di,{}),ne);var nt=Xt;typeof nt=="function"?ie(nt,ne):Xt=ne,ge.$$click=()=>xe(),ke.$$click=()=>n(!1),Me.addEventListener("change",()=>N(!b())),Pe.$$input=()=>C(k.value);var rt=k;typeof rt=="function"?ie(rt,Pe):k=Pe,Ze.addEventListener("change",le=>O(Ee(le.target.value))),W(Ut,I),ce.$$input=()=>P(T.value);var it=T;return typeof it=="function"?ie(it,ce):T=ce,ze.$$click=()=>{_("return",!0),h(!0)},ie(te,He,()=>[j,H]),W(He,Y(Ge,{each:l,children:le=>(()=>{var ve=In();return ve.value=le,W(ve,le),ve})()})),ie(te,Ve,()=>[De,Se]),W(Ve,Y(Ge,{get each(){return Xe()},children:le=>(()=>{var ve=In();return W(ve,()=>le.name),U(()=>ve.value=le.id),ve})()})),bt.$$click=()=>v(!0),U(le=>{var ve=t(),ot=Z();return ve!==le.e&&ye(M,"open",le.e=ve),ot!==le.t&&ye(Pe,"aria-invalid",le.t=ot),le},{e:void 0,t:void 0}),U(()=>Me.checked=b()),U(()=>Pe.value=R()),U(()=>Ze.value=ln(F())),U(()=>ce.value=I()),U(()=>et.value=he()),M})()}we(["click","input"]);var Ti=X("<canvas height=600 id=report-canvas>");class Ri{constructor(t){t.width=window.innerWidth*.85,t.height=window.innerHeight*.8,t.style.background="white";let n=t.getContext("2d");n.fillStyle="black",this.canvas=t,this.context=n,console.log("canvas registered..."),this.initialY=25,this.y=this.initialY,this.indent=10}adjustHeight(){this.canvas.height=this.y+10}drawDone(){this.context.font='900 17px "Font Awesome 6 Free"',this.context.fillText("ï",this.indent,this.y)}drawPending(){this.context.font='900 17px "Font Awesome 6 Free"',this.context.fillText("ï",this.indent,this.y)}drawSeparator(){this.context.beginPath(),this.context.fillStyle="black",this.context.moveTo(10,this.y),this.context.lineTo(this.canvas.width-10,this.y),this.context.stroke(),this.y+=22}writeTitle(t){this.context.font="800 25px system-ui",this.context.fillText(t,this.indent,this.y),this.y+=35}writeSubtitle(t){this.y+=10,this.context.font="700 20px system-ui",this.context.fillText(t,this.indent,this.y),this.y+=25}writeCategory(t,n=10){this.context.font="700 15px system-ui",this.context.fillStyle="black",this.context.fillText(t,n,this.y),this.y+=22}writeLine(t,n=10){this.context.font="15px system-ui",this.context.fillStyle="black",this.context.fillText(t,n,this.y),this.y+=22}}function ki(e){let t,n;Re(()=>{console.log("mountex"),n=new Ri(t)});function i(a){a.done?n.drawDone():n.drawPending();let l=a.category.toUpperCase();a.culture&&a.culture!=="keine Kultur gewÃ¤hlt"&&(l+="   "+a.culture.toUpperCase()),n.writeCategory(l,35);for(let c of a.work)c.length&&n.writeLine(c,35)}return pe(()=>{let a=e.report;n.y=n.initialY;for(let l=0;l<2;l++)if(a){n.writeTitle("Work Report"),n.writeSubtitle("Zeitaufwand in Periode: "+a.totalTime),n.drawSeparator();for(let c in a.report){n.writeSubtitle(`${c}     ${a.report[c].duration} min`);for(let h of a.report[c].works)i(h);n.drawSeparator()}l===0&&(n.adjustHeight(),n.y=n.initialY)}}),(()=>{var a=Ti(),l=t;return typeof l=="function"?ie(l,a):t=a,a})()}var Pi=X('<article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-share-nodes"></i></button><p>');const[Bi,fn]=B("");function Nn(e){let t=0;e.forEach(i=>{t+=Number(i.duration)});let n={};return n.totalTime=`${t} min`,n.totalLines=0,n.report={},e.forEach(i=>{let a=Yn(i.date);a in n.report||(n.report[a]={works:[],duration:0}),n.report[a].duration+=Number(i.duration);let l=i.work.split(`
`);l=l.filter(c=>c.length>0),n.totalLines+=l.length,n.report[a].works.push({date:a,duration:i.duration,work:l,category:i.category,culture:Hn(i.culture),done:i.done})}),n}function Oi(e,t){for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],a=atob(n[n.length-1]),l=a.length,c=new Uint8Array(l);l--;)c[l]=a.charCodeAt(l);return new File([c],t,{type:i})}function Li(){var e=document.querySelector("#report-canvas");const t=e.toDataURL("image/png"),n=Oi(t,"report.png");fn("pending"),navigator.share({title:"Work Report",text:"hier ist der neuste Arbeitsraport",files:[n]}).then(()=>{fn("shared successfully")}).catch(i=>Nt({show:!0,title:"error while sharing report ",message:i}))}function Mi(){const{showReport:e,setShowReport:t,filter:n,filteredDiary:i}=fe(ue),[a,l]=B(Nn(i()));return Re(()=>{fn(" ")}),pe(ut(()=>n(),()=>{console.log("re run generate report"),l(Nn(i())),console.log(a())})),(()=>{var c=Pi(),h=c.firstChild,g=h.firstChild,_=g.nextSibling,y=_.nextSibling;return g.$$click=()=>t(!1),_.$$click=()=>Li(),W(y,()=>Bi()||" "),W(c,Y(ki,{get report(){return a()}}),null),c})()}we(["click"]);var Fi=X('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><span><strong>Garden Map Editor </strong></span><div class=card><h4>Add new Section</h4><label>section Name<input name=sectionNameField placeholder="Name of new Section"></label><button>add Section</button></div><div class=card><h4>Add new Bed</h4><label>select Section<select><option>please choose section</option></select></label><label>bed Name<input name=bedNameField placeholder="Name of new bed"readonly=true></label><button>add Section'),Wi=X("<option>");function Ui(){let e,t,n;const{showGardenMapEditor:i,setShowGardenMapEditor:a}=fe(ue),[l,c]=B(""),[h,g]=B(!1),[_,y]=B(""),[v,m]=B(!1);let E=null;pe(()=>{l().length>2&&g(!1)});const D=()=>{if(l().length<3){g(!0);return}if(Ce().sections.find(C=>C.name===l())){g(!0);return}let R=Ot();Ce().sections.push({name:l(),id:R,beds:[]}),Tt({...Ce()}),un(),c(""),g(!1)},k=R=>{if(R==="null"){m(!0);return}else m(!1);let C=Ce().sections.find(O=>String(O.id)===String(R));E=C;let F=C.beds.length+1;y(`${C.name} ${F}`)},T=()=>{E.beds.push({name:_(),id:Ot()}),Tt({...Ce()}),un(),n.value="null",y("")};return(()=>{var R=Fi(),C=R.firstChild,F=C.firstChild,O=F.firstChild,b=O.nextSibling,N=b.nextSibling,I=N.firstChild,P=I.nextSibling,j=P.firstChild,H=j.nextSibling,Z=P.nextSibling,V=N.nextSibling,oe=V.firstChild,de=oe.nextSibling,_e=de.firstChild,ae=_e.nextSibling,he=ae.firstChild,$e=de.nextSibling,De=$e.firstChild,Se=De.nextSibling,te=$e.nextSibling;C.style.setProperty("min-height","100vh"),O.$$click=()=>a(!1),b.style.setProperty("font-size","1.5rem"),H.$$input=()=>c(e.value);var xe=e;typeof xe=="function"?ie(xe,H):e=H,Z.$$click=()=>D(l()),ae.addEventListener("change",()=>k(n.value));var M=n;typeof M=="function"?ie(M,ae):n=ae,he.value=null,W(ae,Y(Ge,{get each(){return Ce().sections},children:K=>(()=>{var ge=Wi();return W(ge,()=>K.name),U(()=>ge.value=K.id),ge})()}),null);var ne=t;return typeof ne=="function"?ie(ne,Se):t=Se,te.$$click=()=>T(_()),U(K=>{var ge=i(),ke=h(),Le=v(),Me=!_();return ge!==K.e&&ye(R,"open",K.e=ge),ke!==K.t&&ye(H,"aria-invalid",K.t=ke),Le!==K.a&&ye(ae,"aria-invalid",K.a=Le),Me!==K.o&&(te.disabled=K.o=Me),K},{e:void 0,t:void 0,a:void 0,o:void 0}),U(()=>H.value=l()),U(()=>Se.value=_()),R})()}we(["click","input"]);var Gi=X("<div class=section><h4>");function Yi(e){return(()=>{var t=Gi(),n=t.firstChild;return W(n,()=>e.section.name),W(t,()=>e.children,null),t})()}var zi=X("<span class=history-index>"),ji=X("<div><div class=bed-content><h6></h6><p></p><p>"),Hi=X("<span> ");function Vi(e){let t;const{bedCommunication:n,setBedCommunication:i,setShowGardenMap:a,showGardenMap:l}=fe(ue),[c,h]=B([]),[g,_]=B(0),[y,v]=B(!1),m=()=>{_(g()+1),g()>c().length-1&&_(0),t=setTimeout(()=>m(),2e3)};pe(ut(()=>l(),async()=>{t&&clearTimeout(t),h(await hi(e.bed.id)),t=setTimeout(()=>m(),2e3)}));const E=()=>{n.return===!0&&(i("return",e.bed),a(!1))};return pe(()=>{n.highlight===e.bed.id?v(!0):v(!1)}),(()=>{var D=ji(),k=D.firstChild,T=k.firstChild,R=T.nextSibling,C=R.nextSibling;return D.$$click=()=>E(),W(T,()=>e.bed.name),W(R,()=>c()[g()]?.date),W(k,Y(Wn,{get when(){return c().length>0},get fallback(){return Hi()},get children(){var F=zi();return W(F,()=>g()+1),F}}),C),W(C,()=>c()[g()]?.culture),U(()=>Jr(D,y()?"bed highlight":"bed")),D})()}we(["click"]);var Ki=X('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><span><strong>Garden Map</strong></span></header><div id=pile><div id=map></div><canvas id=garden-canvas>');function Ji(){let e,t;const{showGardenMap:n,setShowGardenMap:i,showGardenMapEditor:a,setShowGardenMapEditor:l,bedCommunication:c,setBedCommunication:h}=fe(ue);return Re(()=>{ui(),zn(),e.width=t.clientWidth,e.height=t.clientHeight;let g=e.getContext("2d");g.fillStyle="#000a",g.fillRect(0,0,e.width,e.height),g.fill()}),(()=>{var g=Ki(),_=g.firstChild,y=_.firstChild,v=y.firstChild,m=v.nextSibling,E=m.nextSibling,D=y.nextSibling,k=D.firstChild,T=k.nextSibling;W(g,Y(Ui,{}),_),_.style.setProperty("min-height","100vh"),_.style.setProperty("min-width","100vw"),_.style.setProperty("background-color","rgb(239, 215, 178)"),v.$$click=()=>i(!1),m.$$click=()=>l(!a()),E.style.setProperty("font-size","1.5rem");var R=t;typeof R=="function"?ie(R,k):t=k,W(k,Y(Ge,{get each(){return Ce().sections},children:(F,O)=>Y(Yi,{section:F,get children(){return Y(Ge,{get each(){return Ce().sections[O()].beds},children:b=>Y(Vi,{bed:b})})}})}));var C=e;return typeof C=="function"?ie(C,T):e=T,U(()=>ye(g,"open",n())),g})()}we(["click"]);var qi=X("<div>");function Qi(){const{showEditor:e,setShowEditor:t,openToEdit:n,setOpenToEdit:i,deleteHot:a,setDeleteHot:l,showReport:c,filteredDiary:h}=fe(ue);Re(async()=>{ci(),ri()});const g=async y=>{console.log("setting new entry"),ft([y,...Ae().filter(v=>v.id!==y.id)]),console.log(Ae()),Rt()},_=async y=>{if(a()===!1){l(y),setTimeout(()=>l(!1),2e3);return}a()===y?(ft(Ae().filter(v=>v.id!==y)),Rt()):l(y)};return pe(ut(()=>n(),()=>{n()!==null&&t(!0)})),pe(ut(()=>e(),()=>{e()===!1&&i(null)})),(()=>{var y=qi();return W(y,Y(Si,{}),null),W(y,Y(Ni,{saveNewEntry:g}),null),W(y,Y(Ji,{}),null),W(y,Y(Hr,{get children(){return[Y(Sn,{get when(){return!c()},get children(){return Y(Ge,{get each(){return h()},children:v=>Y(_i,{entry:v,deleteEntry:_})})}}),Y(Sn,{get when(){return c()},get children(){return Y(Mi,{})}})]}}),null),y})()}var Xi=X('<nav><ul><li><h2><i class="fa-solid fa-person-digging"></i></h2></li></ul><ul><li><h6>Work Diary</h6></li></ul><ul><li><button class="icon-button outline no-outline"><i class="fa-solid fa-filter"></i></button></li><li><button class="icon-button outline no-outline"><i class="fa-solid fa-location-dot"></i></button></li><li><button class="icon-button outline no-outline"><i class="fa-solid fa-bars">');function Zi(){const{showMenu:e,setShowMenu:t,showFilter:n,setShowFilter:i,setShowGardenMap:a}=fe(ue);return(()=>{var l=Xi(),c=l.firstChild,h=c.nextSibling,g=h.nextSibling,_=g.firstChild,y=_.firstChild,v=_.nextSibling,m=v.firstChild,E=v.nextSibling,D=E.firstChild;return y.$$click=()=>i(!n()),m.$$click=()=>{a(!0)},D.$$click=()=>t(!e()),l})()}we(["click"]);var eo=X('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-location-dot"></i></button></header><button>generate Report</button><hr><h6>export Data</h6><p>exports current data to your device<br>this can serve as an update</p><button>export Diary</button><hr><h6>import diary data</h6><p><mark>Caution!</mark> Existing data will be overwritten.</p><input type=file><button>import Diary');let Zt,en;function to(e){const{showMenu:t,setShowMenu:n,showReport:i,setShowReport:a,showGardenMap:l,setShowGardenMap:c}=fe(ue),h=g=>{t()&&(Zt.contains(g.target)||n(!1))};return Re(()=>{document.addEventListener("click",h,!0)}),Mt(()=>{document.removeEventListener("click",h,!0)}),(()=>{var g=eo(),_=g.firstChild,y=_.firstChild,v=y.firstChild,m=v.nextSibling,E=y.nextSibling,D=E.nextSibling,k=D.nextSibling,T=k.nextSibling,R=T.nextSibling,C=R.nextSibling,F=C.nextSibling,O=F.nextSibling,b=O.nextSibling,N=b.nextSibling,I=Zt;typeof I=="function"?ie(I,_):Zt=_,v.$$click=()=>n(!1),m.$$click=()=>{c(!0),n(!1)},E.$$click=()=>{a(!0),n(!1)},R.$$click=()=>{fi(),n(!1)};var P=en;return typeof P=="function"?ie(P,b):en=b,N.$$click=()=>{di(en.files[0]),n(!1)},N.style.setProperty("background-color","var(--pico-del-color)"),U(()=>ye(g,"open",t())),g})()}we(["click"]);var no=X("<div id=toast><h3></h3><p>");function ro(){const{toastMessage:e,setToastMessage:t}=fe(ue);return pe(()=>{e().show&&setTimeout(()=>t(n=>({title:n.title,message:n.message,show:!1})),3e3)}),(()=>{var n=no(),i=n.firstChild,a=i.nextSibling;return W(i,()=>e().title),W(a,()=>e().message),U(()=>ye(n,"open",e().show)),n})()}var io=X('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-caret-left"></i></button><button class="icon-button outline"><i class="fa-solid fa-filter-circle-xmark"></i></button></header><label>starting from:<input type=date></label><label>ending at:<input type=date></label><button>this year</button><button>this month</button><button>last month</button><fieldset><legend>done/pending</legend><label><input type=radio name=done-pending>done</label><label><input type=radio name=done-pending>pending</label><label><input type=radio name=done-pending>both</label></fieldset><fieldset><legend>Kategorie'),oo=X("<label><input type=radio>");function ao(){const{showFilter:e,setShowFilter:t,setFilter:n,resetFilter:i,filter:a,categorys:l}=fe(ue);let c,h,g;const _=E=>{e()&&(c.contains(E.target)||t(!1))};Re(()=>{document.addEventListener("click",_,!0)}),Mt(()=>{document.removeEventListener("click",_,!0)});const y=()=>{n({...a(),dateBegin:Ee(`${Ie()}-01-01`)}),n({...a(),dateEnd:Ee(`${Ie()}-12-31`)})},v=()=>{n({...a(),dateBegin:Ee(`${Ie()}-${Fe()}-1`)}),n({...a(),dateEnd:Ee(`${Ie()}-${Fe()}-${An(Ie(),Fe())}`)})},m=()=>{n({...a(),dateBegin:Ee(`${Ie()}-${Number(Fe())-1}-1`)}),n({...a(),dateEnd:Ee(`${Ie()}-${Number(Fe())-1}-${An(Ie(),Number(Fe())-1)}`)})};return(()=>{var E=io(),D=E.firstChild,k=D.firstChild,T=k.firstChild,R=T.nextSibling,C=k.nextSibling,F=C.firstChild,O=F.nextSibling,b=C.nextSibling,N=b.firstChild,I=N.nextSibling,P=b.nextSibling,j=P.nextSibling,H=j.nextSibling,Z=H.nextSibling,V=Z.firstChild,oe=V.nextSibling,de=oe.firstChild,_e=oe.nextSibling,ae=_e.firstChild,he=_e.nextSibling,$e=he.firstChild,De=Z.nextSibling;De.firstChild;var Se=c;typeof Se=="function"?ie(Se,D):c=D,T.$$click=()=>t(!1),R.$$click=()=>i(),O.addEventListener("change",()=>n({...a(),dateBegin:Ee(h.value)}));var te=h;typeof te=="function"?ie(te,O):h=O,I.addEventListener("change",()=>n({...a(),dateEnd:Ee(g.value)}));var xe=g;return typeof xe=="function"?ie(xe,I):g=I,P.$$click=()=>y(),j.$$click=()=>v(),H.$$click=()=>m(),de.addEventListener("change",()=>n({...a(),done:"done"})),ae.addEventListener("change",()=>n({...a(),done:"pending"})),$e.addEventListener("change",()=>n({...a(),done:"both"})),W(De,Y(Ge,{get each(){return[...l,"All"]},children:M=>(()=>{var ne=oo(),K=ne.firstChild;return K.addEventListener("change",()=>n({...a(),category:M})),ye(K,"name",M),W(ne,M,null),U(()=>K.checked=M===a().category),ne})()}),null),U(()=>ye(E,"open",e())),U(()=>O.value=a().dateBegin?ln(a().dateBegin):null),U(()=>I.value=ln(a().dateEnd)),U(()=>de.checked=a().done==="done"),U(()=>ae.checked=a().done==="pending"),U(()=>$e.checked=a().done==="both"),E})()}we(["click"]);var lo=X("<div class=card><dialog><h4>Like to get Notified?</h4><button>activate notifications");function so(){fe(ue);const[e,t]=B(!1);return Re(async()=>{ei(),await ti()||t(!0)}),[Y(Zi,{}),Y(to,{}),Y(ao,{}),Y(ro,{}),(()=>{var n=lo(),i=n.firstChild,a=i.firstChild,l=a.nextSibling;return l.$$click=()=>{ni(),t(!1)},U(()=>i.open=e()),n})(),Y(Qi,{})]}we(["click"]);const uo=document.getElementById("root");Kr(()=>Y(bi,{get children(){return Y(so,{})}}),uo);
