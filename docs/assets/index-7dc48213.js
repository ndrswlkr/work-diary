(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const v of l.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&f(v)}).observe(document,{childList:!0,subtree:!0});function o(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function f(c){if(c.ep)return;c.ep=!0;const l=o(c);fetch(c.href,l)}})();const Qn=(e,r)=>e===r,Jn=Symbol("solid-track"),ze={equals:Qn};let Ht=Jt;const de=1,je=2,Vt={owned:null,cleanups:null,context:null,owner:null};var F=null;let ft=null,Xn=null,j=null,q=null,ae=null,Je=0;function Ye(e,r){const o=j,f=F,c=e.length===0,l=r===void 0?f:r,v=c?Vt:{owned:null,cleanups:null,context:l?l.context:null,owner:l},d=c?e:()=>e(()=>oe(()=>Xe(v)));F=v,j=null;try{return Ne(d,!0)}finally{j=o,F=f}}function K(e,r){r=r?Object.assign({},ze,r):ze;const o={value:e,observers:null,observerSlots:null,comparator:r.equals||void 0},f=c=>(typeof c=="function"&&(c=c(o.value)),Qt(o,c));return[Gt.bind(o),f]}function J(e,r,o){const f=mt(e,r,!1,de);Te(f)}function Ee(e,r,o){Ht=tr;const f=mt(e,r,!1,de);(!o||!o.render)&&(f.user=!0),ae?ae.push(f):Te(f)}function Ie(e,r,o){o=o?Object.assign({},ze,o):ze;const f=mt(e,r,!0,0);return f.observers=null,f.observerSlots=null,f.comparator=o.equals||void 0,Te(f),Gt.bind(f)}function oe(e){if(j===null)return e();const r=j;j=null;try{return e()}finally{j=r}}function dt(e,r,o){const f=Array.isArray(e);let c,l=o&&o.defer;return v=>{let d;if(f){d=Array(e.length);for(let S=0;S<e.length;S++)d[S]=e[S]()}else d=e();if(l)return l=!1,v;const $=oe(()=>r(d,c,v));return c=d,$}}function Re(e){Ee(()=>oe(e))}function yt(e){return F===null||(F.cleanups===null?F.cleanups=[e]:F.cleanups.push(e)),e}function qn(e,r){const o=Symbol("context");return{id:o,Provider:rr(o),defaultValue:e}}function he(e){return F&&F.context&&F.context[e.id]!==void 0?F.context[e.id]:e.defaultValue}function Kt(e){const r=Ie(e),o=Ie(()=>ht(r()));return o.toArray=()=>{const f=o();return Array.isArray(f)?f:f!=null?[f]:[]},o}function Gt(){if(this.sources&&this.state)if(this.state===de)Te(this);else{const e=q;q=null,Ne(()=>Ve(this),!1),q=e}if(j){const e=this.observers?this.observers.length:0;j.sources?(j.sources.push(this),j.sourceSlots.push(e)):(j.sources=[this],j.sourceSlots=[e]),this.observers?(this.observers.push(j),this.observerSlots.push(j.sources.length-1)):(this.observers=[j],this.observerSlots=[j.sources.length-1])}return this.value}function Qt(e,r,o){let f=e.value;return(!e.comparator||!e.comparator(f,r))&&(e.value=r,e.observers&&e.observers.length&&Ne(()=>{for(let c=0;c<e.observers.length;c+=1){const l=e.observers[c],v=ft&&ft.running;v&&ft.disposed.has(l),(v?!l.tState:!l.state)&&(l.pure?q.push(l):ae.push(l),l.observers&&Xt(l)),v||(l.state=de)}if(q.length>1e6)throw q=[],new Error},!1)),r}function Te(e){if(!e.fn)return;Xe(e);const r=Je;Zn(e,e.value,r)}function Zn(e,r,o){let f;const c=F,l=j;j=F=e;try{f=e.fn(r)}catch(v){return e.pure&&(e.state=de,e.owned&&e.owned.forEach(Xe),e.owned=null),e.updatedAt=o+1,qt(v)}finally{j=l,F=c}(!e.updatedAt||e.updatedAt<=o)&&(e.updatedAt!=null&&"observers"in e?Qt(e,f):e.value=f,e.updatedAt=o)}function mt(e,r,o,f=de,c){const l={fn:e,state:f,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:F,context:F?F.context:null,pure:o};return F===null||F!==Vt&&(F.owned?F.owned.push(l):F.owned=[l]),l}function He(e){if(e.state===0)return;if(e.state===je)return Ve(e);if(e.suspense&&oe(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Je);)e.state&&r.push(e);for(let o=r.length-1;o>=0;o--)if(e=r[o],e.state===de)Te(e);else if(e.state===je){const f=q;q=null,Ne(()=>Ve(e,r[0]),!1),q=f}}function Ne(e,r){if(q)return e();let o=!1;r||(q=[]),ae?o=!0:ae=[],Je++;try{const f=e();return er(o),f}catch(f){o||(ae=null),q=null,qt(f)}}function er(e){if(q&&(Jt(q),q=null),e)return;const r=ae;ae=null,r.length&&Ne(()=>Ht(r),!1)}function Jt(e){for(let r=0;r<e.length;r++)He(e[r])}function tr(e){let r,o=0;for(r=0;r<e.length;r++){const f=e[r];f.user?e[o++]=f:He(f)}for(r=0;r<o;r++)He(e[r])}function Ve(e,r){e.state=0;for(let o=0;o<e.sources.length;o+=1){const f=e.sources[o];if(f.sources){const c=f.state;c===de?f!==r&&(!f.updatedAt||f.updatedAt<Je)&&He(f):c===je&&Ve(f,r)}}}function Xt(e){for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r];o.state||(o.state=je,o.pure?q.push(o):ae.push(o),o.observers&&Xt(o))}}function Xe(e){let r;if(e.sources)for(;e.sources.length;){const o=e.sources.pop(),f=e.sourceSlots.pop(),c=o.observers;if(c&&c.length){const l=c.pop(),v=o.observerSlots.pop();f<c.length&&(l.sourceSlots[v]=f,c[f]=l,o.observerSlots[f]=v)}}if(e.owned){for(r=e.owned.length-1;r>=0;r--)Xe(e.owned[r]);e.owned=null}if(e.cleanups){for(r=e.cleanups.length-1;r>=0;r--)e.cleanups[r]();e.cleanups=null}e.state=0}function nr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qt(e,r=F){throw nr(e)}function ht(e){if(typeof e=="function"&&!e.length)return ht(e());if(Array.isArray(e)){const r=[];for(let o=0;o<e.length;o++){const f=ht(e[o]);Array.isArray(f)?r.push.apply(r,f):r.push(f)}return r}return e}function rr(e,r){return function(f){let c;return J(()=>c=oe(()=>(F.context={...F.context,[e]:f.value},Kt(()=>f.children))),void 0),c}}const or=Symbol("fallback");function Ft(e){for(let r=0;r<e.length;r++)e[r]()}function ir(e,r,o={}){let f=[],c=[],l=[],v=0,d=r.length>1?[]:null;return yt(()=>Ft(l)),()=>{let $=e()||[],S,_;return $[Jn],oe(()=>{let E=$.length,A,R,k,N,M,D,Y,W,w;if(E===0)v!==0&&(Ft(l),l=[],f=[],c=[],v=0,d&&(d=[])),o.fallback&&(f=[or],c[0]=Ye(T=>(l[0]=T,o.fallback())),v=1);else if(v===0){for(c=new Array(E),_=0;_<E;_++)f[_]=$[_],c[_]=Ye(m);v=E}else{for(k=new Array(E),N=new Array(E),d&&(M=new Array(E)),D=0,Y=Math.min(v,E);D<Y&&f[D]===$[D];D++);for(Y=v-1,W=E-1;Y>=D&&W>=D&&f[Y]===$[W];Y--,W--)k[W]=c[Y],N[W]=l[Y],d&&(M[W]=d[Y]);for(A=new Map,R=new Array(W+1),_=W;_>=D;_--)w=$[_],S=A.get(w),R[_]=S===void 0?-1:S,A.set(w,_);for(S=D;S<=Y;S++)w=f[S],_=A.get(w),_!==void 0&&_!==-1?(k[_]=c[S],N[_]=l[S],d&&(M[_]=d[S]),_=R[_],A.set(w,_)):l[S]();for(_=D;_<E;_++)_ in k?(c[_]=k[_],l[_]=N[_],d&&(d[_]=M[_],d[_](_))):c[_]=Ye(m);c=c.slice(0,v=E),f=$.slice(0)}return c});function m(E){if(l[_]=E,d){const[A,R]=K(_);return d[_]=R,r($[_],A)}return r($[_])}}}function Q(e,r){return oe(()=>e(r||{}))}const ar=e=>`Stale read from <${e}>.`;function Zt(e){const r="fallback"in e&&{fallback:()=>e.fallback};return Ie(ir(()=>e.each,e.children,r||void 0))}function sr(e){let r=!1;const o=(l,v)=>(r?l[1]===v[1]:!l[1]==!v[1])&&l[2]===v[2],f=Kt(()=>e.children),c=Ie(()=>{let l=f();Array.isArray(l)||(l=[l]);for(let v=0;v<l.length;v++){const d=l[v].when;if(d)return r=!!l[v].keyed,[v,d,l[v]]}return[-1]},void 0,{equals:o});return Ie(()=>{const[l,v,d]=c();if(l<0)return e.fallback;const $=d.children;return typeof $=="function"&&$.length>0?oe(()=>$(r?v:()=>{if(oe(c)[0]!==l)throw ar("Match");return d.when})):$},void 0,void 0)}function Wt(e){return e}function fr(e,r,o){let f=o.length,c=r.length,l=f,v=0,d=0,$=r[c-1].nextSibling,S=null;for(;v<c||d<l;){if(r[v]===o[d]){v++,d++;continue}for(;r[c-1]===o[l-1];)c--,l--;if(c===v){const _=l<f?d?o[d-1].nextSibling:o[l-d]:$;for(;d<l;)e.insertBefore(o[d++],_)}else if(l===d)for(;v<c;)(!S||!S.has(r[v]))&&r[v].remove(),v++;else if(r[v]===o[l-1]&&o[d]===r[c-1]){const _=r[--c].nextSibling;e.insertBefore(o[d++],r[v++].nextSibling),e.insertBefore(o[--l],_),r[c]=o[l]}else{if(!S){S=new Map;let m=d;for(;m<l;)S.set(o[m],m++)}const _=S.get(r[v]);if(_!=null)if(d<_&&_<l){let m=v,E=1,A;for(;++m<c&&m<l&&!((A=S.get(r[m]))==null||A!==_+E);)E++;if(E>_-d){const R=r[v];for(;d<_;)e.insertBefore(o[d++],R)}else e.replaceChild(o[d++],r[v++])}else v++;else r[v++].remove()}}}const Ut="_$DX_DELEGATE";function ur(e,r,o,f={}){let c;return Ye(l=>{c=l,r===document?e():X(r,e(),r.firstChild?null:void 0,o)},f.owner),()=>{c(),r.textContent=""}}function ie(e,r,o){let f;const c=()=>{const v=document.createElement("template");return v.innerHTML=e,o?v.content.firstChild.firstChild:v.content.firstChild},l=r?()=>oe(()=>document.importNode(f||(f=c()),!0)):()=>(f||(f=c())).cloneNode(!0);return l.cloneNode=l,l}function me(e,r=window.document){const o=r[Ut]||(r[Ut]=new Set);for(let f=0,c=e.length;f<c;f++){const l=e[f];o.has(l)||(o.add(l),r.addEventListener(l,lr))}}function Ce(e,r,o){o==null?e.removeAttribute(r):e.setAttribute(r,o)}function Ae(e,r,o){return oe(()=>e(r,o))}function X(e,r,o,f){if(o!==void 0&&!f&&(f=[]),typeof r!="function")return Ke(e,r,f,o);J(c=>Ke(e,r(),c,o),f)}function lr(e){const r=`$$${e.type}`;let o=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==o&&Object.defineProperty(e,"target",{configurable:!0,value:o}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return o||document}});o;){const f=o[r];if(f&&!o.disabled){const c=o[`${r}Data`];if(c!==void 0?f.call(o,c,e):f.call(o,e),e.cancelBubble)return}o=o._$host||o.parentNode||o.host}}function Ke(e,r,o,f,c){for(;typeof o=="function";)o=o();if(r===o)return o;const l=typeof r,v=f!==void 0;if(e=v&&o[0]&&o[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(r=r.toString()),v){let d=o[0];d&&d.nodeType===3?d.data!==r&&(d.data=r):d=document.createTextNode(r),o=Se(e,o,f,d)}else o!==""&&typeof o=="string"?o=e.firstChild.data=r:o=e.textContent=r;else if(r==null||l==="boolean")o=Se(e,o,f);else{if(l==="function")return J(()=>{let d=r();for(;typeof d=="function";)d=d();o=Ke(e,d,o,f)}),()=>o;if(Array.isArray(r)){const d=[],$=o&&Array.isArray(o);if(vt(d,r,o,c))return J(()=>o=Ke(e,d,o,f,!0)),()=>o;if(d.length===0){if(o=Se(e,o,f),v)return o}else $?o.length===0?Yt(e,d,f):fr(e,o,d):(o&&Se(e),Yt(e,d));o=d}else if(r.nodeType){if(Array.isArray(o)){if(v)return o=Se(e,o,f,r);Se(e,o,null,r)}else o==null||o===""||!e.firstChild?e.appendChild(r):e.replaceChild(r,e.firstChild);o=r}}return o}function vt(e,r,o,f){let c=!1;for(let l=0,v=r.length;l<v;l++){let d=r[l],$=o&&o[e.length],S;if(!(d==null||d===!0||d===!1))if((S=typeof d)=="object"&&d.nodeType)e.push(d);else if(Array.isArray(d))c=vt(e,d,$)||c;else if(S==="function")if(f){for(;typeof d=="function";)d=d();c=vt(e,Array.isArray(d)?d:[d],Array.isArray($)?$:[$])||c}else e.push(d),c=!0;else{const _=String(d);$&&$.nodeType===3&&$.data===_?e.push($):e.push(document.createTextNode(_))}}return c}function Yt(e,r,o=null){for(let f=0,c=r.length;f<c;f++)e.insertBefore(r[f],o)}function Se(e,r,o,f){if(o===void 0)return e.textContent="";const c=f||document.createTextNode("");if(r.length){let l=!1;for(let v=r.length-1;v>=0;v--){const d=r[v];if(c!==d){const $=d.parentNode===e;!l&&!v?$?e.replaceChild(c,d):e.insertBefore(c,o):$&&d.remove()}else l=!0}}else e.insertBefore(c,o);return[c]}var cr=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},pt;typeof window<"u"&&(typeof Promise<"u"?pt=new Promise(function(e){return window.addEventListener("load",e)}):pt={then:function(e){return window.addEventListener("load",e)}});function dr(e,r){r===void 0&&(r={});var o=r.registrationOptions;o===void 0&&(o={}),delete r.registrationOptions;var f=function(c){for(var l=[],v=arguments.length-1;v-- >0;)l[v]=arguments[v+1];r&&r[c]&&r[c].apply(r,l)};"serviceWorker"in navigator&&pt.then(function(){cr()?(hr(e,f,o),navigator.serviceWorker.ready.then(function(c){f("ready",c)}).catch(function(c){return De(f,c)})):(en(e,f,o),navigator.serviceWorker.ready.then(function(c){f("ready",c)}).catch(function(c){return De(f,c)}))})}function De(e,r){navigator.onLine||e("offline"),e("error",r)}function en(e,r,o){navigator.serviceWorker.register(e,o).then(function(f){if(r("registered",f),f.waiting){r("updated",f);return}f.onupdatefound=function(){r("updatefound",f);var c=f.installing;c.onstatechange=function(){c.state==="installed"&&(navigator.serviceWorker.controller?r("updated",f):r("cached",f))}}}).catch(function(f){return De(r,f)})}function hr(e,r,o){fetch(e).then(function(f){f.status===404?(r("error",new Error("Service worker not found at "+e)),zt()):f.headers.get("content-type").indexOf("javascript")===-1?(r("error",new Error("Expected "+e+" to have javascript content-type, but received "+f.headers.get("content-type"))),zt()):en(e,r,o)}).catch(function(f){return De(r,f)})}function zt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return De(emit,e)})}function vr(){dr("/work-diary/serviceworker.js")}const pr=async()=>Notification.permission==="granted",gr=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ue(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,r){(function(o){e.exports=o()})(function(){return function o(f,c,l){function v(S,_){if(!c[S]){if(!f[S]){var m=typeof Ue=="function"&&Ue;if(!_&&m)return m(S,!0);if(d)return d(S,!0);var E=new Error("Cannot find module '"+S+"'");throw E.code="MODULE_NOT_FOUND",E}var A=c[S]={exports:{}};f[S][0].call(A.exports,function(R){var k=f[S][1][R];return v(k||R)},A,A.exports,o,f,c,l)}return c[S].exports}for(var d=typeof Ue=="function"&&Ue,$=0;$<l.length;$++)v(l[$]);return v}({1:[function(o,f,c){(function(l){var v=l.MutationObserver||l.WebKitMutationObserver,d;if(v){var $=0,S=new v(R),_=l.document.createTextNode("");S.observe(_,{characterData:!0}),d=function(){_.data=$=++$%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var m=new l.MessageChannel;m.port1.onmessage=R,d=function(){m.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?d=function(){var N=l.document.createElement("script");N.onreadystatechange=function(){R(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},l.document.documentElement.appendChild(N)}:d=function(){setTimeout(R,0)};var E,A=[];function R(){E=!0;for(var N,M,D=A.length;D;){for(M=A,A=[],N=-1;++N<D;)M[N]();D=A.length}E=!1}f.exports=k;function k(N){A.push(N)===1&&!E&&d()}}).call(this,typeof We<"u"?We:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(o,f,c){var l=o(1);function v(){}var d={},$=["REJECTED"],S=["FULFILLED"],_=["PENDING"];f.exports=m;function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,w!==v&&k(this,w)}m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,T){if(typeof w!="function"&&this.state===S||typeof T!="function"&&this.state===$)return this;var I=new this.constructor(v);if(this.state!==_){var O=this.state===S?w:T;A(I,O,this.outcome)}else this.queue.push(new E(I,w,T));return I};function E(w,T,I){this.promise=w,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}E.prototype.callFulfilled=function(w){d.resolve(this.promise,w)},E.prototype.otherCallFulfilled=function(w){A(this.promise,this.onFulfilled,w)},E.prototype.callRejected=function(w){d.reject(this.promise,w)},E.prototype.otherCallRejected=function(w){A(this.promise,this.onRejected,w)};function A(w,T,I){l(function(){var O;try{O=T(I)}catch(H){return d.reject(w,H)}O===w?d.reject(w,new TypeError("Cannot resolve promise with itself")):d.resolve(w,O)})}d.resolve=function(w,T){var I=N(R,T);if(I.status==="error")return d.reject(w,I.value);var O=I.value;if(O)k(w,O);else{w.state=S,w.outcome=T;for(var H=-1,P=w.queue.length;++H<P;)w.queue[H].callFulfilled(T)}return w},d.reject=function(w,T){w.state=$,w.outcome=T;for(var I=-1,O=w.queue.length;++I<O;)w.queue[I].callRejected(T);return w};function R(w){var T=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof T=="function")return function(){T.apply(w,arguments)}}function k(w,T){var I=!1;function O(G){I||(I=!0,d.reject(w,G))}function H(G){I||(I=!0,d.resolve(w,G))}function P(){T(H,O)}var V=N(P);V.status==="error"&&O(V.value)}function N(w,T){var I={};try{I.value=w(T),I.status="success"}catch(O){I.status="error",I.value=O}return I}m.resolve=M;function M(w){return w instanceof this?w:d.resolve(new this(v),w)}m.reject=D;function D(w){var T=new this(v);return d.reject(T,w)}m.all=Y;function Y(w){var T=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=w.length,O=!1;if(!I)return this.resolve([]);for(var H=new Array(I),P=0,V=-1,G=new this(v);++V<I;)te(w[V],V);return G;function te(ve,pe){T.resolve(ve).then(be,function(Z){O||(O=!0,d.reject(G,Z))});function be(Z){H[pe]=Z,++P===I&&!O&&(O=!0,d.resolve(G,H))}}}m.race=W;function W(w){var T=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=w.length,O=!1;if(!I)return this.resolve([]);for(var H=-1,P=new this(v);++H<I;)V(w[H]);return P;function V(G){T.resolve(G).then(function(te){O||(O=!0,d.resolve(P,te))},function(te){O||(O=!0,d.reject(P,te))})}}},{1:1}],3:[function(o,f,c){(function(l){typeof l.Promise!="function"&&(l.Promise=o(2))}).call(this,typeof We<"u"?We:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(o,f,c){var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function v(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var $=d();function S(){try{if(!$||!$.open)return!1;var t=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),i=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!t||i)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function _(t,i){t=t||[],i=i||{};try{return new Blob(t,i)}catch(a){if(a.name!=="TypeError")throw a;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,s=new n,u=0;u<t.length;u+=1)s.append(t[u]);return s.getBlob(i.type)}}typeof Promise>"u"&&o(3);var m=Promise;function E(t,i){i&&t.then(function(n){i(null,n)},function(n){i(n)})}function A(t,i,n){typeof i=="function"&&t.then(i),typeof n=="function"&&t.catch(n)}function R(t){return typeof t!="string"&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var N="local-forage-detect-blob-support",M=void 0,D={},Y=Object.prototype.toString,W="readonly",w="readwrite";function T(t){for(var i=t.length,n=new ArrayBuffer(i),s=new Uint8Array(n),u=0;u<i;u++)s[u]=t.charCodeAt(u);return n}function I(t){return new m(function(i){var n=t.transaction(N,w),s=_([""]);n.objectStore(N).put(s,"key"),n.onabort=function(u){u.preventDefault(),u.stopPropagation(),i(!1)},n.oncomplete=function(){var u=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);i(a||!u||parseInt(u[1],10)>=43)}}).catch(function(){return!1})}function O(t){return typeof M=="boolean"?m.resolve(M):I(t).then(function(i){return M=i,M})}function H(t){var i=D[t.name],n={};n.promise=new m(function(s,u){n.resolve=s,n.reject=u}),i.deferredOperations.push(n),i.dbReady?i.dbReady=i.dbReady.then(function(){return n.promise}):i.dbReady=n.promise}function P(t){var i=D[t.name],n=i.deferredOperations.pop();if(n)return n.resolve(),n.promise}function V(t,i){var n=D[t.name],s=n.deferredOperations.pop();if(s)return s.reject(i),s.promise}function G(t,i){return new m(function(n,s){if(D[t.name]=D[t.name]||fe(),t.db)if(i)H(t),t.db.close();else return n(t.db);var u=[t.name];i&&u.push(t.version);var a=$.open.apply($,u);i&&(a.onupgradeneeded=function(h){var p=a.result;try{p.createObjectStore(t.storeName),h.oldVersion<=1&&p.createObjectStore(N)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+t.name+'" has been upgraded from version '+h.oldVersion+" to version "+h.newVersion+', but the storage "'+t.storeName+'" already exists.');else throw g}}),a.onerror=function(h){h.preventDefault(),s(a.error)},a.onsuccess=function(){var h=a.result;h.onversionchange=function(p){p.target.close()},n(h),P(t)}})}function te(t){return G(t,!1)}function ve(t){return G(t,!0)}function pe(t,i){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),s=t.version<t.db.version,u=t.version>t.db.version;if(s&&(t.version!==i&&console.warn('The database "'+t.name+`" can't be downgraded from version `+t.db.version+" to version "+t.version+"."),t.version=t.db.version),u||n){if(n){var a=t.db.version+1;a>t.version&&(t.version=a)}return!0}return!1}function be(t){return new m(function(i,n){var s=new FileReader;s.onerror=n,s.onloadend=function(u){var a=btoa(u.target.result||"");i({__local_forage_encoded_blob:!0,data:a,type:t.type})},s.readAsBinaryString(t)})}function Z(t){var i=T(atob(t.data));return _([i],{type:t.type})}function _e(t){return t&&t.__local_forage_encoded_blob}function Pe(t){var i=this,n=i._initReady().then(function(){var s=D[i._dbInfo.name];if(s&&s.dbReady)return s.dbReady});return A(n,t,t),n}function qe(t){H(t);for(var i=D[t.name],n=i.forages,s=0;s<n.length;s++){var u=n[s];u._dbInfo.db&&(u._dbInfo.db.close(),u._dbInfo.db=null)}return t.db=null,te(t).then(function(a){return t.db=a,pe(t)?ve(t):a}).then(function(a){t.db=i.db=a;for(var h=0;h<n.length;h++)n[h]._dbInfo.db=a}).catch(function(a){throw V(t,a),a})}function re(t,i,n,s){s===void 0&&(s=1);try{var u=t.db.transaction(t.storeName,i);n(null,u)}catch(a){if(s>0&&(!t.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return m.resolve().then(function(){if(!t.db||a.name==="NotFoundError"&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),ve(t)}).then(function(){return qe(t).then(function(){re(t,i,n,s-1)})}).catch(n);n(a)}}function fe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Le(t){var i=this,n={db:null};if(t)for(var s in t)n[s]=t[s];var u=D[n.name];u||(u=fe(),D[n.name]=u),u.forages.push(i),i._initReady||(i._initReady=i.ready,i.ready=Pe);var a=[];function h(){return m.resolve()}for(var p=0;p<u.forages.length;p++){var g=u.forages[p];g!==i&&a.push(g._initReady().catch(h))}var y=u.forages.slice(0);return m.all(a).then(function(){return n.db=u.db,te(n)}).then(function(b){return n.db=b,pe(n,i._defaultConfig.version)?ve(n):b}).then(function(b){n.db=u.db=b,i._dbInfo=n;for(var x=0;x<y.length;x++){var C=y[x];C!==i&&(C._dbInfo.db=n.db,C._dbInfo.version=n.version)}})}function Oe(t,i){var n=this;t=R(t);var s=new m(function(u,a){n.ready().then(function(){re(n._dbInfo,W,function(h,p){if(h)return a(h);try{var g=p.objectStore(n._dbInfo.storeName),y=g.get(t);y.onsuccess=function(){var b=y.result;b===void 0&&(b=null),_e(b)&&(b=Z(b)),u(b)},y.onerror=function(){a(y.error)}}catch(b){a(b)}})}).catch(a)});return E(s,i),s}function Be(t,i){var n=this,s=new m(function(u,a){n.ready().then(function(){re(n._dbInfo,W,function(h,p){if(h)return a(h);try{var g=p.objectStore(n._dbInfo.storeName),y=g.openCursor(),b=1;y.onsuccess=function(){var x=y.result;if(x){var C=x.value;_e(C)&&(C=Z(C));var L=t(C,x.key,b++);L!==void 0?u(L):x.continue()}else u()},y.onerror=function(){a(y.error)}}catch(x){a(x)}})}).catch(a)});return E(s,i),s}function ke(t,i,n){var s=this;t=R(t);var u=new m(function(a,h){var p;s.ready().then(function(){return p=s._dbInfo,Y.call(i)==="[object Blob]"?O(p.db).then(function(g){return g?i:be(i)}):i}).then(function(g){re(s._dbInfo,w,function(y,b){if(y)return h(y);try{var x=b.objectStore(s._dbInfo.storeName);g===null&&(g=void 0);var C=x.put(g,t);b.oncomplete=function(){g===void 0&&(g=null),a(g)},b.onabort=b.onerror=function(){var L=C.error?C.error:C.transaction.error;h(L)}}catch(L){h(L)}})}).catch(h)});return E(u,n),u}function ee(t,i){var n=this;t=R(t);var s=new m(function(u,a){n.ready().then(function(){re(n._dbInfo,w,function(h,p){if(h)return a(h);try{var g=p.objectStore(n._dbInfo.storeName),y=g.delete(t);p.oncomplete=function(){u()},p.onerror=function(){a(y.error)},p.onabort=function(){var b=y.error?y.error:y.transaction.error;a(b)}}catch(b){a(b)}})}).catch(a)});return E(s,i),s}function ue(t){var i=this,n=new m(function(s,u){i.ready().then(function(){re(i._dbInfo,w,function(a,h){if(a)return u(a);try{var p=h.objectStore(i._dbInfo.storeName),g=p.clear();h.oncomplete=function(){s()},h.onabort=h.onerror=function(){var y=g.error?g.error:g.transaction.error;u(y)}}catch(y){u(y)}})}).catch(u)});return E(n,t),n}function ge(t){var i=this,n=new m(function(s,u){i.ready().then(function(){re(i._dbInfo,W,function(a,h){if(a)return u(a);try{var p=h.objectStore(i._dbInfo.storeName),g=p.count();g.onsuccess=function(){s(g.result)},g.onerror=function(){u(g.error)}}catch(y){u(y)}})}).catch(u)});return E(n,t),n}function on(t,i){var n=this,s=new m(function(u,a){if(t<0){u(null);return}n.ready().then(function(){re(n._dbInfo,W,function(h,p){if(h)return a(h);try{var g=p.objectStore(n._dbInfo.storeName),y=!1,b=g.openKeyCursor();b.onsuccess=function(){var x=b.result;if(!x){u(null);return}t===0||y?u(x.key):(y=!0,x.advance(t))},b.onerror=function(){a(b.error)}}catch(x){a(x)}})}).catch(a)});return E(s,i),s}function an(t){var i=this,n=new m(function(s,u){i.ready().then(function(){re(i._dbInfo,W,function(a,h){if(a)return u(a);try{var p=h.objectStore(i._dbInfo.storeName),g=p.openKeyCursor(),y=[];g.onsuccess=function(){var b=g.result;if(!b){s(y);return}y.push(b.key),b.continue()},g.onerror=function(){u(g.error)}}catch(b){u(b)}})}).catch(u)});return E(n,t),n}function sn(t,i){i=k.apply(this,arguments);var n=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var s=this,u;if(!t.name)u=m.reject("Invalid arguments");else{var a=t.name===n.name&&s._dbInfo.db,h=a?m.resolve(s._dbInfo.db):te(t).then(function(p){var g=D[t.name],y=g.forages;g.db=p;for(var b=0;b<y.length;b++)y[b]._dbInfo.db=p;return p});t.storeName?u=h.then(function(p){if(p.objectStoreNames.contains(t.storeName)){var g=p.version+1;H(t);var y=D[t.name],b=y.forages;p.close();for(var x=0;x<b.length;x++){var C=b[x];C._dbInfo.db=null,C._dbInfo.version=g}var L=new m(function(B,z){var U=$.open(t.name,g);U.onerror=function(ne){var xe=U.result;xe.close(),z(ne)},U.onupgradeneeded=function(){var ne=U.result;ne.deleteObjectStore(t.storeName)},U.onsuccess=function(){var ne=U.result;ne.close(),B(ne)}});return L.then(function(B){y.db=B;for(var z=0;z<b.length;z++){var U=b[z];U._dbInfo.db=B,P(U._dbInfo)}}).catch(function(B){throw(V(t,B)||m.resolve()).catch(function(){}),B})}}):u=h.then(function(p){H(t);var g=D[t.name],y=g.forages;p.close();for(var b=0;b<y.length;b++){var x=y[b];x._dbInfo.db=null}var C=new m(function(L,B){var z=$.deleteDatabase(t.name);z.onerror=function(){var U=z.result;U&&U.close(),B(z.error)},z.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},z.onsuccess=function(){var U=z.result;U&&U.close(),L(U)}});return C.then(function(L){g.db=L;for(var B=0;B<y.length;B++){var z=y[B];P(z._dbInfo)}}).catch(function(L){throw(V(t,L)||m.resolve()).catch(function(){}),L})})}return E(u,i),u}var fn={_driver:"asyncStorage",_initStorage:Le,_support:S(),iterate:Be,getItem:Oe,setItem:ke,removeItem:ee,clear:ue,length:ge,key:on,keys:an,dropInstance:sn};function un(){return typeof openDatabase=="function"}var le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ln="~~local_forage_type~",_t=/^~~local_forage_type~([^~]+)~/,Me="__lfsc__:",Ze=Me.length,et="arbf",tt="blob",wt="si08",St="ui08",Et="uic8",$t="si16",xt="si32",At="ur16",It="ui32",Ct="fl32",Dt="fl64",Rt=Ze+et.length,Tt=Object.prototype.toString;function Nt(t){var i=t.length*.75,n=t.length,s,u=0,a,h,p,g;t[t.length-1]==="="&&(i--,t[t.length-2]==="="&&i--);var y=new ArrayBuffer(i),b=new Uint8Array(y);for(s=0;s<n;s+=4)a=le.indexOf(t[s]),h=le.indexOf(t[s+1]),p=le.indexOf(t[s+2]),g=le.indexOf(t[s+3]),b[u++]=a<<2|h>>4,b[u++]=(h&15)<<4|p>>2,b[u++]=(p&3)<<6|g&63;return y}function nt(t){var i=new Uint8Array(t),n="",s;for(s=0;s<i.length;s+=3)n+=le[i[s]>>2],n+=le[(i[s]&3)<<4|i[s+1]>>4],n+=le[(i[s+1]&15)<<2|i[s+2]>>6],n+=le[i[s+2]&63];return i.length%3===2?n=n.substring(0,n.length-1)+"=":i.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function cn(t,i){var n="";if(t&&(n=Tt.call(t)),t&&(n==="[object ArrayBuffer]"||t.buffer&&Tt.call(t.buffer)==="[object ArrayBuffer]")){var s,u=Me;t instanceof ArrayBuffer?(s=t,u+=et):(s=t.buffer,n==="[object Int8Array]"?u+=wt:n==="[object Uint8Array]"?u+=St:n==="[object Uint8ClampedArray]"?u+=Et:n==="[object Int16Array]"?u+=$t:n==="[object Uint16Array]"?u+=At:n==="[object Int32Array]"?u+=xt:n==="[object Uint32Array]"?u+=It:n==="[object Float32Array]"?u+=Ct:n==="[object Float64Array]"?u+=Dt:i(new Error("Failed to get type for BinaryArray"))),i(u+nt(s))}else if(n==="[object Blob]"){var a=new FileReader;a.onload=function(){var h=ln+t.type+"~"+nt(this.result);i(Me+tt+h)},a.readAsArrayBuffer(t)}else try{i(JSON.stringify(t))}catch(h){console.error("Couldn't convert value into a JSON string: ",t),i(null,h)}}function dn(t){if(t.substring(0,Ze)!==Me)return JSON.parse(t);var i=t.substring(Rt),n=t.substring(Ze,Rt),s;if(n===tt&&_t.test(i)){var u=i.match(_t);s=u[1],i=i.substring(u[0].length)}var a=Nt(i);switch(n){case et:return a;case tt:return _([a],{type:s});case wt:return new Int8Array(a);case St:return new Uint8Array(a);case Et:return new Uint8ClampedArray(a);case $t:return new Int16Array(a);case At:return new Uint16Array(a);case xt:return new Int32Array(a);case It:return new Uint32Array(a);case Ct:return new Float32Array(a);case Dt:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var rt={serialize:cn,deserialize:dn,stringToBuffer:Nt,bufferToString:nt};function Pt(t,i,n,s){t.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,s)}function hn(t){var i=this,n={db:null};if(t)for(var s in t)n[s]=typeof t[s]!="string"?t[s].toString():t[s];var u=new m(function(a,h){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(p){return h(p)}n.db.transaction(function(p){Pt(p,n,function(){i._dbInfo=n,a()},function(g,y){h(y)})},h)});return n.serializer=rt,u}function ce(t,i,n,s,u,a){t.executeSql(n,s,u,function(h,p){p.code===p.SYNTAX_ERR?h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[i.storeName],function(g,y){y.rows.length?a(g,p):Pt(g,i,function(){g.executeSql(n,s,u,a)},a)},a):a(h,p)},a)}function vn(t,i){var n=this;t=R(t);var s=new m(function(u,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(p){ce(p,h,"SELECT * FROM "+h.storeName+" WHERE key = ? LIMIT 1",[t],function(g,y){var b=y.rows.length?y.rows.item(0).value:null;b&&(b=h.serializer.deserialize(b)),u(b)},function(g,y){a(y)})})}).catch(a)});return E(s,i),s}function pn(t,i){var n=this,s=new m(function(u,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(p){ce(p,h,"SELECT * FROM "+h.storeName,[],function(g,y){for(var b=y.rows,x=b.length,C=0;C<x;C++){var L=b.item(C),B=L.value;if(B&&(B=h.serializer.deserialize(B)),B=t(B,L.key,C+1),B!==void 0){u(B);return}}u()},function(g,y){a(y)})})}).catch(a)});return E(s,i),s}function Lt(t,i,n,s){var u=this;t=R(t);var a=new m(function(h,p){u.ready().then(function(){i===void 0&&(i=null);var g=i,y=u._dbInfo;y.serializer.serialize(i,function(b,x){x?p(x):y.db.transaction(function(C){ce(C,y,"INSERT OR REPLACE INTO "+y.storeName+" (key, value) VALUES (?, ?)",[t,b],function(){h(g)},function(L,B){p(B)})},function(C){if(C.code===C.QUOTA_ERR){if(s>0){h(Lt.apply(u,[t,g,n,s-1]));return}p(C)}})})}).catch(p)});return E(a,n),a}function gn(t,i,n){return Lt.apply(this,[t,i,n,1])}function yn(t,i){var n=this;t=R(t);var s=new m(function(u,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(p){ce(p,h,"DELETE FROM "+h.storeName+" WHERE key = ?",[t],function(){u()},function(g,y){a(y)})})}).catch(a)});return E(s,i),s}function mn(t){var i=this,n=new m(function(s,u){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){ce(h,a,"DELETE FROM "+a.storeName,[],function(){s()},function(p,g){u(g)})})}).catch(u)});return E(n,t),n}function bn(t){var i=this,n=new m(function(s,u){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){ce(h,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(p,g){var y=g.rows.item(0).c;s(y)},function(p,g){u(g)})})}).catch(u)});return E(n,t),n}function _n(t,i){var n=this,s=new m(function(u,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(p){ce(p,h,"SELECT key FROM "+h.storeName+" WHERE id = ? LIMIT 1",[t+1],function(g,y){var b=y.rows.length?y.rows.item(0).key:null;u(b)},function(g,y){a(y)})})}).catch(a)});return E(s,i),s}function wn(t){var i=this,n=new m(function(s,u){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){ce(h,a,"SELECT key FROM "+a.storeName,[],function(p,g){for(var y=[],b=0;b<g.rows.length;b++)y.push(g.rows.item(b).key);s(y)},function(p,g){u(g)})})}).catch(u)});return E(n,t),n}function Sn(t){return new m(function(i,n){t.transaction(function(s){s.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(u,a){for(var h=[],p=0;p<a.rows.length;p++)h.push(a.rows.item(p).name);i({db:t,storeNames:h})},function(u,a){n(a)})},function(s){n(s)})})}function En(t,i){i=k.apply(this,arguments);var n=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var s=this,u;return t.name?u=new m(function(a){var h;t.name===n.name?h=s._dbInfo.db:h=openDatabase(t.name,"","",0),t.storeName?a({db:h,storeNames:[t.storeName]}):a(Sn(h))}).then(function(a){return new m(function(h,p){a.db.transaction(function(g){function y(L){return new m(function(B,z){g.executeSql("DROP TABLE IF EXISTS "+L,[],function(){B()},function(U,ne){z(ne)})})}for(var b=[],x=0,C=a.storeNames.length;x<C;x++)b.push(y(a.storeNames[x]));m.all(b).then(function(){h()}).catch(function(L){p(L)})},function(g){p(g)})})}):u=m.reject("Invalid arguments"),E(u,i),u}var $n={_driver:"webSQLStorage",_initStorage:hn,_support:un(),iterate:pn,getItem:vn,setItem:gn,removeItem:yn,clear:mn,length:bn,key:_n,keys:wn,dropInstance:En};function xn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ot(t,i){var n=t.name+"/";return t.storeName!==i.storeName&&(n+=t.storeName+"/"),n}function An(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch{return!0}}function In(){return!An()||localStorage.length>0}function Cn(t){var i=this,n={};if(t)for(var s in t)n[s]=t[s];return n.keyPrefix=Ot(t,i._defaultConfig),In()?(i._dbInfo=n,n.serializer=rt,m.resolve()):m.reject()}function Dn(t){var i=this,n=i.ready().then(function(){for(var s=i._dbInfo.keyPrefix,u=localStorage.length-1;u>=0;u--){var a=localStorage.key(u);a.indexOf(s)===0&&localStorage.removeItem(a)}});return E(n,t),n}function Rn(t,i){var n=this;t=R(t);var s=n.ready().then(function(){var u=n._dbInfo,a=localStorage.getItem(u.keyPrefix+t);return a&&(a=u.serializer.deserialize(a)),a});return E(s,i),s}function Tn(t,i){var n=this,s=n.ready().then(function(){for(var u=n._dbInfo,a=u.keyPrefix,h=a.length,p=localStorage.length,g=1,y=0;y<p;y++){var b=localStorage.key(y);if(b.indexOf(a)===0){var x=localStorage.getItem(b);if(x&&(x=u.serializer.deserialize(x)),x=t(x,b.substring(h),g++),x!==void 0)return x}}});return E(s,i),s}function Nn(t,i){var n=this,s=n.ready().then(function(){var u=n._dbInfo,a;try{a=localStorage.key(t)}catch{a=null}return a&&(a=a.substring(u.keyPrefix.length)),a});return E(s,i),s}function Pn(t){var i=this,n=i.ready().then(function(){for(var s=i._dbInfo,u=localStorage.length,a=[],h=0;h<u;h++){var p=localStorage.key(h);p.indexOf(s.keyPrefix)===0&&a.push(p.substring(s.keyPrefix.length))}return a});return E(n,t),n}function Ln(t){var i=this,n=i.keys().then(function(s){return s.length});return E(n,t),n}function On(t,i){var n=this;t=R(t);var s=n.ready().then(function(){var u=n._dbInfo;localStorage.removeItem(u.keyPrefix+t)});return E(s,i),s}function Bn(t,i,n){var s=this;t=R(t);var u=s.ready().then(function(){i===void 0&&(i=null);var a=i;return new m(function(h,p){var g=s._dbInfo;g.serializer.serialize(i,function(y,b){if(b)p(b);else try{localStorage.setItem(g.keyPrefix+t,y),h(a)}catch(x){(x.name==="QuotaExceededError"||x.name==="NS_ERROR_DOM_QUOTA_REACHED")&&p(x),p(x)}})})});return E(u,n),u}function kn(t,i){if(i=k.apply(this,arguments),t=typeof t!="function"&&t||{},!t.name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var s=this,u;return t.name?u=new m(function(a){t.storeName?a(Ot(t,s._defaultConfig)):a(t.name+"/")}).then(function(a){for(var h=localStorage.length-1;h>=0;h--){var p=localStorage.key(h);p.indexOf(a)===0&&localStorage.removeItem(p)}}):u=m.reject("Invalid arguments"),E(u,i),u}var Mn={_driver:"localStorageWrapper",_initStorage:Cn,_support:xn(),iterate:Tn,getItem:Rn,setItem:Bn,removeItem:On,clear:Dn,length:Ln,key:Nn,keys:Pn,dropInstance:kn},Fn=function(i,n){return i===n||typeof i=="number"&&typeof n=="number"&&isNaN(i)&&isNaN(n)},Wn=function(i,n){for(var s=i.length,u=0;u<s;){if(Fn(i[u],n))return!0;u++}return!1},Bt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},$e={},kt={},we={INDEXEDDB:fn,WEBSQL:$n,LOCALSTORAGE:Mn},Un=[we.INDEXEDDB._driver,we.WEBSQL._driver,we.LOCALSTORAGE._driver],Fe=["dropInstance"],ot=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Fe),Yn={description:"",driver:Un.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zn(t,i){t[i]=function(){var n=arguments;return t.ready().then(function(){return t[i].apply(t,n)})}}function it(){for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var n in i)i.hasOwnProperty(n)&&(Bt(i[n])?arguments[0][n]=i[n].slice():arguments[0][n]=i[n])}return arguments[0]}var jn=function(){function t(i){v(this,t);for(var n in we)if(we.hasOwnProperty(n)){var s=we[n],u=s._driver;this[n]=u,$e[u]||this.defineDriver(s)}this._defaultConfig=it({},Yn),this._config=it({},this._defaultConfig,i),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(n){if((typeof n>"u"?"undefined":l(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var s in n){if(s==="storeName"&&(n[s]=n[s].replace(/\W/g,"_")),s==="version"&&typeof n[s]!="number")return new Error("Database version must be a number.");this._config[s]=n[s]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},t.prototype.defineDriver=function(n,s,u){var a=new m(function(h,p){try{var g=n._driver,y=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){p(y);return}for(var b=ot.concat("_initStorage"),x=0,C=b.length;x<C;x++){var L=b[x],B=!Wn(Fe,L);if((B||n[L])&&typeof n[L]!="function"){p(y);return}}var z=function(){for(var xe=function(Kn){return function(){var Gn=new Error("Method "+Kn+" is not implemented by the current driver"),Mt=m.reject(Gn);return E(Mt,arguments[arguments.length-1]),Mt}},at=0,Vn=Fe.length;at<Vn;at++){var st=Fe[at];n[st]||(n[st]=xe(st))}};z();var U=function(xe){$e[g]&&console.info("Redefining LocalForage driver: "+g),$e[g]=n,kt[g]=xe,h()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(U,p):U(!!n._support):U(!0)}catch(ne){p(ne)}});return A(a,s,u),a},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(n,s,u){var a=$e[n]?m.resolve($e[n]):m.reject(new Error("Driver not found."));return A(a,s,u),a},t.prototype.getSerializer=function(n){var s=m.resolve(rt);return A(s,n),s},t.prototype.ready=function(n){var s=this,u=s._driverSet.then(function(){return s._ready===null&&(s._ready=s._initDriver()),s._ready});return A(u,n,n),u},t.prototype.setDriver=function(n,s,u){var a=this;Bt(n)||(n=[n]);var h=this._getSupportedDrivers(n);function p(){a._config.driver=a.driver()}function g(x){return a._extend(x),p(),a._ready=a._initStorage(a._config),a._ready}function y(x){return function(){var C=0;function L(){for(;C<x.length;){var B=x[C];return C++,a._dbInfo=null,a._ready=null,a.getDriver(B).then(g).catch(L)}p();var z=new Error("No available storage method found.");return a._driverSet=m.reject(z),a._driverSet}return L()}}var b=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=b.then(function(){var x=h[0];return a._dbInfo=null,a._ready=null,a.getDriver(x).then(function(C){a._driver=C._driver,p(),a._wrapLibraryMethodsWithReady(),a._initDriver=y(h)})}).catch(function(){p();var x=new Error("No available storage method found.");return a._driverSet=m.reject(x),a._driverSet}),A(this._driverSet,s,u),this._driverSet},t.prototype.supports=function(n){return!!kt[n]},t.prototype._extend=function(n){it(this,n)},t.prototype._getSupportedDrivers=function(n){for(var s=[],u=0,a=n.length;u<a;u++){var h=n[u];this.supports(h)&&s.push(h)}return s},t.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,s=ot.length;n<s;n++)zn(this,ot[n])},t.prototype.createInstance=function(n){return new t(n)},t}(),Hn=new jn;f.exports=Hn},{3:3}]},{},[4])(4)})})(tn);var mr=tn.exports;const bt=yr(mr),[br,Ge]=K({show:!1,title:"",message:""});bt.config({name:"work-diary"});const[ye,Qe]=K([]);function _r(){bt.getItem("diary").then(e=>{console.log(e),e&&Qe(JSON.parse(e))}).catch(e=>console.log(e))}function gt(){let e=JSON.stringify(ye());bt.setItem("diary",e).catch(r=>console.log(r))}const wr=()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(ye())),r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download","diary-export.json"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},Sr=e=>{console.log("importing diary data",e);let r=new FileReader;r.onload=o=>{try{let f=JSON.parse(o.target.result);Qe(f),gt()}catch(f){Ge({show:!0,title:"error importing file",message:e.name+" "+f})}},r.onerror=o=>{console.log(o),Ge({show:!0,title:"error",message:"error importing diary data"})},r.readAsText(e)};function nn(e){e=new Date(e);let r=e.getMonth()+1;r<10&&(r=`0${r}`);let o=e.getDate();return o<10&&(o=`0${o}`),`${o}.${r}.${e.getFullYear()}`}function Er(e){e=new Date(e);let r=e.getMonth()+1;r<10&&(r=`0${r}`);let o=e.getDate();return o<10&&(o=`0${o}`),`${e.getFullYear()}-${r}-${o}`}function $r(e){return e=new Date(e),Number(e)}const se=qn();function xr(e){const[r,o]=K(!1),[f,c]=K(null),[l,v]=K(!1),[d,$]=K(!1),[S,_]=K(!1),m=["Pflege","Pflanzen/Setzen","Ernten","Pflanzenschutz","Anzucht","Umgebungsarbeiten","Anderes"];return Q(se.Provider,{value:{showEditor:r,setShowEditor:o,openToEdit:f,setOpenToEdit:c,deleteHot:l,setDeleteHot:v,showMenu:d,setShowMenu:$,categorys:m,toastMessage:br,setToastMessage:Ge,showReport:S,setShowReport:_},get children(){return e.children}})}var Ar=ie('<article><header><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><button class="icon-button outline"><i class="fa-solid fa-trash-can"></i> </button></header><h6></h6><p></p><footer><div class=diary-grid-1><label><input type=checkbox>done</label><p></p><p><i class="fa-regular fa-clock"></i><mark> minutes');function Ir(e){const{setOpenToEdit:r,deleteHot:o}=he(se);return(()=>{var f=Ar(),c=f.firstChild,l=c.firstChild,v=l.nextSibling,d=v.firstChild,$=c.nextSibling,S=$.nextSibling,_=S.nextSibling,m=_.firstChild,E=m.firstChild,A=E.firstChild,R=E.nextSibling,k=R.nextSibling,N=k.firstChild,M=N.nextSibling,D=M.firstChild;return l.$$click=()=>r(e.entry.id),v.$$click=()=>e.deleteEntry(e.entry.id),X($,()=>e.entry.category),S.style.setProperty("white-space","pre-wrap"),X(S,()=>e.entry.work),X(R,()=>nn(e.entry.date)),N.style.setProperty("font-size","1.3rem"),X(M,()=>e.entry.duration,D),J(()=>(o()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)")!=null?d.style.setProperty("color",o()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)"):d.style.removeProperty("color")),J(()=>A.checked=e.entry.done),f})()}me(["click"]);var Cr=ie('<button class="float primary"id=floating-button><i class="fa-solid fa-plus fa-2xl float-icon">');function Dr(e){const{showEditor:r,setShowEditor:o}=he(se),[f,c]=K();return Re(()=>{setInterval(()=>{c(!0),setTimeout(()=>c(!1),400)},7e3)}),(()=>{var l=Cr();return l.$$click=()=>o(!r()),J(()=>Ce(l,"buzz",f())),l})()}me(["click"]);var Rr=ie('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-floppy-disk"></i></button><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><label><input type=checkbox>done</label><textarea rows=5 cols=40 placeholder="describe work"></textarea><input type=date><label for=duration>duration <mark></mark></label><input type=range id=duration min=0 max=240 step=5><fieldset><legend>Kategorie'),Tr=ie("<label><input type=radio name=category on>");let ut;function Nr(e){const{showEditor:r,setShowEditor:o,openToEdit:f,setOpenToEdit:c,categorys:l}=he(se),v=P=>{r()&&(ut.contains(P.target)||o(!1))};Re(()=>{document.addEventListener("click",v,!0)}),yt(()=>{document.removeEventListener("click",v,!0)}),Ee(()=>{r()&&$({id:Date.now(),date:Date.now(),work:"",category:"Pflege",done:!0,duration:10}),f()!==null?d(f()):$({id:Date.now(),date:Date.now(),work:"",category:"Pflege",done:!0,duration:10})});const d=P=>{const V=ye().find(G=>G.id===P);console.log("from Editor",P),$(V)},$=P=>{O(P.id),N(P.done),E(P.work),R(P.date),W(P.category),D(P.duration)};let S,_;const[m,E]=K(""),[A,R]=K(Date.now()),[k,N]=K(!1),[M,D]=K(10),[Y,W]=K("Pflege"),[w,T]=K(!1),[I,O]=K(Date.now()),H=()=>{if(m().length<1){T(!0);return}let P={id:I(),work:m(),date:A(),done:k(),duration:M(),category:Y()};e.saveNewEntry(P),o(!1)};return Ee(dt(()=>m(),()=>T(!1))),(()=>{var P=Rr(),V=P.firstChild,G=V.firstChild,te=G.firstChild,ve=te.nextSibling,pe=G.nextSibling,be=pe.firstChild,Z=pe.nextSibling,_e=Z.nextSibling,Pe=_e.nextSibling,qe=Pe.firstChild,re=qe.nextSibling,fe=Pe.nextSibling,Le=fe.nextSibling;Le.firstChild;var Oe=ut;typeof Oe=="function"?Ae(Oe,V):ut=V,te.$$click=()=>H(),ve.$$click=()=>o(!1),be.addEventListener("change",()=>N(!k())),Z.$$input=()=>E(S.value);var Be=S;typeof Be=="function"?Ae(Be,Z):S=Z,_e.addEventListener("change",ee=>R($r(ee.target.value))),X(re,M),fe.$$input=()=>D(_.value);var ke=_;return typeof ke=="function"?Ae(ke,fe):_=fe,X(Le,Q(Zt,{each:l,children:ee=>(()=>{var ue=Tr(),ge=ue.firstChild;return ge.addEventListener("change",()=>W(ee)),X(ue,ee,null),J(()=>ge.checked=ee===Y()),ue})()}),null),J(ee=>{var ue=r(),ge=w();return ue!==ee.e&&Ce(P,"open",ee.e=ue),ge!==ee.t&&Ce(Z,"aria-invalid",ee.t=ge),ee},{e:void 0,t:void 0}),J(()=>be.checked=k()),J(()=>Z.value=m()),J(()=>_e.value=Er(A())),J(()=>fe.value=M()),P})()}me(["click","input"]);var Pr=ie("<article><header>Work Report can share: </header><pre></pre><footer><button>close Report</button><button>share report</button><p>");const[Lr,jt]=K("");function rn(){let e="";return ye().forEach(r=>{e+=`<h4>${nn(r.date)} Zeitaufwand: ${r.duration} min</h4>
<p>${r.work}</p>

`}),e}function Or(){const e=rn(),r=new File([e],"report.txt",{type:"text/plain"});console.log(navigator.canShare()),jt("pending"),navigator.share({title:"Work Report",text:"hier ist der neuste Arbeitsraport",files:[r]}).then(()=>{jt("shared successfully")}).catch(o=>Ge({show:!0,title:"error while sharing report ",message:o}))}function Br(){const{showReport:e,setShowReport:r}=he(se);return(()=>{var o=Pr(),f=o.firstChild;f.firstChild;var c=f.nextSibling,l=c.nextSibling,v=l.firstChild,d=v.nextSibling,$=d.nextSibling;return X(f,()=>navigator.canShare()?"yes":"no",null),X(c,rn),v.$$click=()=>r(!1),d.$$click=()=>Or(),X($,()=>Lr()||" "),o})()}me(["click"]);var kr=ie("<div>");function Mr(){const{showEditor:e,setShowEditor:r,openToEdit:o,setOpenToEdit:f,deleteHot:c,setDeleteHot:l,showReport:v}=he(se);Re(async()=>{_r()});const d=async S=>{Qe([S,...ye().filter(_=>_.id!==S.id)]),gt()},$=async S=>{if(c()===!1){l(S),setTimeout(()=>l(!1),2e3);return}c()===S?(Qe(ye().filter(_=>_.id!==S)),gt()):l(S)};return Ee(dt(()=>o(),()=>{o()!==null&&r(!0)})),Ee(dt(()=>e(),()=>{e()===!1&&f(null)})),(()=>{var S=kr();return X(S,Q(Dr,{}),null),X(S,Q(Nr,{saveNewEntry:d}),null),X(S,Q(sr,{get children(){return[Q(Wt,{get when(){return!v()},get children(){return Q(Zt,{get each(){return ye()},children:_=>Q(Ir,{entry:_,deleteEntry:$})})}}),Q(Wt,{get when(){return v()},get children(){return Q(Br,{})}})]}}),null),S})()}var Fr=ie('<nav><ul><li><h2><i class="fa-solid fa-person-digging"></i></h2></li></ul><ul><li><h2>Work Diary</h2></li></ul><ul><li><button>Menu');function Wr(){const{showMenu:e,setShowMenu:r}=he(se);return(()=>{var o=Fr(),f=o.firstChild,c=f.nextSibling,l=c.nextSibling,v=l.firstChild,d=v.firstChild;return d.$$click=()=>r(!e()),o})()}me(["click"]);var Ur=ie('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><button>generate Report</button><h6>export Data</h6><p>exports current data to your device<br>this can serve as an update</p><button>export Diary</button><hr><h6>import diary data</h6><p><mark>Caution!</mark> Existing data will be overwritten.</p><input type=file><button>import Diary');let lt,ct;function Yr(e){const{showMenu:r,setShowMenu:o,showReport:f,setShowReport:c}=he(se),l=v=>{r()&&(lt.contains(v.target)||o(!1))};return Re(()=>{document.addEventListener("click",l,!0)}),yt(()=>{document.removeEventListener("click",l,!0)}),(()=>{var v=Ur(),d=v.firstChild,$=d.firstChild,S=$.firstChild,_=$.nextSibling,m=_.nextSibling,E=m.nextSibling,A=E.nextSibling,R=A.nextSibling,k=R.nextSibling,N=k.nextSibling,M=N.nextSibling,D=M.nextSibling,Y=lt;typeof Y=="function"?Ae(Y,d):lt=d,S.$$click=()=>o(!1),_.$$click=()=>{c(!0),o(!1)},A.$$click=()=>{wr(),o(!1)};var W=ct;return typeof W=="function"?Ae(W,M):ct=M,D.$$click=()=>{Sr(ct.files[0]),o(!1)},D.style.setProperty("background-color","var(--pico-del-color)"),J(()=>Ce(v,"open",r())),v})()}me(["click"]);var zr=ie("<div id=toast><h3></h3><p>");function jr(){const{toastMessage:e,setToastMessage:r}=he(se);return Ee(()=>{e().show&&setTimeout(()=>r(o=>({title:o.title,message:o.message,show:!1})),3e3)}),(()=>{var o=zr(),f=o.firstChild,c=f.nextSibling;return X(f,()=>e().title),X(c,()=>e().message),J(()=>Ce(o,"open",e().show)),o})()}var Hr=ie("<div class=card><dialog><h4>Like to get Notified?</h4><button>activate notifications");function Vr(){const[e,r]=K(!1);return Re(async()=>{vr(),await pr()||r(!0)}),[Q(Wr,{}),Q(Yr,{}),Q(jr,{}),(()=>{var o=Hr(),f=o.firstChild,c=f.firstChild,l=c.nextSibling;return l.$$click=()=>{gr(),r(!1)},J(()=>f.open=e()),o})(),Q(Mr,{})]}me(["click"]);const Kr=document.getElementById("root");ur(()=>Q(xr,{get children(){return Q(Vr,{})}}),Kr);
