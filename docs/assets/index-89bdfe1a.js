(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Gr=(e,t)=>e===t,Ge=Symbol("solid-proxy"),ln=Symbol("solid-track"),It={equals:Gr};let Bn=zn;const Oe=1,Pt=2,On={owned:null,cleanups:null,context:null,owner:null};var q=null;let Zt=null,Ur=null,X=null,ce=null,Te=null,Gt=0;function Dt(e,t){const n=X,r=q,o=e.length===0,a=t===void 0?r:t,c=o?On:{owned:null,cleanups:null,context:a?a.context:null,owner:a},h=o?e:()=>e(()=>me(()=>Yt(c)));q=c,X=null;try{return Ze(h,!0)}finally{X=n,q=r}}function L(e,t){t=t?Object.assign({},It,t):It;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),Wn(n,o));return[Fn.bind(n),r]}function G(e,t,n){const r=yn(e,t,!1,Oe);mt(r)}function de(e,t,n){Bn=Kr;const r=yn(e,t,!1,Oe);(!n||!n.render)&&(r.user=!0),Te?Te.push(r):mt(r)}function Ue(e,t,n){n=n?Object.assign({},It,n):It;const r=yn(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,mt(r),Fn.bind(r)}function Yr(e){return Ze(e,!1)}function me(e){if(X===null)return e();const t=X;X=null;try{return e()}finally{X=t}}function Xe(e,t,n){const r=Array.isArray(e);let o,a=n&&n.defer;return c=>{let h;if(r){h=Array(e.length);for(let _=0;_<e.length;_++)h[_]=e[_]()}else h=e();if(a)return a=!1,c;const g=me(()=>t(h,o,c));return o=h,g}}function Ne(e){de(()=>me(e))}function Ut(e){return q===null||(q.cleanups===null?q.cleanups=[e]:q.cleanups.push(e)),e}function cn(){return X}function jr(e,t){const n=Symbol("context");return{id:n,Provider:Jr(n),defaultValue:e}}function ge(e){return q&&q.context&&q.context[e.id]!==void 0?q.context[e.id]:e.defaultValue}function Ln(e){const t=Ue(e),n=Ue(()=>un(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Fn(){if(this.sources&&this.state)if(this.state===Oe)mt(this);else{const e=ce;ce=null,Ze(()=>Nt(this),!1),ce=e}if(X){const e=this.observers?this.observers.length:0;X.sources?(X.sources.push(this),X.sourceSlots.push(e)):(X.sources=[this],X.sourceSlots=[e]),this.observers?(this.observers.push(X),this.observerSlots.push(X.sources.length-1)):(this.observers=[X],this.observerSlots=[X.sources.length-1])}return this.value}function Wn(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Ze(()=>{for(let o=0;o<e.observers.length;o+=1){const a=e.observers[o],c=Zt&&Zt.running;c&&Zt.disposed.has(a),(c?!a.tState:!a.state)&&(a.pure?ce.push(a):Te.push(a),a.observers&&Gn(a)),c||(a.state=Oe)}if(ce.length>1e6)throw ce=[],new Error},!1)),t}function mt(e){if(!e.fn)return;Yt(e);const t=Gt;Hr(e,e.value,t)}function Hr(e,t,n){let r;const o=q,a=X;X=q=e;try{r=e.fn(t)}catch(c){return e.pure&&(e.state=Oe,e.owned&&e.owned.forEach(Yt),e.owned=null),e.updatedAt=n+1,Un(c)}finally{X=a,q=o}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Wn(e,r):e.value=r,e.updatedAt=n)}function yn(e,t,n,r=Oe,o){const a={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:q,context:q?q.context:null,pure:n};return q===null||q!==On&&(q.owned?q.owned.push(a):q.owned=[a]),a}function Tt(e){if(e.state===0)return;if(e.state===Pt)return Nt(e);if(e.suspense&&me(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Gt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Oe)mt(e);else if(e.state===Pt){const r=ce;ce=null,Ze(()=>Nt(e,t[0]),!1),ce=r}}function Ze(e,t){if(ce)return e();let n=!1;t||(ce=[]),Te?n=!0:Te=[],Gt++;try{const r=e();return Vr(n),r}catch(r){n||(Te=null),ce=null,Un(r)}}function Vr(e){if(ce&&(zn(ce),ce=null),e)return;const t=Te;Te=null,t.length&&Ze(()=>Bn(t),!1)}function zn(e){for(let t=0;t<e.length;t++)Tt(e[t])}function Kr(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Tt(r)}for(t=0;t<n;t++)Tt(e[t])}function Nt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const o=r.state;o===Oe?r!==t&&(!r.updatedAt||r.updatedAt<Gt)&&Tt(r):o===Pt&&Nt(r,t)}}}function Gn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Pt,n.pure?ce.push(n):Te.push(n),n.observers&&Gn(n))}}function Yt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const a=o.pop(),c=n.observerSlots.pop();r<o.length&&(a.sourceSlots[c]=r,o[r]=a,n.observerSlots[r]=c)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Yt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function qr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Un(e,t=q){throw qr(e)}function un(e){if(typeof e=="function"&&!e.length)return un(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=un(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Jr(e,t){return function(r){let o;return G(()=>o=me(()=>(q.context={...q.context,[e]:r.value},Ln(()=>r.children))),void 0),o}}const Qr=Symbol("fallback");function Cn(e){for(let t=0;t<e.length;t++)e[t]()}function Xr(e,t,n={}){let r=[],o=[],a=[],c=0,h=t.length>1?[]:null;return Ut(()=>Cn(a)),()=>{let g=e()||[],_,y;return g[ln],me(()=>{let b=g.length,E,D,k,T,N,A,M,R,m;if(b===0)c!==0&&(Cn(a),a=[],r=[],o=[],c=0,h&&(h=[])),n.fallback&&(r=[Qr],o[0]=Dt(I=>(a[0]=I,n.fallback())),c=1);else if(c===0){for(o=new Array(b),y=0;y<b;y++)r[y]=g[y],o[y]=Dt(v);c=b}else{for(k=new Array(b),T=new Array(b),h&&(N=new Array(b)),A=0,M=Math.min(c,b);A<M&&r[A]===g[A];A++);for(M=c-1,R=b-1;M>=A&&R>=A&&r[M]===g[R];M--,R--)k[R]=o[M],T[R]=a[M],h&&(N[R]=h[M]);for(E=new Map,D=new Array(R+1),y=R;y>=A;y--)m=g[y],_=E.get(m),D[y]=_===void 0?-1:_,E.set(m,y);for(_=A;_<=M;_++)m=r[_],y=E.get(m),y!==void 0&&y!==-1?(k[y]=o[_],T[y]=a[_],h&&(N[y]=h[_]),y=D[y],E.set(m,y)):a[_]();for(y=A;y<b;y++)y in k?(o[y]=k[y],a[y]=T[y],h&&(h[y]=N[y],h[y](y))):o[y]=Dt(v);o=o.slice(0,c=b),r=g.slice(0)}return o});function v(b){if(a[y]=b,h){const[E,D]=L(y);return h[y]=D,t(g[y],E)}return t(g[y])}}}function U(e,t){return me(()=>e(t||{}))}const Yn=e=>`Stale read from <${e}>.`;function Ye(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Ue(Xr(()=>e.each,e.children,t||void 0))}function mn(e){const t=e.keyed,n=Ue(()=>e.when,void 0,{equals:(r,o)=>t?r===o:!r==!o});return Ue(()=>{const r=n();if(r){const o=e.children;return typeof o=="function"&&o.length>0?me(()=>o(t?r:()=>{if(!me(n))throw Yn("Show");return e.when})):o}return e.fallback},void 0,void 0)}function Zr(e){let t=!1;const n=(a,c)=>(t?a[1]===c[1]:!a[1]==!c[1])&&a[2]===c[2],r=Ln(()=>e.children),o=Ue(()=>{let a=r();Array.isArray(a)||(a=[a]);for(let c=0;c<a.length;c++){const h=a[c].when;if(h)return t=!!a[c].keyed,[c,h,a[c]]}return[-1]},void 0,{equals:n});return Ue(()=>{const[a,c,h]=o();if(a<0)return e.fallback;const g=h.children;return typeof g=="function"&&g.length>0?me(()=>g(t?c:()=>{if(me(o)[0]!==a)throw Yn("Match");return h.when})):g},void 0,void 0)}function Dn(e){return e}function ei(e,t,n){let r=n.length,o=t.length,a=r,c=0,h=0,g=t[o-1].nextSibling,_=null;for(;c<o||h<a;){if(t[c]===n[h]){c++,h++;continue}for(;t[o-1]===n[a-1];)o--,a--;if(o===c){const y=a<r?h?n[h-1].nextSibling:n[a-h]:g;for(;h<a;)e.insertBefore(n[h++],y)}else if(a===h)for(;c<o;)(!_||!_.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[a-1]&&n[h]===t[o-1]){const y=t[--o].nextSibling;e.insertBefore(n[h++],t[c++].nextSibling),e.insertBefore(n[--a],y),t[o]=n[a]}else{if(!_){_=new Map;let v=h;for(;v<a;)_.set(n[v],v++)}const y=_.get(t[c]);if(y!=null)if(h<y&&y<a){let v=c,b=1,E;for(;++v<o&&v<a&&!((E=_.get(t[v]))==null||E!==y+b);)b++;if(b>y-h){const D=t[c];for(;h<y;)e.insertBefore(n[h++],D)}else e.replaceChild(n[h++],t[c++])}else c++;else t[c++].remove()}}}const In="_$DX_DELEGATE";function ti(e,t,n,r={}){let o;return Dt(a=>{o=a,t===document?e():z(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{o(),t.textContent=""}}function Z(e,t,n){let r;const o=()=>{const c=document.createElement("template");return c.innerHTML=e,n?c.content.firstChild.firstChild:c.content.firstChild},a=t?()=>me(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return a.cloneNode=a,a}function we(e,t=window.document){const n=t[In]||(t[In]=new Set);for(let r=0,o=e.length;r<o;r++){const a=e[r];n.has(a)||(n.add(a),t.addEventListener(a,ri))}}function he(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ni(e,t){t==null?e.removeAttribute("class"):e.className=t}function se(e,t,n){return me(()=>e(t,n))}function z(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Rt(e,t,r,n);G(o=>Rt(e,t(),o,n),r)}function ri(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Rt(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;const a=typeof t,c=r!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,a==="string"||a==="number")if(a==="number"&&(t=t.toString()),c){let h=n[0];h&&h.nodeType===3?h.data!==t&&(h.data=t):h=document.createTextNode(t),n=qe(e,n,r,h)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||a==="boolean")n=qe(e,n,r);else{if(a==="function")return G(()=>{let h=t();for(;typeof h=="function";)h=h();n=Rt(e,h,n,r)}),()=>n;if(Array.isArray(t)){const h=[],g=n&&Array.isArray(n);if(fn(h,t,n,o))return G(()=>n=Rt(e,h,n,r,!0)),()=>n;if(h.length===0){if(n=qe(e,n,r),c)return n}else g?n.length===0?Pn(e,h,r):ei(e,n,h):(n&&qe(e),Pn(e,h));n=h}else if(t.nodeType){if(Array.isArray(n)){if(c)return n=qe(e,n,r,t);qe(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function fn(e,t,n,r){let o=!1;for(let a=0,c=t.length;a<c;a++){let h=t[a],g=n&&n[e.length],_;if(!(h==null||h===!0||h===!1))if((_=typeof h)=="object"&&h.nodeType)e.push(h);else if(Array.isArray(h))o=fn(e,h,g)||o;else if(_==="function")if(r){for(;typeof h=="function";)h=h();o=fn(e,Array.isArray(h)?h:[h],Array.isArray(g)?g:[g])||o}else e.push(h),o=!0;else{const y=String(h);g&&g.nodeType===3&&g.data===y?e.push(g):e.push(document.createTextNode(y))}}return o}function Pn(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function qe(e,t,n,r){if(n===void 0)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let a=!1;for(let c=t.length-1;c>=0;c--){const h=t[c];if(o!==h){const g=h.parentNode===e;!a&&!c?g?e.replaceChild(o,h):e.insertBefore(o,n):g&&h.remove()}else a=!0}}else e.insertBefore(o,n);return[o]}var ii=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},dn;typeof window<"u"&&(typeof Promise<"u"?dn=new Promise(function(e){return window.addEventListener("load",e)}):dn={then:function(e){return window.addEventListener("load",e)}});function oi(e,t){t===void 0&&(t={});var n=t.registrationOptions;n===void 0&&(n={}),delete t.registrationOptions;var r=function(o){for(var a=[],c=arguments.length-1;c-- >0;)a[c]=arguments[c+1];t&&t[o]&&t[o].apply(t,a)};"serviceWorker"in navigator&&dn.then(function(){ii()?(si(e,r,n),navigator.serviceWorker.ready.then(function(o){r("ready",o)}).catch(function(o){return gt(r,o)})):(jn(e,r,n),navigator.serviceWorker.ready.then(function(o){r("ready",o)}).catch(function(o){return gt(r,o)}))})}function gt(e,t){navigator.onLine||e("offline"),e("error",t)}function jn(e,t,n){navigator.serviceWorker.register(e,n).then(function(r){if(t("registered",r),r.waiting){t("updated",r);return}r.onupdatefound=function(){t("updatefound",r);var o=r.installing;o.onstatechange=function(){o.state==="installed"&&(navigator.serviceWorker.controller?t("updated",r):t("cached",r))}}}).catch(function(r){return gt(t,r)})}function si(e,t,n){fetch(e).then(function(r){r.status===404?(t("error",new Error("Service worker not found at "+e)),Tn()):r.headers.get("content-type").indexOf("javascript")===-1?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+r.headers.get("content-type"))),Tn()):jn(e,t,n)}).catch(function(r){return gt(t,r)})}function Tn(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return gt(emit,e)})}function ai(){oi("/work-diary/serviceworker.js")}const li=async()=>Notification.permission==="granted",ci=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};function ui(e={}){window.navigator.serviceWorker.ready.then(t=>{t.active.postMessage({type:"message",body:{text:"start",data:e}})})}var Et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function At(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,o,a){function c(_,y){if(!o[_]){if(!r[_]){var v=typeof At=="function"&&At;if(!y&&v)return v(_,!0);if(h)return h(_,!0);var b=new Error("Cannot find module '"+_+"'");throw b.code="MODULE_NOT_FOUND",b}var E=o[_]={exports:{}};r[_][0].call(E.exports,function(D){var k=r[_][1][D];return c(k||D)},E,E.exports,n,r,o,a)}return o[_].exports}for(var h=typeof At=="function"&&At,g=0;g<a.length;g++)c(a[g]);return c}({1:[function(n,r,o){(function(a){var c=a.MutationObserver||a.WebKitMutationObserver,h;if(c){var g=0,_=new c(D),y=a.document.createTextNode("");_.observe(y,{characterData:!0}),h=function(){y.data=g=++g%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var v=new a.MessageChannel;v.port1.onmessage=D,h=function(){v.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?h=function(){var T=a.document.createElement("script");T.onreadystatechange=function(){D(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},a.document.documentElement.appendChild(T)}:h=function(){setTimeout(D,0)};var b,E=[];function D(){b=!0;for(var T,N,A=E.length;A;){for(N=E,E=[],T=-1;++T<A;)N[T]();A=E.length}b=!1}r.exports=k;function k(T){E.push(T)===1&&!b&&h()}}).call(this,typeof Et<"u"?Et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,o){var a=n(1);function c(){}var h={},g=["REJECTED"],_=["FULFILLED"],y=["PENDING"];r.exports=v;function v(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,m!==c&&k(this,m)}v.prototype.catch=function(m){return this.then(null,m)},v.prototype.then=function(m,I){if(typeof m!="function"&&this.state===_||typeof I!="function"&&this.state===g)return this;var P=new this.constructor(c);if(this.state!==y){var O=this.state===_?m:I;E(P,O,this.outcome)}else this.queue.push(new b(P,m,I));return P};function b(m,I,P){this.promise=m,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(m){h.resolve(this.promise,m)},b.prototype.otherCallFulfilled=function(m){E(this.promise,this.onFulfilled,m)},b.prototype.callRejected=function(m){h.reject(this.promise,m)},b.prototype.otherCallRejected=function(m){E(this.promise,this.onRejected,m)};function E(m,I,P){a(function(){var O;try{O=I(P)}catch(H){return h.reject(m,H)}O===m?h.reject(m,new TypeError("Cannot resolve promise with itself")):h.resolve(m,O)})}h.resolve=function(m,I){var P=T(D,I);if(P.status==="error")return h.reject(m,P.value);var O=P.value;if(O)k(m,O);else{m.state=_,m.outcome=I;for(var H=-1,V=m.queue.length;++H<V;)m.queue[H].callFulfilled(I)}return m},h.reject=function(m,I){m.state=g,m.outcome=I;for(var P=-1,O=m.queue.length;++P<O;)m.queue[P].callRejected(I);return m};function D(m){var I=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof I=="function")return function(){I.apply(m,arguments)}}function k(m,I){var P=!1;function O(te){P||(P=!0,h.reject(m,te))}function H(te){P||(P=!0,h.resolve(m,te))}function V(){I(H,O)}var ee=T(V);ee.status==="error"&&O(ee.value)}function T(m,I){var P={};try{P.value=m(I),P.status="success"}catch(O){P.status="error",P.value=O}return P}v.resolve=N;function N(m){return m instanceof this?m:h.resolve(new this(c),m)}v.reject=A;function A(m){var I=new this(c);return h.reject(I,m)}v.all=M;function M(m){var I=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=m.length,O=!1;if(!P)return this.resolve([]);for(var H=new Array(P),V=0,ee=-1,te=new this(c);++ee<P;)J(m[ee],ee);return te;function J(ue,_e){I.resolve(ue).then(ae,function(ve){O||(O=!0,h.reject(te,ve))});function ae(ve){H[_e]=ve,++V===P&&!O&&(O=!0,h.resolve(te,H))}}}v.race=R;function R(m){var I=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=m.length,O=!1;if(!P)return this.resolve([]);for(var H=-1,V=new this(c);++H<P;)ee(m[H]);return V;function ee(te){I.resolve(te).then(function(J){O||(O=!0,h.resolve(V,J))},function(J){O||(O=!0,h.reject(V,J))})}}},{1:1}],3:[function(n,r,o){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof Et<"u"?Et:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,o){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function c(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var g=h();function _(){try{if(!g||!g.open)return!1;var i=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),l=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!i||l)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function y(i,l){i=i||[],l=l||{};try{return new Blob(i,l)}catch(u){if(u.name!=="TypeError")throw u;for(var s=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,f=new s,d=0;d<i.length;d+=1)f.append(i[d]);return f.getBlob(l.type)}}typeof Promise>"u"&&n(3);var v=Promise;function b(i,l){l&&i.then(function(s){l(null,s)},function(s){l(s)})}function E(i,l,s){typeof l=="function"&&i.then(l),typeof s=="function"&&i.catch(s)}function D(i){return typeof i!="string"&&(console.warn(i+" used as a key, but it is not a string."),i=String(i)),i}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var T="local-forage-detect-blob-support",N=void 0,A={},M=Object.prototype.toString,R="readonly",m="readwrite";function I(i){for(var l=i.length,s=new ArrayBuffer(l),f=new Uint8Array(s),d=0;d<l;d++)f[d]=i.charCodeAt(d);return s}function P(i){return new v(function(l){var s=i.transaction(T,m),f=y([""]);s.objectStore(T).put(f,"key"),s.onabort=function(d){d.preventDefault(),d.stopPropagation(),l(!1)},s.oncomplete=function(){var d=navigator.userAgent.match(/Chrome\/(\d+)/),u=navigator.userAgent.match(/Edge\//);l(u||!d||parseInt(d[1],10)>=43)}}).catch(function(){return!1})}function O(i){return typeof N=="boolean"?v.resolve(N):P(i).then(function(l){return N=l,N})}function H(i){var l=A[i.name],s={};s.promise=new v(function(f,d){s.resolve=f,s.reject=d}),l.deferredOperations.push(s),l.dbReady?l.dbReady=l.dbReady.then(function(){return s.promise}):l.dbReady=s.promise}function V(i){var l=A[i.name],s=l.deferredOperations.pop();if(s)return s.resolve(),s.promise}function ee(i,l){var s=A[i.name],f=s.deferredOperations.pop();if(f)return f.reject(l),f.promise}function te(i,l){return new v(function(s,f){if(A[i.name]=A[i.name]||Ee(),i.db)if(l)H(i),i.db.close();else return s(i.db);var d=[i.name];l&&d.push(i.version);var u=g.open.apply(g,d);l&&(u.onupgradeneeded=function(p){var w=u.result;try{w.createObjectStore(i.storeName),p.oldVersion<=1&&w.createObjectStore(T)}catch(x){if(x.name==="ConstraintError")console.warn('The database "'+i.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+i.storeName+'" already exists.');else throw x}}),u.onerror=function(p){p.preventDefault(),f(u.error)},u.onsuccess=function(){var p=u.result;p.onversionchange=function(w){w.target.close()},s(p),V(i)}})}function J(i){return te(i,!1)}function ue(i){return te(i,!0)}function _e(i,l){if(!i.db)return!0;var s=!i.db.objectStoreNames.contains(i.storeName),f=i.version<i.db.version,d=i.version>i.db.version;if(f&&(i.version!==l&&console.warn('The database "'+i.name+`" can't be downgraded from version `+i.db.version+" to version "+i.version+"."),i.version=i.db.version),d||s){if(s){var u=i.db.version+1;u>i.version&&(i.version=u)}return!0}return!1}function ae(i){return new v(function(l,s){var f=new FileReader;f.onerror=s,f.onloadend=function(d){var u=btoa(d.target.result||"");l({__local_forage_encoded_blob:!0,data:u,type:i.type})},f.readAsBinaryString(i)})}function ve(i){var l=I(atob(i.data));return y([l],{type:i.type})}function xe(i){return i&&i.__local_forage_encoded_blob}function Ie(i){var l=this,s=l._initReady().then(function(){var f=A[l._dbInfo.name];if(f&&f.dbReady)return f.dbReady});return E(s,i,i),s}function $e(i){H(i);for(var l=A[i.name],s=l.forages,f=0;f<s.length;f++){var d=s[f];d._dbInfo.db&&(d._dbInfo.db.close(),d._dbInfo.db=null)}return i.db=null,J(i).then(function(u){return i.db=u,_e(i)?ue(i):u}).then(function(u){i.db=l.db=u;for(var p=0;p<s.length;p++)s[p]._dbInfo.db=u}).catch(function(u){throw ee(i,u),u})}function re(i,l,s,f){f===void 0&&(f=1);try{var d=i.db.transaction(i.storeName,l);s(null,d)}catch(u){if(f>0&&(!i.db||u.name==="InvalidStateError"||u.name==="NotFoundError"))return v.resolve().then(function(){if(!i.db||u.name==="NotFoundError"&&!i.db.objectStoreNames.contains(i.storeName)&&i.version<=i.db.version)return i.db&&(i.version=i.db.version+1),ue(i)}).then(function(){return $e(i).then(function(){re(i,l,s,f-1)})}).catch(s);s(u)}}function Ee(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function W(i){var l=this,s={db:null};if(i)for(var f in i)s[f]=i[f];var d=A[s.name];d||(d=Ee(),A[s.name]=d),d.forages.push(l),l._initReady||(l._initReady=l.ready,l.ready=Ie);var u=[];function p(){return v.resolve()}for(var w=0;w<d.forages.length;w++){var x=d.forages[w];x!==l&&u.push(x._initReady().catch(p))}var $=d.forages.slice(0);return v.all(u).then(function(){return s.db=d.db,J(s)}).then(function(S){return s.db=S,_e(s,l._defaultConfig.version)?ue(s):S}).then(function(S){s.db=d.db=S,l._dbInfo=s;for(var C=0;C<$.length;C++){var F=$[C];F!==l&&(F._dbInfo.db=s.db,F._dbInfo.version=s.version)}})}function ie(i,l){var s=this;i=D(i);var f=new v(function(d,u){s.ready().then(function(){re(s._dbInfo,R,function(p,w){if(p)return u(p);try{var x=w.objectStore(s._dbInfo.storeName),$=x.get(i);$.onsuccess=function(){var S=$.result;S===void 0&&(S=null),xe(S)&&(S=ve(S)),d(S)},$.onerror=function(){u($.error)}}catch(S){u(S)}})}).catch(u)});return b(f,l),f}function K(i,l){var s=this,f=new v(function(d,u){s.ready().then(function(){re(s._dbInfo,R,function(p,w){if(p)return u(p);try{var x=w.objectStore(s._dbInfo.storeName),$=x.openCursor(),S=1;$.onsuccess=function(){var C=$.result;if(C){var F=C.value;xe(F)&&(F=ve(F));var Y=i(F,C.key,S++);Y!==void 0?d(Y):C.continue()}else d()},$.onerror=function(){u($.error)}}catch(C){u(C)}})}).catch(u)});return b(f,l),f}function pe(i,l,s){var f=this;i=D(i);var d=new v(function(u,p){var w;f.ready().then(function(){return w=f._dbInfo,M.call(l)==="[object Blob]"?O(w.db).then(function(x){return x?l:ae(l)}):l}).then(function(x){re(f._dbInfo,m,function($,S){if($)return p($);try{var C=S.objectStore(f._dbInfo.storeName);x===null&&(x=void 0);var F=C.put(x,i);S.oncomplete=function(){x===void 0&&(x=null),u(x)},S.onabort=S.onerror=function(){var Y=F.error?F.error:F.transaction.error;p(Y)}}catch(Y){p(Y)}})}).catch(p)});return b(d,s),d}function Re(i,l){var s=this;i=D(i);var f=new v(function(d,u){s.ready().then(function(){re(s._dbInfo,m,function(p,w){if(p)return u(p);try{var x=w.objectStore(s._dbInfo.storeName),$=x.delete(i);w.oncomplete=function(){d()},w.onerror=function(){u($.error)},w.onabort=function(){var S=$.error?$.error:$.transaction.error;u(S)}}catch(S){u(S)}})}).catch(u)});return b(f,l),f}function Le(i){var l=this,s=new v(function(f,d){l.ready().then(function(){re(l._dbInfo,m,function(u,p){if(u)return d(u);try{var w=p.objectStore(l._dbInfo.storeName),x=w.clear();p.oncomplete=function(){f()},p.onabort=p.onerror=function(){var $=x.error?x.error:x.transaction.error;d($)}}catch($){d($)}})}).catch(d)});return b(s,i),s}function Fe(i){var l=this,s=new v(function(f,d){l.ready().then(function(){re(l._dbInfo,R,function(u,p){if(u)return d(u);try{var w=p.objectStore(l._dbInfo.storeName),x=w.count();x.onsuccess=function(){f(x.result)},x.onerror=function(){d(x.error)}}catch($){d($)}})}).catch(d)});return b(s,i),s}function ke(i,l){var s=this,f=new v(function(d,u){if(i<0){d(null);return}s.ready().then(function(){re(s._dbInfo,R,function(p,w){if(p)return u(p);try{var x=w.objectStore(s._dbInfo.storeName),$=!1,S=x.openKeyCursor();S.onsuccess=function(){var C=S.result;if(!C){d(null);return}i===0||$?d(C.key):($=!0,C.advance(i))},S.onerror=function(){u(S.error)}}catch(C){u(C)}})}).catch(u)});return b(f,l),f}function tt(i){var l=this,s=new v(function(f,d){l.ready().then(function(){re(l._dbInfo,R,function(u,p){if(u)return d(u);try{var w=p.objectStore(l._dbInfo.storeName),x=w.openKeyCursor(),$=[];x.onsuccess=function(){var S=x.result;if(!S){f($);return}$.push(S.key),S.continue()},x.onerror=function(){d(x.error)}}catch(S){d(S)}})}).catch(d)});return b(s,i),s}function bt(i,l){l=k.apply(this,arguments);var s=this.config();i=typeof i!="function"&&i||{},i.name||(i.name=i.name||s.name,i.storeName=i.storeName||s.storeName);var f=this,d;if(!i.name)d=v.reject("Invalid arguments");else{var u=i.name===s.name&&f._dbInfo.db,p=u?v.resolve(f._dbInfo.db):J(i).then(function(w){var x=A[i.name],$=x.forages;x.db=w;for(var S=0;S<$.length;S++)$[S]._dbInfo.db=w;return w});i.storeName?d=p.then(function(w){if(w.objectStoreNames.contains(i.storeName)){var x=w.version+1;H(i);var $=A[i.name],S=$.forages;w.close();for(var C=0;C<S.length;C++){var F=S[C];F._dbInfo.db=null,F._dbInfo.version=x}var Y=new v(function(j,ne){var Q=g.open(i.name,x);Q.onerror=function(be){var ft=Q.result;ft.close(),ne(be)},Q.onupgradeneeded=function(){var be=Q.result;be.deleteObjectStore(i.storeName)},Q.onsuccess=function(){var be=Q.result;be.close(),j(be)}});return Y.then(function(j){$.db=j;for(var ne=0;ne<S.length;ne++){var Q=S[ne];Q._dbInfo.db=j,V(Q._dbInfo)}}).catch(function(j){throw(ee(i,j)||v.resolve()).catch(function(){}),j})}}):d=p.then(function(w){H(i);var x=A[i.name],$=x.forages;w.close();for(var S=0;S<$.length;S++){var C=$[S];C._dbInfo.db=null}var F=new v(function(Y,j){var ne=g.deleteDatabase(i.name);ne.onerror=function(){var Q=ne.result;Q&&Q.close(),j(ne.error)},ne.onblocked=function(){console.warn('dropInstance blocked for database "'+i.name+'" until all open connections are closed')},ne.onsuccess=function(){var Q=ne.result;Q&&Q.close(),Y(Q)}});return F.then(function(Y){x.db=Y;for(var j=0;j<$.length;j++){var ne=$[j];V(ne._dbInfo)}}).catch(function(Y){throw(ee(i,Y)||v.resolve()).catch(function(){}),Y})})}return b(d,l),d}var wt={_driver:"asyncStorage",_initStorage:W,_support:_(),iterate:K,getItem:ie,setItem:pe,removeItem:Re,clear:Le,length:Fe,key:ke,keys:tt,dropInstance:bt};function Ht(){return typeof openDatabase=="function"}var Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We="~~local_forage_type~",nt=/^~~local_forage_type~([^~]+)~/,ze="__lfsc__:",rt=ze.length,He="arbf",it="blob",ot="si08",_t="ui08",xt="uic8",Ve="si16",$t="si32",st="ur16",at="ui32",lt="fl32",le="fl64",ye=rt+He.length,ct=Object.prototype.toString;function wn(i){var l=i.length*.75,s=i.length,f,d=0,u,p,w,x;i[i.length-1]==="="&&(l--,i[i.length-2]==="="&&l--);var $=new ArrayBuffer(l),S=new Uint8Array($);for(f=0;f<s;f+=4)u=Ae.indexOf(i[f]),p=Ae.indexOf(i[f+1]),w=Ae.indexOf(i[f+2]),x=Ae.indexOf(i[f+3]),S[d++]=u<<2|p>>4,S[d++]=(p&15)<<4|w>>2,S[d++]=(w&3)<<6|x&63;return $}function Vt(i){var l=new Uint8Array(i),s="",f;for(f=0;f<l.length;f+=3)s+=Ae[l[f]>>2],s+=Ae[(l[f]&3)<<4|l[f+1]>>4],s+=Ae[(l[f+1]&15)<<2|l[f+2]>>6],s+=Ae[l[f+2]&63];return l.length%3===2?s=s.substring(0,s.length-1)+"=":l.length%3===1&&(s=s.substring(0,s.length-2)+"=="),s}function ir(i,l){var s="";if(i&&(s=ct.call(i)),i&&(s==="[object ArrayBuffer]"||i.buffer&&ct.call(i.buffer)==="[object ArrayBuffer]")){var f,d=ze;i instanceof ArrayBuffer?(f=i,d+=He):(f=i.buffer,s==="[object Int8Array]"?d+=ot:s==="[object Uint8Array]"?d+=_t:s==="[object Uint8ClampedArray]"?d+=xt:s==="[object Int16Array]"?d+=Ve:s==="[object Uint16Array]"?d+=st:s==="[object Int32Array]"?d+=$t:s==="[object Uint32Array]"?d+=at:s==="[object Float32Array]"?d+=lt:s==="[object Float64Array]"?d+=le:l(new Error("Failed to get type for BinaryArray"))),l(d+Vt(f))}else if(s==="[object Blob]"){var u=new FileReader;u.onload=function(){var p=We+i.type+"~"+Vt(this.result);l(ze+it+p)},u.readAsArrayBuffer(i)}else try{l(JSON.stringify(i))}catch(p){console.error("Couldn't convert value into a JSON string: ",i),l(null,p)}}function or(i){if(i.substring(0,rt)!==ze)return JSON.parse(i);var l=i.substring(ye),s=i.substring(rt,ye),f;if(s===it&&nt.test(l)){var d=l.match(nt);f=d[1],l=l.substring(d[0].length)}var u=wn(l);switch(s){case He:return u;case it:return y([u],{type:f});case ot:return new Int8Array(u);case _t:return new Uint8Array(u);case xt:return new Uint8ClampedArray(u);case Ve:return new Int16Array(u);case st:return new Uint16Array(u);case $t:return new Int32Array(u);case at:return new Uint32Array(u);case lt:return new Float32Array(u);case le:return new Float64Array(u);default:throw new Error("Unkown type: "+s)}}var Kt={serialize:ir,deserialize:or,stringToBuffer:wn,bufferToString:Vt};function _n(i,l,s,f){i.executeSql("CREATE TABLE IF NOT EXISTS "+l.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],s,f)}function sr(i){var l=this,s={db:null};if(i)for(var f in i)s[f]=typeof i[f]!="string"?i[f].toString():i[f];var d=new v(function(u,p){try{s.db=openDatabase(s.name,String(s.version),s.description,s.size)}catch(w){return p(w)}s.db.transaction(function(w){_n(w,s,function(){l._dbInfo=s,u()},function(x,$){p($)})},p)});return s.serializer=Kt,d}function Me(i,l,s,f,d,u){i.executeSql(s,f,d,function(p,w){w.code===w.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[l.storeName],function(x,$){$.rows.length?u(x,w):_n(x,l,function(){x.executeSql(s,f,d,u)},u)},u):u(p,w)},u)}function ar(i,l){var s=this;i=D(i);var f=new v(function(d,u){s.ready().then(function(){var p=s._dbInfo;p.db.transaction(function(w){Me(w,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[i],function(x,$){var S=$.rows.length?$.rows.item(0).value:null;S&&(S=p.serializer.deserialize(S)),d(S)},function(x,$){u($)})})}).catch(u)});return b(f,l),f}function lr(i,l){var s=this,f=new v(function(d,u){s.ready().then(function(){var p=s._dbInfo;p.db.transaction(function(w){Me(w,p,"SELECT * FROM "+p.storeName,[],function(x,$){for(var S=$.rows,C=S.length,F=0;F<C;F++){var Y=S.item(F),j=Y.value;if(j&&(j=p.serializer.deserialize(j)),j=i(j,Y.key,F+1),j!==void 0){d(j);return}}d()},function(x,$){u($)})})}).catch(u)});return b(f,l),f}function xn(i,l,s,f){var d=this;i=D(i);var u=new v(function(p,w){d.ready().then(function(){l===void 0&&(l=null);var x=l,$=d._dbInfo;$.serializer.serialize(l,function(S,C){C?w(C):$.db.transaction(function(F){Me(F,$,"INSERT OR REPLACE INTO "+$.storeName+" (key, value) VALUES (?, ?)",[i,S],function(){p(x)},function(Y,j){w(j)})},function(F){if(F.code===F.QUOTA_ERR){if(f>0){p(xn.apply(d,[i,x,s,f-1]));return}w(F)}})})}).catch(w)});return b(u,s),u}function cr(i,l,s){return xn.apply(this,[i,l,s,1])}function ur(i,l){var s=this;i=D(i);var f=new v(function(d,u){s.ready().then(function(){var p=s._dbInfo;p.db.transaction(function(w){Me(w,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[i],function(){d()},function(x,$){u($)})})}).catch(u)});return b(f,l),f}function fr(i){var l=this,s=new v(function(f,d){l.ready().then(function(){var u=l._dbInfo;u.db.transaction(function(p){Me(p,u,"DELETE FROM "+u.storeName,[],function(){f()},function(w,x){d(x)})})}).catch(d)});return b(s,i),s}function dr(i){var l=this,s=new v(function(f,d){l.ready().then(function(){var u=l._dbInfo;u.db.transaction(function(p){Me(p,u,"SELECT COUNT(key) as c FROM "+u.storeName,[],function(w,x){var $=x.rows.item(0).c;f($)},function(w,x){d(x)})})}).catch(d)});return b(s,i),s}function hr(i,l){var s=this,f=new v(function(d,u){s.ready().then(function(){var p=s._dbInfo;p.db.transaction(function(w){Me(w,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[i+1],function(x,$){var S=$.rows.length?$.rows.item(0).key:null;d(S)},function(x,$){u($)})})}).catch(u)});return b(f,l),f}function gr(i){var l=this,s=new v(function(f,d){l.ready().then(function(){var u=l._dbInfo;u.db.transaction(function(p){Me(p,u,"SELECT key FROM "+u.storeName,[],function(w,x){for(var $=[],S=0;S<x.rows.length;S++)$.push(x.rows.item(S).key);f($)},function(w,x){d(x)})})}).catch(d)});return b(s,i),s}function vr(i){return new v(function(l,s){i.transaction(function(f){f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(d,u){for(var p=[],w=0;w<u.rows.length;w++)p.push(u.rows.item(w).name);l({db:i,storeNames:p})},function(d,u){s(u)})},function(f){s(f)})})}function pr(i,l){l=k.apply(this,arguments);var s=this.config();i=typeof i!="function"&&i||{},i.name||(i.name=i.name||s.name,i.storeName=i.storeName||s.storeName);var f=this,d;return i.name?d=new v(function(u){var p;i.name===s.name?p=f._dbInfo.db:p=openDatabase(i.name,"","",0),i.storeName?u({db:p,storeNames:[i.storeName]}):u(vr(p))}).then(function(u){return new v(function(p,w){u.db.transaction(function(x){function $(Y){return new v(function(j,ne){x.executeSql("DROP TABLE IF EXISTS "+Y,[],function(){j()},function(Q,be){ne(be)})})}for(var S=[],C=0,F=u.storeNames.length;C<F;C++)S.push($(u.storeNames[C]));v.all(S).then(function(){p()}).catch(function(Y){w(Y)})},function(x){w(x)})})}):d=v.reject("Invalid arguments"),b(d,l),d}var yr={_driver:"webSQLStorage",_initStorage:sr,_support:Ht(),iterate:lr,getItem:ar,setItem:cr,removeItem:ur,clear:fr,length:dr,key:hr,keys:gr,dropInstance:pr};function mr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function $n(i,l){var s=i.name+"/";return i.storeName!==l.storeName&&(s+=i.storeName+"/"),s}function br(){var i="_localforage_support_test";try{return localStorage.setItem(i,!0),localStorage.removeItem(i),!1}catch{return!0}}function wr(){return!br()||localStorage.length>0}function _r(i){var l=this,s={};if(i)for(var f in i)s[f]=i[f];return s.keyPrefix=$n(i,l._defaultConfig),wr()?(l._dbInfo=s,s.serializer=Kt,v.resolve()):v.reject()}function xr(i){var l=this,s=l.ready().then(function(){for(var f=l._dbInfo.keyPrefix,d=localStorage.length-1;d>=0;d--){var u=localStorage.key(d);u.indexOf(f)===0&&localStorage.removeItem(u)}});return b(s,i),s}function $r(i,l){var s=this;i=D(i);var f=s.ready().then(function(){var d=s._dbInfo,u=localStorage.getItem(d.keyPrefix+i);return u&&(u=d.serializer.deserialize(u)),u});return b(f,l),f}function Sr(i,l){var s=this,f=s.ready().then(function(){for(var d=s._dbInfo,u=d.keyPrefix,p=u.length,w=localStorage.length,x=1,$=0;$<w;$++){var S=localStorage.key($);if(S.indexOf(u)===0){var C=localStorage.getItem(S);if(C&&(C=d.serializer.deserialize(C)),C=i(C,S.substring(p),x++),C!==void 0)return C}}});return b(f,l),f}function Er(i,l){var s=this,f=s.ready().then(function(){var d=s._dbInfo,u;try{u=localStorage.key(i)}catch{u=null}return u&&(u=u.substring(d.keyPrefix.length)),u});return b(f,l),f}function Ar(i){var l=this,s=l.ready().then(function(){for(var f=l._dbInfo,d=localStorage.length,u=[],p=0;p<d;p++){var w=localStorage.key(p);w.indexOf(f.keyPrefix)===0&&u.push(w.substring(f.keyPrefix.length))}return u});return b(s,i),s}function Cr(i){var l=this,s=l.keys().then(function(f){return f.length});return b(s,i),s}function Dr(i,l){var s=this;i=D(i);var f=s.ready().then(function(){var d=s._dbInfo;localStorage.removeItem(d.keyPrefix+i)});return b(f,l),f}function Ir(i,l,s){var f=this;i=D(i);var d=f.ready().then(function(){l===void 0&&(l=null);var u=l;return new v(function(p,w){var x=f._dbInfo;x.serializer.serialize(l,function($,S){if(S)w(S);else try{localStorage.setItem(x.keyPrefix+i,$),p(u)}catch(C){(C.name==="QuotaExceededError"||C.name==="NS_ERROR_DOM_QUOTA_REACHED")&&w(C),w(C)}})})});return b(d,s),d}function Pr(i,l){if(l=k.apply(this,arguments),i=typeof i!="function"&&i||{},!i.name){var s=this.config();i.name=i.name||s.name,i.storeName=i.storeName||s.storeName}var f=this,d;return i.name?d=new v(function(u){i.storeName?u($n(i,f._defaultConfig)):u(i.name+"/")}).then(function(u){for(var p=localStorage.length-1;p>=0;p--){var w=localStorage.key(p);w.indexOf(u)===0&&localStorage.removeItem(w)}}):d=v.reject("Invalid arguments"),b(d,l),d}var Tr={_driver:"localStorageWrapper",_initStorage:_r,_support:mr(),iterate:Sr,getItem:$r,setItem:Ir,removeItem:Dr,clear:xr,length:Cr,key:Er,keys:Ar,dropInstance:Pr},Nr=function(l,s){return l===s||typeof l=="number"&&typeof s=="number"&&isNaN(l)&&isNaN(s)},Rr=function(l,s){for(var f=l.length,d=0;d<f;){if(Nr(l[d],s))return!0;d++}return!1},Sn=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"},ut={},En={},Ke={INDEXEDDB:wt,WEBSQL:yr,LOCALSTORAGE:Tr},kr=[Ke.INDEXEDDB._driver,Ke.WEBSQL._driver,Ke.LOCALSTORAGE._driver],St=["dropInstance"],qt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(St),Mr={description:"",driver:kr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Br(i,l){i[l]=function(){var s=arguments;return i.ready().then(function(){return i[l].apply(i,s)})}}function Jt(){for(var i=1;i<arguments.length;i++){var l=arguments[i];if(l)for(var s in l)l.hasOwnProperty(s)&&(Sn(l[s])?arguments[0][s]=l[s].slice():arguments[0][s]=l[s])}return arguments[0]}var Or=function(){function i(l){c(this,i);for(var s in Ke)if(Ke.hasOwnProperty(s)){var f=Ke[s],d=f._driver;this[s]=d,ut[d]||this.defineDriver(f)}this._defaultConfig=Jt({},Mr),this._config=Jt({},this._defaultConfig,l),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i.prototype.config=function(s){if((typeof s>"u"?"undefined":a(s))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var f in s){if(f==="storeName"&&(s[f]=s[f].replace(/\W/g,"_")),f==="version"&&typeof s[f]!="number")return new Error("Database version must be a number.");this._config[f]=s[f]}return"driver"in s&&s.driver?this.setDriver(this._config.driver):!0}else return typeof s=="string"?this._config[s]:this._config},i.prototype.defineDriver=function(s,f,d){var u=new v(function(p,w){try{var x=s._driver,$=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!s._driver){w($);return}for(var S=qt.concat("_initStorage"),C=0,F=S.length;C<F;C++){var Y=S[C],j=!Rr(St,Y);if((j||s[Y])&&typeof s[Y]!="function"){w($);return}}var ne=function(){for(var ft=function(Wr){return function(){var zr=new Error("Method "+Wr+" is not implemented by the current driver"),An=v.reject(zr);return b(An,arguments[arguments.length-1]),An}},Qt=0,Fr=St.length;Qt<Fr;Qt++){var Xt=St[Qt];s[Xt]||(s[Xt]=ft(Xt))}};ne();var Q=function(ft){ut[x]&&console.info("Redefining LocalForage driver: "+x),ut[x]=s,En[x]=ft,p()};"_support"in s?s._support&&typeof s._support=="function"?s._support().then(Q,w):Q(!!s._support):Q(!0)}catch(be){w(be)}});return E(u,f,d),u},i.prototype.driver=function(){return this._driver||null},i.prototype.getDriver=function(s,f,d){var u=ut[s]?v.resolve(ut[s]):v.reject(new Error("Driver not found."));return E(u,f,d),u},i.prototype.getSerializer=function(s){var f=v.resolve(Kt);return E(f,s),f},i.prototype.ready=function(s){var f=this,d=f._driverSet.then(function(){return f._ready===null&&(f._ready=f._initDriver()),f._ready});return E(d,s,s),d},i.prototype.setDriver=function(s,f,d){var u=this;Sn(s)||(s=[s]);var p=this._getSupportedDrivers(s);function w(){u._config.driver=u.driver()}function x(C){return u._extend(C),w(),u._ready=u._initStorage(u._config),u._ready}function $(C){return function(){var F=0;function Y(){for(;F<C.length;){var j=C[F];return F++,u._dbInfo=null,u._ready=null,u.getDriver(j).then(x).catch(Y)}w();var ne=new Error("No available storage method found.");return u._driverSet=v.reject(ne),u._driverSet}return Y()}}var S=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=S.then(function(){var C=p[0];return u._dbInfo=null,u._ready=null,u.getDriver(C).then(function(F){u._driver=F._driver,w(),u._wrapLibraryMethodsWithReady(),u._initDriver=$(p)})}).catch(function(){w();var C=new Error("No available storage method found.");return u._driverSet=v.reject(C),u._driverSet}),E(this._driverSet,f,d),this._driverSet},i.prototype.supports=function(s){return!!En[s]},i.prototype._extend=function(s){Jt(this,s)},i.prototype._getSupportedDrivers=function(s){for(var f=[],d=0,u=s.length;d<u;d++){var p=s[d];this.supports(p)&&f.push(p)}return f},i.prototype._wrapLibraryMethodsWithReady=function(){for(var s=0,f=qt.length;s<f;s++)Br(this,qt[s])},i.prototype.createInstance=function(s){return new i(s)},i}(),Lr=new Or;r.exports=Lr},{3:3}]},{},[4])(4)})})(Hn);var di=Hn.exports;const je=fi(di),[hi,kt]=L({show:!1,title:"",message:""});function Vn(e){e=new Date(e);let t=e.getMonth()+1;t<10&&(t=`0${t}`);let n=e.getDate();return n<10&&(n=`0${n}`),`${n}.${t}.${e.getFullYear()}`}function gi(e){e=new Date(e);let t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getMonth(),r=String(e.getFullYear());return`${t[n]} ${r.substring(2,4)}`}function Mt(e){e=new Date(e);let t=e.getMonth()+1;t<10&&(t=`0${t}`);let n=e.getDate();return n<10&&(n=`0${n}`),`${e.getFullYear()}-${t}-${n}`}function Ce(e){return e=new Date(e),Number(e)}function Je(){let t=new Date(Date.now()).getMonth()+1;return t<10&&(t=`0${t}`),t}function Be(){let t=new Date(Date.now()).getFullYear();return String(t)}function Nn(e,t){return new Date(e,Number(t),0).getDate()}function hn(){let e=new Date(Date.now()),t=e.getDate(),n=e.getMonth(),r=e.getFullYear();return Ce(new Date(r,n,t))}je.config({name:"work-diary"});const[De,vt]=L([]),[Se,Bt]=L({sections:[]});function vi(){je.getItem("gardenPlan").then(e=>{e&&Bt(JSON.parse(e))}).catch(e=>console.log(e))}function gn(){let e=JSON.stringify(Se());je.setItem("gardenPlan",e).catch(t=>console.log(t))}function pi(){je.getItem("diary").then(e=>{e&&vt(JSON.parse(e))}).catch(e=>console.log(e))}function Ot(){let e=JSON.stringify(De());je.setItem("diary",e).catch(t=>console.log(t))}const yi=()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({diary:De(),cultures:et(),gardenPlan:Se()})),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","diary-export.json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},mi=e=>{let t=new FileReader;t.onload=n=>{try{let r=JSON.parse(n.target.result),o=r.diary,a=r.cultures,c=r.gardenPlan;vt(o),Ot(),bn(a),qn(),Bt(c),gn()}catch(r){kt({show:!0,title:"error importing file",message:e.name+" "+r})}},t.onerror=n=>{console.log(n),kt({show:!0,title:"error",message:"error importing diary data"})},t.readAsText(e)},[et,bn]=L([{name:"keine Kultur gewählt",id:"none"},{name:"Kartoffeln",id:"1"},{name:"Karotten",id:"2"},{name:"Bohnen",id:"3"},{name:"Salat",id:"4"}]);function Kn(){je.getItem("cultures").then(e=>{e&&bn(JSON.parse(e))}).catch(e=>console.log(e))}function qn(){let e=JSON.stringify(et());je.setItem("cultures",e).catch(t=>console.log(t))}function Jn(e){return et().find(n=>n.id===e).name}function bi(){let e=[];return Se().sections.forEach(t=>{t.beds.forEach(n=>{e.push(n)})}),e}async function wi(e){let t=[],n=94608e6;return De().forEach(r=>{r.correspondingBed?.id===e&&(r.category==="Aussaat"||r.category==="Pflanzen/Setzen")&&r.culture!=="none"&&Date.now()-r.date<n&&t.push({rawDate:r.date,date:gi(r.date),category:r.category,culture:Jn(r.culture)})}),t=t.sort((r,o)=>o.rawDate-r.rawDate),t}const vn=Symbol("store-raw"),Qe=Symbol("store-node"),Pe=Symbol("store-has"),Qn=Symbol("store-self");function Xn(e){let t=e[Ge];if(!t&&(Object.defineProperty(e,Ge,{value:t=new Proxy(e,$i)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,a=n.length;o<a;o++){const c=n[o];r[c].get&&Object.defineProperty(e,c,{enumerable:r[c].enumerable,get:r[c].get.bind(t)})}}return t}function Lt(e){let t;return e!=null&&typeof e=="object"&&(e[Ge]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function pt(e,t=new Set){let n,r,o,a;if(n=e!=null&&e[vn])return n;if(!Lt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let c=0,h=e.length;c<h;c++)o=e[c],(r=pt(o,t))!==o&&(e[c]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const c=Object.keys(e),h=Object.getOwnPropertyDescriptors(e);for(let g=0,_=c.length;g<_;g++)a=c[g],!h[a].get&&(o=e[a],(r=pt(o,t))!==o&&(e[a]=r))}return e}function Ft(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function yt(e,t,n){if(e[t])return e[t];const[r,o]=L(n,{equals:!1,internal:!0});return r.$=o,e[t]=r}function _i(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Ge||t===Qe||(delete n.value,delete n.writable,n.get=()=>e[Ge][t]),n}function Zn(e){cn()&&yt(Ft(e,Qe),Qn)()}function xi(e){return Zn(e),Reflect.ownKeys(e)}const $i={get(e,t,n){if(t===vn)return e;if(t===Ge)return n;if(t===ln)return Zn(e),n;const r=Ft(e,Qe),o=r[t];let a=o?o():e[t];if(t===Qe||t===Pe||t==="__proto__")return a;if(!o){const c=Object.getOwnPropertyDescriptor(e,t);cn()&&(typeof a!="function"||e.hasOwnProperty(t))&&!(c&&c.get)&&(a=yt(r,t,a)())}return Lt(a)?Xn(a):a},has(e,t){return t===vn||t===Ge||t===ln||t===Qe||t===Pe||t==="__proto__"?!0:(cn()&&yt(Ft(e,Pe),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:xi,getOwnPropertyDescriptor:_i};function Wt(e,t,n,r=!1){if(!r&&e[t]===n)return;const o=e[t],a=e.length;n===void 0?(delete e[t],e[Pe]&&e[Pe][t]&&o!==void 0&&e[Pe][t].$()):(e[t]=n,e[Pe]&&e[Pe][t]&&o===void 0&&e[Pe][t].$());let c=Ft(e,Qe),h;if((h=yt(c,t,o))&&h.$(()=>n),Array.isArray(e)&&e.length!==a){for(let g=e.length;g<a;g++)(h=c[g])&&h.$();(h=yt(c,"length",a))&&h.$(e.length)}(h=c[Qn])&&h.$()}function er(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];Wt(e,o,t[o])}}function Si(e,t){if(typeof t=="function"&&(t=t(e)),t=pt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const o=t[n];e[n]!==o&&Wt(e,n,o)}Wt(e,"length",r)}else er(e,t)}function dt(e,t,n=[]){let r,o=e;if(t.length>1){r=t.shift();const c=typeof r,h=Array.isArray(e);if(Array.isArray(r)){for(let g=0;g<r.length;g++)dt(e,[r[g]].concat(t),n);return}else if(h&&c==="function"){for(let g=0;g<e.length;g++)r(e[g],g)&&dt(e,[g].concat(t),n);return}else if(h&&c==="object"){const{from:g=0,to:_=e.length-1,by:y=1}=r;for(let v=g;v<=_;v+=y)dt(e,[v].concat(t),n);return}else if(t.length>1){dt(e[r],t,[r].concat(n));return}o=e[r],n=[r].concat(n)}let a=t[0];typeof a=="function"&&(a=a(o,n),a===o)||r===void 0&&a==null||(a=pt(a),r===void 0||Lt(o)&&Lt(a)&&!Array.isArray(a)?er(o,a):Wt(e,r,a))}function Ei(...[e,t]){const n=pt(e||{}),r=Array.isArray(n),o=Xn(n);function a(...c){Yr(()=>{r&&c.length===1?Si(n,c[0]):dt(n,c)})}return[o,a]}const fe=jr();function Ai(e){const[t,n]=L(!1),[r,o]=L(null),[a,c]=L(!1),[h,g]=L(!1),[_,y]=L(!1),[v,b]=L(!1),[E,D]=L(!1),[k,T]=L(!1),[N,A]=L(!1),[M,R]=Ei({return:null,highlight:null}),m=()=>({done:"both",dateBegin:0,dateEnd:hn(),category:"All"}),[I,P]=L(m()),O=()=>P(m()),H=()=>De().filter(J=>J.date>=I().dateBegin&&J.date<=I().dateEnd&&(I().done==="both"||I().done==="done"&&J.done===!0||I().done==="pending"&&J.done===!1)&&(I().category==="All"||I().category===J.category)).sort((J,ue)=>J.date-ue.date),V=["Pflege","Pflanzen/Setzen","Aussaat","Ernten","Boden","Pflanzenschutz","Anzucht","Umgebungsarbeiten","Anderes"];return U(fe.Provider,{value:{showEditor:t,setShowEditor:n,openToEdit:r,setOpenToEdit:o,deleteHot:a,setDeleteHot:c,showMenu:h,setShowMenu:g,categorys:V,toastMessage:hi,setToastMessage:kt,showReport:_,setShowReport:y,showFilter:v,setShowFilter:b,filter:I,setFilter:P,resetFilter:O,filteredDiary:H,showGardenMap:E,setShowGardenMap:D,showGardenMapEditor:k,setShowGardenMapEditor:T,bedCommunication:M,setBedCommunication:R,showCulturesEditor:N,setShowCulturesEditor:A},get children(){return e.children}})}var Ci=Z('<article><header><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><button class="icon-button outline"><i class="fa-solid fa-trash-can"></i> </button></header><div><h6></h6><h6> </h6><h6></h6></div><p></p><footer><div class=diary-grid-1><label><input type=checkbox>done</label><p></p><p><i class="fa-regular fa-clock"></i><mark> minutes');function Di(e){const{setOpenToEdit:t,deleteHot:n}=ge(fe),r=a=>{vt([...De().map(c=>c.id===a.id?{...c,done:!c.done}:c=c)]),console.log(De()),Ot()},o=a=>a.culture==="none"?"-":et().find(h=>h.id===a.culture)?.name;return(()=>{var a=Ci(),c=a.firstChild,h=c.firstChild,g=h.nextSibling,_=g.firstChild,y=c.nextSibling,v=y.firstChild,b=v.nextSibling;b.firstChild;var E=b.nextSibling,D=y.nextSibling,k=D.nextSibling,T=k.firstChild,N=T.firstChild,A=N.firstChild,M=N.nextSibling,R=M.nextSibling,m=R.firstChild,I=m.nextSibling,P=I.firstChild;return h.$$click=()=>t(e.entry.id),g.$$click=()=>e.deleteEntry(e.entry.id),y.style.setProperty("display","grid"),y.style.setProperty("grid-template-columns","1fr 2fr 1fr"),y.style.setProperty("gap",".5rem"),z(v,()=>e.entry.category),z(b,()=>o(e.entry),null),z(E,()=>e.entry.correspondingBed?.name),D.style.setProperty("white-space","pre-wrap"),z(D,()=>e.entry.work),A.$$click=()=>r(e.entry),z(M,()=>Vn(e.entry.date)),m.style.setProperty("font-size","1.3rem"),z(I,()=>e.entry.duration,P),G(()=>(n()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)")!=null?_.style.setProperty("color",n()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)"):_.style.removeProperty("color")),G(()=>A.checked=e.entry.done),a})()}we(["click"]);var Ii=Z('<button class="float primary"id=floating-button><i class="fa-solid fa-plus fa-2xl float-icon">');function Pi(e){const{showEditor:t,setShowEditor:n,showReport:r}=ge(fe),[o,a]=L();return Ne(()=>{setInterval(()=>{a(!0),setTimeout(()=>a(!1),400)},7e3)}),U(mn,{get when(){return!r()},get children(){var c=Ii();return c.$$click=()=>n(!t()),G(()=>he(c,"buzz",o())),c}})}we(["click"]);let Ct;const Ti=new Uint8Array(16);function Ni(){if(!Ct&&(Ct=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ct))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ct(Ti)}const oe=[];for(let e=0;e<256;++e)oe.push((e+256).toString(16).slice(1));function Ri(e,t=0){return oe[e[t+0]]+oe[e[t+1]]+oe[e[t+2]]+oe[e[t+3]]+"-"+oe[e[t+4]]+oe[e[t+5]]+"-"+oe[e[t+6]]+oe[e[t+7]]+"-"+oe[e[t+8]]+oe[e[t+9]]+"-"+oe[e[t+10]]+oe[e[t+11]]+oe[e[t+12]]+oe[e[t+13]]+oe[e[t+14]]+oe[e[t+15]]}let Rn,en,tn=0,nn=0;function zt(e,t,n){let r=t&&n||0;const o=t||new Array(16);e=e||{};let a=e.node||Rn,c=e.clockseq!==void 0?e.clockseq:en;if(a==null||c==null){const b=e.random||(e.rng||Ni)();a==null&&(a=Rn=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),c==null&&(c=en=(b[6]<<8|b[7])&16383)}let h=e.msecs!==void 0?e.msecs:Date.now(),g=e.nsecs!==void 0?e.nsecs:nn+1;const _=h-tn+(g-nn)/1e4;if(_<0&&e.clockseq===void 0&&(c=c+1&16383),(_<0||h>tn)&&e.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");tn=h,nn=g,en=c,h+=122192928e5;const y=((h&268435455)*1e4+g)%4294967296;o[r++]=y>>>24&255,o[r++]=y>>>16&255,o[r++]=y>>>8&255,o[r++]=y&255;const v=h/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=v&255,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=c>>>8|128,o[r++]=c&255;for(let b=0;b<6;++b)o[r+b]=a[b];return t||Ri(o)}var ki=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><h4>add new Culture</h4><input type=text placeholder="Name of new Culture"><button> add Culture ');function Mi(){let e;const{showCulturesEditor:t,setShowCulturesEditor:n}=ge(fe),[r,o]=L(""),[a,c]=L(!1);de(()=>{r().length>2&&c(!1)});const h=()=>{r().length<3&&c(!0);let g={name:r(),id:zt()};bn([...et(),g]),qn(),o(""),t(!1)};return(()=>{var g=ki(),_=g.firstChild,y=_.firstChild,v=y.firstChild,b=y.nextSibling,E=b.nextSibling,D=E.nextSibling;v.$$click=()=>n(!1),E.addEventListener("change",()=>o(e.value));var k=e;return typeof k=="function"?se(k,E):e=E,D.$$click=()=>h(),G(T=>{var N=t(),A=a();return N!==T.e&&he(g,"open",T.e=N),A!==T.t&&he(E,"aria-invalid",T.t=A),T},{e:void 0,t:void 0}),G(()=>E.value=r()),g})()}we(["click"]);var Bi=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-floppy-disk"></i></button><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><label><input type=checkbox>done</label><textarea rows=5 cols=40 placeholder="describe work"></textarea><input type=date><p></p><label for=duration>duration <mark></mark></label><input type=range id=duration min=0 max=240 step=5><fieldset role=group><input type=text readonly=true placeholder="no bed selected"><button class="secondary outline"><i class="fa-solid fa-location-dot"></i></button></fieldset><fieldset><legend>category</legend><select></select></fieldset><fieldset role=group><legend>culture</legend><select></select><button>Add Cultures'),kn=Z("<option>");let rn;function Oi(e){const{showEditor:t,setShowEditor:n,openToEdit:r,setOpenToEdit:o,categorys:a,showGardenMap:c,setShowGardenMap:h,bedCommunication:g,setBedCommunication:_,showCulturesEditor:y,setShowCulturesEditor:v}=ge(fe),b=W=>{t()&&!rn.contains(W.target)&&!c&&n(!1)};Ne(()=>{document.addEventListener("click",b,!0),Kn()}),Ut(()=>{document.removeEventListener("click",b,!0),_({return:null,highlight:!1})}),de(()=>{t()&&D({id:Date.now(),date:hn(),work:"",category:"Pflege",done:!0,duration:10,culture:0}),r()!==null?E(r()):D({id:Date.now(),date:hn(),work:"",category:"Pflege",done:!0,duration:10})});const E=W=>{const ie=De().find(K=>K.id===W);D(ie)},D=W=>{ue(W.id),I(W.done),A(W.work),R(W.date),V(W.category),O(W.duration),ae(W.correspondingBed?.id||null),xe(W.correspondingBed?.name||null),_("highlight",W.correspondingBed?.id||null),$e(W.culture||"none")};let k,T;const[N,A]=L(""),[M,R]=L(Date.now()),[m,I]=L(!1),[P,O]=L(10),[H,V]=L("Pflege"),[ee,te]=L(!1),[J,ue]=L(zt()),[_e,ae]=L(null),[ve,xe]=L(null),[Ie,$e]=L("none");function re(W,ie){const[K,pe]=ie();G(()=>W.value=K()),W.oninput=Re=>pe(Re.target.value)}const Ee=()=>{if(N().length<1){te(!0);return}let W={id:J(),work:N(),date:M(),done:m(),duration:P(),category:H(),correspondingBed:{id:_e(),name:ve()},culture:Ie()};e.saveNewEntry(W),n(!1),window.scrollTo(0,0)};return de(Xe(()=>N(),()=>te(!1))),de(()=>{if(g.return&&g.return!==!0){let W=g.return;_("return",null),h(!1),ae(W.id),xe(W.name)}}),(()=>{var W=Bi(),ie=W.firstChild,K=ie.firstChild,pe=K.firstChild,Re=pe.nextSibling,Le=K.nextSibling,Fe=Le.firstChild,ke=Le.nextSibling,tt=ke.nextSibling,bt=tt.nextSibling,wt=bt.nextSibling,Ht=wt.firstChild,Ae=Ht.nextSibling,We=wt.nextSibling,nt=We.nextSibling,ze=nt.firstChild,rt=ze.nextSibling,He=nt.nextSibling,it=He.firstChild,ot=it.nextSibling,_t=He.nextSibling,xt=_t.firstChild,Ve=xt.nextSibling,$t=Ve.nextSibling;z(W,U(Mi,{}),ie);var st=rn;typeof st=="function"?se(st,ie):rn=ie,pe.$$click=()=>Ee(),Re.$$click=()=>n(!1),Fe.addEventListener("change",()=>I(!m())),ke.$$input=()=>A(k.value);var at=k;typeof at=="function"?se(at,ke):k=ke,tt.addEventListener("change",le=>R(Ce(le.target.value))),z(bt,()=>Mt(M())),z(Ae,P),We.$$input=()=>O(T.value);var lt=T;return typeof lt=="function"?se(lt,We):T=We,rt.$$click=()=>{_("return",!0),h(!0)},se(re,ot,()=>[H,V]),z(ot,U(Ye,{each:a,children:le=>(()=>{var ye=kn();return ye.value=le,z(ye,le),ye})()})),se(re,Ve,()=>[Ie,$e]),z(Ve,U(Ye,{get each(){return et()},children:le=>(()=>{var ye=kn();return z(ye,()=>le.name),G(()=>ye.value=le.id),ye})()})),$t.$$click=()=>v(!0),G(le=>{var ye=t(),ct=ee();return ye!==le.e&&he(W,"open",le.e=ye),ct!==le.t&&he(ke,"aria-invalid",le.t=ct),le},{e:void 0,t:void 0}),G(()=>Fe.checked=m()),G(()=>ke.value=N()),G(()=>tt.value=Mt(M())),G(()=>We.value=P()),G(()=>ze.value=ve()),W})()}we(["click","input"]);var Li=Z("<canvas height=600 id=report-canvas>");class Fi{constructor(t){t.width=window.innerWidth*.85,t.height=window.innerHeight*.8,t.style.background="white";let n=t.getContext("2d");n.fillStyle="black",this.canvas=t,this.context=n,console.log("canvas registered..."),this.initialY=25,this.y=this.initialY,this.indent=10}adjustHeight(){this.canvas.height=this.y+10}drawDone(){this.context.font='900 17px "Font Awesome 6 Free"',this.context.fillText("",this.indent,this.y)}drawPending(){this.context.font='900 17px "Font Awesome 6 Free"',this.context.fillText("",this.indent,this.y)}drawSeparator(){this.context.beginPath(),this.context.fillStyle="black",this.context.moveTo(10,this.y),this.context.lineTo(this.canvas.width-10,this.y),this.context.stroke(),this.y+=22}writeTitle(t){this.context.font="800 25px system-ui",this.context.fillText(t,this.indent,this.y),this.y+=35}writeSubtitle(t){this.y+=10,this.context.font="700 20px system-ui",this.context.fillText(t,this.indent,this.y),this.y+=25}writeCategory(t,n=10){this.context.font="700 15px system-ui",this.context.fillStyle="black",this.context.fillText(t,n,this.y),this.y+=22}writeLine(t,n=10){this.context.font="15px system-ui",this.context.fillStyle="black",this.context.fillText(t,n,this.y),this.y+=22}}function Wi(e){let t,n;Ne(()=>{console.log("mountex"),n=new Fi(t)});function r(o){o.done?n.drawDone():n.drawPending();let a=o.category.toUpperCase();o.culture&&o.culture!=="keine Kultur gewählt"&&(a+="   "+o.culture.toUpperCase()),n.writeCategory(a,35);for(let c of o.work)c.length&&n.writeLine(c,35)}return de(()=>{let o=e.report;n.y=n.initialY;for(let a=0;a<2;a++)if(o){n.writeTitle("Work Report"),n.writeSubtitle("Zeitaufwand in Periode: "+o.totalTime),n.drawSeparator();for(let c in o.report){n.writeSubtitle(`${c}     ${o.report[c].duration} min`);for(let h of o.report[c].works)r(h);n.drawSeparator()}a===0&&(n.adjustHeight(),n.y=n.initialY)}}),(()=>{var o=Li(),a=t;return typeof a=="function"?se(a,o):t=o,o})()}var zi=Z('<article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-share-nodes"></i></button><p>');const[Gi,pn]=L("");function Mn(e){let t=0;e.forEach(r=>{t+=Number(r.duration)});let n={};return n.totalTime=`${t} min`,n.totalLines=0,n.report={},e.forEach(r=>{let o=Vn(r.date);o in n.report||(n.report[o]={works:[],duration:0}),n.report[o].duration+=Number(r.duration);let a=r.work.split(`
`);a=a.filter(c=>c.length>0),n.totalLines+=a.length,n.report[o].works.push({date:o,duration:r.duration,work:a,category:r.category,culture:Jn(r.culture),done:r.done})}),n}function Ui(e,t){for(var n=e.split(","),r=n[0].match(/:(.*?);/)[1],o=atob(n[n.length-1]),a=o.length,c=new Uint8Array(a);a--;)c[a]=o.charCodeAt(a);return new File([c],t,{type:r})}function Yi(){var e=document.querySelector("#report-canvas");const t=e.toDataURL("image/png"),n=Ui(t,"report.png");pn("pending"),navigator.share({title:"Work Report",text:"hier ist der neuste Arbeitsraport",files:[n]}).then(()=>{pn("shared successfully")}).catch(r=>kt({show:!0,title:"error while sharing report ",message:r}))}function ji(){const{showReport:e,setShowReport:t,filter:n,filteredDiary:r}=ge(fe),[o,a]=L(Mn(r()));return Ne(()=>{pn(" ")}),de(Xe(()=>n(),()=>{console.log("re run generate report"),a(Mn(r())),console.log(o())})),(()=>{var c=zi(),h=c.firstChild,g=h.firstChild,_=g.nextSibling,y=_.nextSibling;return g.$$click=()=>t(!1),_.$$click=()=>Yi(),z(y,()=>Gi()||" "),z(c,U(Wi,{get report(){return o()}}),null),c})()}we(["click"]);var Hi=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><span><strong>Garden Map Editor </strong></span><div class=card><h4>Add new Section</h4><label>section Name<input name=sectionNameField placeholder="Name of new Section"></label><button>add Section</button></div><div class=card><h4>Add new Bed</h4><label>select Section<select><option>please choose section</option></select></label><label>bed Name<input name=bedNameField placeholder="Name of new bed"readonly=true></label><button>add Section'),Vi=Z("<option>");function Ki(){let e,t,n;const{showGardenMapEditor:r,setShowGardenMapEditor:o}=ge(fe),[a,c]=L(""),[h,g]=L(!1),[_,y]=L(""),[v,b]=L(!1);let E=null;de(()=>{a().length>2&&g(!1)});const D=()=>{if(a().length<3){g(!0);return}if(Se().sections.find(A=>A.name===a())){g(!0);return}let N=zt();Se().sections.push({name:a(),id:N,beds:[]}),Bt({...Se()}),gn(),c(""),g(!1)},k=N=>{if(N==="null"){b(!0);return}else b(!1);let A=Se().sections.find(R=>String(R.id)===String(N));E=A;let M=A.beds.length+1;y(`${A.name} ${M}`)},T=()=>{E.beds.push({name:_(),id:zt()}),Bt({...Se()}),gn(),n.value="null",y("")};return(()=>{var N=Hi(),A=N.firstChild,M=A.firstChild,R=M.firstChild,m=R.nextSibling,I=m.nextSibling,P=I.firstChild,O=P.nextSibling,H=O.firstChild,V=H.nextSibling,ee=O.nextSibling,te=I.nextSibling,J=te.firstChild,ue=J.nextSibling,_e=ue.firstChild,ae=_e.nextSibling,ve=ae.firstChild,xe=ue.nextSibling,Ie=xe.firstChild,$e=Ie.nextSibling,re=xe.nextSibling;A.style.setProperty("min-height","100vh"),R.$$click=()=>o(!1),m.style.setProperty("font-size","1.5rem"),V.$$input=()=>c(e.value);var Ee=e;typeof Ee=="function"?se(Ee,V):e=V,ee.$$click=()=>D(a()),ae.addEventListener("change",()=>k(n.value));var W=n;typeof W=="function"?se(W,ae):n=ae,ve.value=null,z(ae,U(Ye,{get each(){return Se().sections},children:K=>(()=>{var pe=Vi();return z(pe,()=>K.name),G(()=>pe.value=K.id),pe})()}),null);var ie=t;return typeof ie=="function"?se(ie,$e):t=$e,re.$$click=()=>T(_()),G(K=>{var pe=r(),Re=h(),Le=v(),Fe=!_();return pe!==K.e&&he(N,"open",K.e=pe),Re!==K.t&&he(V,"aria-invalid",K.t=Re),Le!==K.a&&he(ae,"aria-invalid",K.a=Le),Fe!==K.o&&(re.disabled=K.o=Fe),K},{e:void 0,t:void 0,a:void 0,o:void 0}),G(()=>V.value=a()),G(()=>$e.value=_()),N})()}we(["click","input"]);var qi=Z("<div class=section><h4>");function Ji(e){return(()=>{var t=qi(),n=t.firstChild;return z(n,()=>e.section.name),z(t,()=>e.children,null),t})()}var Qi=Z("<span class=history-index>"),Xi=Z("<div><div class=bed-content><h6></h6><p></p><p>"),Zi=Z("<span> ");function eo(e){let t;const{bedCommunication:n,setBedCommunication:r,setShowGardenMap:o,showGardenMap:a}=ge(fe),[c,h]=L([]),[g,_]=L(0),[y,v]=L(!1),b=()=>{_(g()+1),g()>c().length-1&&_(0),t=setTimeout(()=>b(),2e3)};de(Xe(()=>a(),async()=>{t&&clearTimeout(t),h(await wi(e.bed.id)),t=setTimeout(()=>b(),2e3)}));const E=()=>{n.return===!0&&(r("return",e.bed),o(!1))};return de(()=>{n.highlight===e.bed.id?v(!0):v(!1)}),(()=>{var D=Xi(),k=D.firstChild,T=k.firstChild,N=T.nextSibling,A=N.nextSibling;return D.$$click=()=>E(),z(T,()=>e.bed.name),z(N,()=>c()[g()]?.date),z(k,U(mn,{get when(){return c().length>0},get fallback(){return Zi()},get children(){var M=Qi();return z(M,()=>g()+1),M}}),A),z(A,()=>c()[g()]?.culture),G(M=>{var R=y()?"bed highlight":"bed",m=e.bed.id;return R!==M.e&&ni(D,M.e=R),m!==M.t&&he(D,"id",M.t=m),M},{e:void 0,t:void 0}),D})()}we(["click"]);const ht={canvas:null,context:null,width:null,height:null},on=()=>ht;function to(e,t,n){ht.canvas=e,ht.context=e.getContext("2d"),e.width=t,e.height=n,ht.width=t,ht.height=n}class B{constructor(t,n){this.x=t,this.y=n}static random2D(){const t=new B(Math.random()*200-100,Math.random()*200-100);return t.normalize(),t}static add(t,n){const r=new B(t.x,t.y);return r.add(n),r}static sub(t,n){const r=new B(t.x,t.y);return r.sub(n),r}static mult(t,n){const r=new B(t.x,t.y);return r.mult(n),r}static div(t,n){let r=new B(t.x,t.y);return r.div(n),r}static normalize(t){let n=new B(t.x,t.y);return n.normalize(),n}set(t,n){this.x=t,this.y=n}clone(){return new B(this.x,this.y)}add(t){this.x+=t.x,this.y+=t.y}sub(t){this.x-=t.x,this.y-=t.y}mult(t){this.x*=t,this.y*=t}div(t){this.x/=t,this.y/=t}dist(t){let n=t.clone();return n.sub(this),n.mag()}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}setMag(t){this.normalize(),this.mult(t)}limit(t){this.mag()>t&&this.setMag(t)}normalize(){let t=this.mag();t!==0&&this.mult(1/t)}setHeading(t){let n=this.mag();this.x=Math.sin(t)*n,this.y=Math.cos(t)*n}heading(){return Math.atan2(this.x,this.y)}rotate(t){let n=this.heading()+t;this.setHeading(n)}dot(t){let n=t.x,r=t.y;return t.z,this.x*(n||0)+this.y*(r||0)}}function tr(e,t=0){return t===0?Math.random()*e:e+Math.random()*t}function no(e,t,n){return(e-t)/(n-t)}function ro(e,t,n){return(n-t)*e+t}function io(e,t,n,r,o){let a=no(e,t,n);return ro(a,r,o)}class oo{constructor(t,n,r){this.pos=new B(t,n),this.r=Math.sqrt(r)*4,this.mass=r,this.vel=B.random2D(),this.vel.setMag(Math.random()*.01+.01),this.acc=new B(0,0)}edges(){this.pos.y>=this.height-this.r&&(this.pos.y=this.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.x*=-1),this.pos.x>=this.width-this.r&&(this.pos.x=this.width-this.r,this.vel.x*=-1),this.pos.y<=0+this.r&&(this.pos.y=0+this.r,this.vel.y*=-1)}contact(){return this.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=B.normalize(this.vel);t.mult(-1);let n=.01,r=this.mass;t.setMag(n*r),this.applyForce(t)}}drag(){let t=B.normalize(this.vel);t.mult(-1);let n=2,r=this.vel.mag();t.setMag(n*r*r),this.applyForce(t)}detract(t){let n=B.sub(this.pos,t.pos);if(n.mag()>40)return;n.mult(-1);let r=n.mag(),o=r*r,c=.7*(this.mass*t.mass)/o;n.setMag(c),t.applyForce(n)}attract(t){let n=B.sub(this.pos,t.pos),r=n.mag(),o=r*r,c=.1*(this.mass*t.mass)/o;n.setMag(c),t.applyForce(n)}applyForce(t){let n=B.div(t,this.mass);this.acc.add(n),this.dir=this.vel.heading()}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}draw(){this.context.translate(this.pos.x,this.pos.y);let t=new B(-this.r,-this.r),n=new B(this.r,-this.r),r=new B(0,this.r*2),o=this.vel.heading();t.rotate(o),n.rotate(o),r.rotate(o),context.beginPath(),context.moveTo(t.x,t.y),context.lineTo(n.x,n.y),context.lineTo(r.x,r.y),context.lineTo(t.x,t.y),this.contact()?context.fillStyle="#f005":context.fillStyle="#000",context.fill(),context.closePath(),context.translate(-this.pos.x,-this.pos.y)}}function so(e,t,n){let r=B.sub(t,e),o=B.sub(n,e);o.normalize();let a=r.dot(o);return o.mult(a),o.add(e),o}class ao extends oo{constructor(t,n){super(t,n,4),this.vel=B.random2D(),this.acc=new B(0,0),this.vel.setMag(4),this.size=16,this.maxSpeed=2,this.maxForce=.55,this.points=[],this.color="yellow",this.wanderTheta=0,this.wanderPoint=new B(0,0),this.path=[],this.count=0,this.showPath=!1}follow(t){let n=this.vel.clone();n.mult(20);let r=so(t.start,n,t.end);return n.dist(r)>t.r?this.seek(r):new B(0,0)}getShape(){return[new B(-this.size,-this.size),new B(this.size,-this.size),new B(-0,this.size)]}wander(){this.wanderPoint=this.vel.clone(),this.wanderPoint.setMag(100),this.wanderPoint.add(this.pos);let t=50,n=this.wanderTheta+this.vel.heading(),r=t*Math.cos(n),o=t*Math.sin(n);this.wanderPoint.add(new B(r,o));let a=B.sub(this.wanderPoint,this.pos);a.setMag(this.maxForce),this.applyForce(a);let c=.3;this.wanderTheta+=tr(-c,c)}flee(t){let n=this.seek(t);return n.mult(-1),n}seek(t){let n=B.sub(t,this.pos);return n.setMag(this.maxSpeed),n.sub(this.vel),n.limit(this.maxForce),n}arrive(t){let n=100,r=B.sub(t,this.pos),o=r.mag();if(o<n){let a=io(o,0,n,0,this.maxSpeed);r.setMag(a)}else r.setMag(this.maxSpeed);return r.sub(this.vel),r.limit(this.maxForce),r}pursue(t){let n=t.pos.clone(),r=t.vel.clone();return r.mult(10),n.add(r),this.seek(n)}evade(t){let n=this.pursue(vehilce);return n.mult(-1),n}update(){this.count++,this.vel.add(this.acc),this.vel.limit(this.maxSpeed),this.acc.set(0,0),this.pos.add(this.vel);let t=this.vel.heading(),n=this.getShape();this.points=n.map(r=>(r.rotate(t),r)),this.showPath&&(this.count>3&&(this.path.push({x:this.pos.x,y:this.pos.y}),this.count=0),this.path.length>30&&this.path.shift())}draw(){this.context.beginPath(),this.context.fillStyle=this.color,this.context.moveTo(this.pos.x+this.points[0].x,this.pos.y+this.points[0].y),this.context.lineTo(this.pos.x+this.points[1].x,this.pos.y+this.points[1].y),this.context.lineTo(this.pos.x+this.points[2].x,this.pos.y+this.points[2].y),this.context.closePath(),this.context.fill(),point(this.wanderPoint.x,this.wanderPoint.y,5,"yellow"),this.showPath&&this.path.length>3&&this.drawPath()}drawPath(){this.context.beginPath(),this.context.moveTo(this.path[0].x,this.path[0].y),this.context.strokeStyle="white",this.context.lineWidth=2;for(let t=1;t<this.path.length-2;t+=2){let n=this.path[t],r=this.path[t+1];this.context.lineTo(n.x,n.y),this.context.lineTo(r.x,r.y)}this.context.stroke()}}class jt extends ao{constructor(){super(),this.context=on().context,this.width=on().width,this.height=on().height,this.center=new B(this.width/2,this.height/2),this.target=null,this.wait=0,this.gardenMap=document.getElementById("garden-map"),this.run=!1}clear(){this.context.reset()}animate(){if(this.clear(),this.wait>0)this.wait-=1;else{if(!this.target){let n=bi(),r=n[Math.floor(tr(0,n.length-1))];console.log(r);let o=document.getElementById("canvas-div"),a=document.getElementById(r.id),c=new B(a.offsetLeft+50,a.offsetTop-o.offsetTop+a.clientHeight/2);this.target=c}let t=this.seek(this.target);this.applyForce(t),Math.abs(this.target.x-this.pos.x)<2&&Math.abs(this.target.y-this.pos.y)<2&&(this.target=null,this.vel.x=0,this.vel.y=0,this.wait=300),this.gardenMap.scrollTo(this.pos.x,this.pos.y)}this.update(),this.draw(),this.edges(),requestAnimationFrame(()=>this.animate())}beginDraw(){this.context.beginPath(),this.context.shadowColor="black",this.context.shadowBlur=6,this.context.shadowOffsetX=6,this.context.shadowOffsetY=6}}class lo extends jt{constructor(){super(),this.hat=new co,this.shoulderLeft=new nr,this.shoulderRight=new uo,this.footRight=new fo,this.footLeft=new rr,this.pos=new B(this.center.x,this.center.y),this.vel=B.random2D(),this.vel.mult(2)}update(){super.update(),!(this.wait>0)&&(this.footLeft.advanceFoot(this.vel),this.footRight.advanceFoot(this.vel),this.shoulderLeft.advanceArm(),this.shoulderRight.advanceArm())}draw(){this.context.translate(this.pos.x,this.pos.y),this.context.rotate(Math.PI-this.vel.heading()),this.shoulderLeft.draw(),this.shoulderRight.draw(),this.footRight.draw(),this.footLeft.draw(),this.hat.draw(),this.context.resetTransform()}}class co extends jt{constructor(){super()}draw(t=0,n=0){this.context.beginPath(),this.context.fillStyle="rgb(203, 179, 26)",this.context.ellipse(t,n,22,25,0,0,2*Math.PI),this.context.fill(),this.context.beginPath(),this.context.fillStyle="rgb(143, 124, 2)",this.context.ellipse(t,n,12,15,0,0,2*Math.PI),this.context.fill()}}class nr extends jt{constructor(){super(),this.pos=new B(-22,0),this.armPos=new B(-28,-14),this.armLength=0,this.armDir=1,this.armAngle=0}advanceArm(){this.armAngle+=.2,this.armAngle>=2*Math.PI&&(this.armAngle=0),this.armLength=this.armDir*Math.sin(this.armAngle)*8}draw(){this.drawArm(),this.beginDraw(),this.context.fillStyle="blue",this.context.ellipse(this.pos.x,this.pos.y,12,8,0,0,2*Math.PI),this.context.fill()}drawArm(){this.beginDraw(),this.context.fillStyle="rgb(249, 171, 171)",this.context.ellipse(this.armPos.x,this.armPos.y,4,10+this.armLength,0,0,2*Math.PI),this.context.fill()}}class uo extends nr{constructor(){super(),this.pos=new B(22,0),this.armPos=new B(28,-14),this.armDir=-1}}class rr extends jt{constructor(){super(),this.pos=new B(-11,-20),this.movingAngle=0,this.footOffset=0,this.footDir=1}advanceFoot(t){this.movingAngle+=.2,this.movingAngle>=2*Math.PI&&(this.movingAngle=0),t.mag(),this.footOffset=this.footDir*Math.sin(this.movingAngle)*5}draw(){this.beginDraw(),this.context.fillStyle="black",this.context.ellipse(this.pos.x,this.pos.y+this.footOffset,6,12,0,0,2*Math.PI),this.context.fill()}}class fo extends rr{constructor(){super(),this.pos=new B(11,-20),this.footOffset=0,this.footDir=-1}}var ho=Z('<dialog><article id=garden-map><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><span><strong>Garden Map</strong></span></header><div id=pile><div id=map></div><div id=canvas-div><canvas id=garden-canvas>');function go(){let e,t;const{showGardenMap:n,setShowGardenMap:r,showGardenMapEditor:o,setShowGardenMapEditor:a,bedCommunication:c,setBedCommunication:h}=ge(fe);return L(!1),Ne(()=>{vi(),Kn()}),de(Xe(()=>n(),()=>{if(n()===!1)return;to(e,t.clientWidth,t.clientHeight);let g=new lo;g.run=!0,g.animate()})),U(mn,{get when(){return n()},get children(){var g=ho(),_=g.firstChild,y=_.firstChild,v=y.firstChild,b=v.nextSibling,E=b.nextSibling,D=y.nextSibling,k=D.firstChild,T=k.nextSibling,N=T.firstChild;z(g,U(Ki,{}),_),_.style.setProperty("min-height","100vh"),_.style.setProperty("min-width","100vw"),_.style.setProperty("background-color","rgb(239, 215, 178)"),v.$$click=()=>r(!1),b.$$click=()=>a(!o()),E.style.setProperty("font-size","1.5rem");var A=t;typeof A=="function"?se(A,k):t=k,z(k,U(Ye,{get each(){return Se().sections},children:(R,m)=>U(Ji,{section:R,get children(){return U(Ye,{get each(){return Se().sections[m()].beds},children:I=>U(eo,{bed:I})})}})})),T.$$click=R=>{console.log("click!!!"),R.preventDefault()},T.style.setProperty("pointer-events","none"),N.$$click=R=>{console.log("canvas click"),R.preventDefault()};var M=e;return typeof M=="function"?se(M,N):e=N,G(()=>he(g,"open",n())),g}})}we(["click"]);var vo=Z("<div>");function po(){const{showEditor:e,setShowEditor:t,openToEdit:n,setOpenToEdit:r,deleteHot:o,setDeleteHot:a,showReport:c,filteredDiary:h}=ge(fe);Ne(async()=>{pi(),ui()});const g=async y=>{console.log("setting new entry"),vt([y,...De().filter(v=>v.id!==y.id)]),console.log(De()),Ot()},_=async y=>{if(o()===!1){a(y),setTimeout(()=>a(!1),2e3);return}o()===y?(vt(De().filter(v=>v.id!==y)),Ot()):a(y)};return de(Xe(()=>n(),()=>{n()!==null&&t(!0)})),de(Xe(()=>e(),()=>{e()===!1&&r(null)})),(()=>{var y=vo();return z(y,U(Pi,{}),null),z(y,U(Oi,{saveNewEntry:g}),null),z(y,U(go,{}),null),z(y,U(Zr,{get children(){return[U(Dn,{get when(){return!c()},get children(){return U(Ye,{get each(){return h()},children:v=>U(Di,{entry:v,deleteEntry:_})})}}),U(Dn,{get when(){return c()},get children(){return U(ji,{})}})]}}),null),y})()}var yo=Z('<nav><ul><li><h2><i class="fa-solid fa-person-digging"></i></h2></li></ul><ul><li><h6>Work Diary</h6></li></ul><ul><li><button class="icon-button outline no-outline"><i class="fa-solid fa-filter"></i></button></li><li><button class="icon-button outline no-outline"><i class="fa-solid fa-location-dot"></i></button></li><li><button class="icon-button outline no-outline"><i class="fa-solid fa-bars">');function mo(){const{showMenu:e,setShowMenu:t,showFilter:n,setShowFilter:r,setShowGardenMap:o}=ge(fe);return(()=>{var a=yo(),c=a.firstChild,h=c.nextSibling,g=h.nextSibling,_=g.firstChild,y=_.firstChild,v=_.nextSibling,b=v.firstChild,E=v.nextSibling,D=E.firstChild;return y.$$click=()=>r(!n()),b.$$click=()=>{o(!0)},D.$$click=()=>t(!e()),a})()}we(["click"]);var bo=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-location-dot"></i></button></header><button>generate Report</button><hr><h6>export Data</h6><p>exports current data to your device<br>this can serve as an update</p><button>export Diary</button><hr><h6>import diary data</h6><p><mark>Caution!</mark> Existing data will be overwritten.</p><input type=file><button>import Diary');let sn,an;function wo(e){const{showMenu:t,setShowMenu:n,showReport:r,setShowReport:o,showGardenMap:a,setShowGardenMap:c}=ge(fe),h=g=>{t()&&(sn.contains(g.target)||n(!1))};return Ne(()=>{document.addEventListener("click",h,!0)}),Ut(()=>{document.removeEventListener("click",h,!0)}),(()=>{var g=bo(),_=g.firstChild,y=_.firstChild,v=y.firstChild,b=v.nextSibling,E=y.nextSibling,D=E.nextSibling,k=D.nextSibling,T=k.nextSibling,N=T.nextSibling,A=N.nextSibling,M=A.nextSibling,R=M.nextSibling,m=R.nextSibling,I=m.nextSibling,P=sn;typeof P=="function"?se(P,_):sn=_,v.$$click=()=>n(!1),b.$$click=()=>{c(!0),n(!1)},E.$$click=()=>{o(!0),n(!1)},N.$$click=()=>{yi(),n(!1)};var O=an;return typeof O=="function"?se(O,m):an=m,I.$$click=()=>{mi(an.files[0]),n(!1)},I.style.setProperty("background-color","var(--pico-del-color)"),G(()=>he(g,"open",t())),g})()}we(["click"]);var _o=Z("<div id=toast><h3></h3><p>");function xo(){const{toastMessage:e,setToastMessage:t}=ge(fe);return de(()=>{e().show&&setTimeout(()=>t(n=>({title:n.title,message:n.message,show:!1})),3e3)}),(()=>{var n=_o(),r=n.firstChild,o=r.nextSibling;return z(r,()=>e().title),z(o,()=>e().message),G(()=>he(n,"open",e().show)),n})()}var $o=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-caret-left"></i></button><button class="icon-button outline"><i class="fa-solid fa-filter-circle-xmark"></i></button></header><label>starting from:<input type=date></label><label>ending at:<input type=date></label><button>this year</button><button>this month</button><button>last month</button><fieldset><legend>done/pending</legend><label><input type=radio name=done-pending>done</label><label><input type=radio name=done-pending>pending</label><label><input type=radio name=done-pending>both</label></fieldset><fieldset><legend>Kategorie'),So=Z("<label><input type=radio>");function Eo(){const{showFilter:e,setShowFilter:t,setFilter:n,resetFilter:r,filter:o,categorys:a}=ge(fe);let c,h,g;const _=E=>{e()&&(c.contains(E.target)||t(!1))};Ne(()=>{document.addEventListener("click",_,!0)}),Ut(()=>{document.removeEventListener("click",_,!0)});const y=()=>{n({...o(),dateBegin:Ce(`${Be()}-01-01`)}),n({...o(),dateEnd:Ce(`${Be()}-12-31`)})},v=()=>{n({...o(),dateBegin:Ce(`${Be()}-${Je()}-1`)}),n({...o(),dateEnd:Ce(`${Be()}-${Je()}-${Nn(Be(),Je())}`)})},b=()=>{n({...o(),dateBegin:Ce(`${Be()}-${Number(Je())-1}-1`)}),n({...o(),dateEnd:Ce(`${Be()}-${Number(Je())-1}-${Nn(Be(),Number(Je())-1)}`)})};return(()=>{var E=$o(),D=E.firstChild,k=D.firstChild,T=k.firstChild,N=T.nextSibling,A=k.nextSibling,M=A.firstChild,R=M.nextSibling,m=A.nextSibling,I=m.firstChild,P=I.nextSibling,O=m.nextSibling,H=O.nextSibling,V=H.nextSibling,ee=V.nextSibling,te=ee.firstChild,J=te.nextSibling,ue=J.firstChild,_e=J.nextSibling,ae=_e.firstChild,ve=_e.nextSibling,xe=ve.firstChild,Ie=ee.nextSibling;Ie.firstChild;var $e=c;typeof $e=="function"?se($e,D):c=D,T.$$click=()=>t(!1),N.$$click=()=>r(),R.addEventListener("change",()=>n({...o(),dateBegin:Ce(h.value)}));var re=h;typeof re=="function"?se(re,R):h=R,P.addEventListener("change",()=>n({...o(),dateEnd:Ce(g.value)}));var Ee=g;return typeof Ee=="function"?se(Ee,P):g=P,O.$$click=()=>y(),H.$$click=()=>v(),V.$$click=()=>b(),ue.addEventListener("change",()=>n({...o(),done:"done"})),ae.addEventListener("change",()=>n({...o(),done:"pending"})),xe.addEventListener("change",()=>n({...o(),done:"both"})),z(Ie,U(Ye,{get each(){return[...a,"All"]},children:W=>(()=>{var ie=So(),K=ie.firstChild;return K.addEventListener("change",()=>n({...o(),category:W})),he(K,"name",W),z(ie,W,null),G(()=>K.checked=W===o().category),ie})()}),null),G(()=>he(E,"open",e())),G(()=>R.value=o().dateBegin?Mt(o().dateBegin):null),G(()=>P.value=Mt(o().dateEnd)),G(()=>ue.checked=o().done==="done"),G(()=>ae.checked=o().done==="pending"),G(()=>xe.checked=o().done==="both"),E})()}we(["click"]);var Ao=Z("<div class=card><dialog><h4>Like to get Notified?</h4><button>activate notifications");function Co(){ge(fe);const[e,t]=L(!1);return Ne(async()=>{ai(),await li()||t(!0)}),[U(mo,{}),U(wo,{}),U(Eo,{}),U(xo,{}),(()=>{var n=Ao(),r=n.firstChild,o=r.firstChild,a=o.nextSibling;return a.$$click=()=>{ci(),t(!1)},G(()=>r.open=e()),n})(),U(po,{})]}we(["click"]);const Do=document.getElementById("root");ti(()=>U(Ai,{get children(){return U(Co,{})}}),Do);
