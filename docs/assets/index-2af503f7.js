(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();const rr=(e,r)=>e===r,ir=Symbol("solid-track"),Ke={equals:rr};let en=an;const Ie=1,Qe=2,tn={owned:null,cleanups:null,context:null,owner:null};var U=null;let gt=null,or=null,K=null,q=null,ye=null,rt=0;function Xe(e,r){const n=K,a=U,o=e.length===0,u=r===void 0?a:r,h=o?tn:{owned:null,cleanups:null,context:u?u.context:null,owner:u},d=o?e:()=>e(()=>ie(()=>ot(h)));U=h,K=null;try{return Ye(d,!0)}finally{K=n,U=a}}function j(e,r){r=r?Object.assign({},Ke,r):Ke;const n={value:e,observers:null,observerSlots:null,comparator:r.equals||void 0},a=o=>(typeof o=="function"&&(o=o(n.value)),on(n,o));return[rn.bind(n),a]}function Y(e,r,n){const a=Et(e,r,!1,Ie);Ue(a)}function be(e,r,n){en=cr;const a=Et(e,r,!1,Ie);(!n||!n.render)&&(a.user=!0),ye?ye.push(a):Ue(a)}function Le(e,r,n){n=n?Object.assign({},Ke,n):Ke;const a=Et(e,r,!0,0);return a.observers=null,a.observerSlots=null,a.comparator=n.equals||void 0,Ue(a),rn.bind(a)}function ie(e){if(K===null)return e();const r=K;K=null;try{return e()}finally{K=r}}function Je(e,r,n){const a=Array.isArray(e);let o,u=n&&n.defer;return h=>{let d;if(a){d=Array(e.length);for(let x=0;x<e.length;x++)d[x]=e[x]()}else d=e();if(u)return u=!1,h;const S=ie(()=>r(d,o,h));return o=d,S}}function we(e){be(()=>ie(e))}function it(e){return U===null||(U.cleanups===null?U.cleanups=[e]:U.cleanups.push(e)),e}function ar(e,r){const n=Symbol("context");return{id:n,Provider:fr(n),defaultValue:e}}function le(e){return U&&U.context&&U.context[e.id]!==void 0?U.context[e.id]:e.defaultValue}function nn(e){const r=Le(e),n=Le(()=>bt(r()));return n.toArray=()=>{const a=n();return Array.isArray(a)?a:a!=null?[a]:[]},n}function rn(){if(this.sources&&this.state)if(this.state===Ie)Ue(this);else{const e=q;q=null,Ye(()=>Ze(this),!1),q=e}if(K){const e=this.observers?this.observers.length:0;K.sources?(K.sources.push(this),K.sourceSlots.push(e)):(K.sources=[this],K.sourceSlots=[e]),this.observers?(this.observers.push(K),this.observerSlots.push(K.sources.length-1)):(this.observers=[K],this.observerSlots=[K.sources.length-1])}return this.value}function on(e,r,n){let a=e.value;return(!e.comparator||!e.comparator(a,r))&&(e.value=r,e.observers&&e.observers.length&&Ye(()=>{for(let o=0;o<e.observers.length;o+=1){const u=e.observers[o],h=gt&&gt.running;h&&gt.disposed.has(u),(h?!u.tState:!u.state)&&(u.pure?q.push(u):ye.push(u),u.observers&&sn(u)),h||(u.state=Ie)}if(q.length>1e6)throw q=[],new Error},!1)),r}function Ue(e){if(!e.fn)return;ot(e);const r=rt;sr(e,e.value,r)}function sr(e,r,n){let a;const o=U,u=K;K=U=e;try{a=e.fn(r)}catch(h){return e.pure&&(e.state=Ie,e.owned&&e.owned.forEach(ot),e.owned=null),e.updatedAt=n+1,ln(h)}finally{K=u,U=o}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?on(e,a):e.value=a,e.updatedAt=n)}function Et(e,r,n,a=Ie,o){const u={fn:e,state:a,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:U,context:U?U.context:null,pure:n};return U===null||U!==tn&&(U.owned?U.owned.push(u):U.owned=[u]),u}function qe(e){if(e.state===0)return;if(e.state===Qe)return Ze(e);if(e.suspense&&ie(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<rt);)e.state&&r.push(e);for(let n=r.length-1;n>=0;n--)if(e=r[n],e.state===Ie)Ue(e);else if(e.state===Qe){const a=q;q=null,Ye(()=>Ze(e,r[0]),!1),q=a}}function Ye(e,r){if(q)return e();let n=!1;r||(q=[]),ye?n=!0:ye=[],rt++;try{const a=e();return lr(n),a}catch(a){n||(ye=null),q=null,ln(a)}}function lr(e){if(q&&(an(q),q=null),e)return;const r=ye;ye=null,r.length&&Ye(()=>en(r),!1)}function an(e){for(let r=0;r<e.length;r++)qe(e[r])}function cr(e){let r,n=0;for(r=0;r<e.length;r++){const a=e[r];a.user?e[n++]=a:qe(a)}for(r=0;r<n;r++)qe(e[r])}function Ze(e,r){e.state=0;for(let n=0;n<e.sources.length;n+=1){const a=e.sources[n];if(a.sources){const o=a.state;o===Ie?a!==r&&(!a.updatedAt||a.updatedAt<rt)&&qe(a):o===Qe&&Ze(a,r)}}}function sn(e){for(let r=0;r<e.observers.length;r+=1){const n=e.observers[r];n.state||(n.state=Qe,n.pure?q.push(n):ye.push(n),n.observers&&sn(n))}}function ot(e){let r;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),a=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const u=o.pop(),h=n.observerSlots.pop();a<o.length&&(u.sourceSlots[h]=a,o[a]=u,n.observerSlots[a]=h)}}if(e.owned){for(r=e.owned.length-1;r>=0;r--)ot(e.owned[r]);e.owned=null}if(e.cleanups){for(r=e.cleanups.length-1;r>=0;r--)e.cleanups[r]();e.cleanups=null}e.state=0}function ur(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ln(e,r=U){throw ur(e)}function bt(e){if(typeof e=="function"&&!e.length)return bt(e());if(Array.isArray(e)){const r=[];for(let n=0;n<e.length;n++){const a=bt(e[n]);Array.isArray(a)?r.push.apply(r,a):r.push(a)}return r}return e}function fr(e,r){return function(a){let o;return Y(()=>o=ie(()=>(U.context={...U.context,[e]:a.value},nn(()=>a.children))),void 0),o}}const dr=Symbol("fallback");function Vt(e){for(let r=0;r<e.length;r++)e[r]()}function hr(e,r,n={}){let a=[],o=[],u=[],h=0,d=r.length>1?[]:null;return it(()=>Vt(u)),()=>{let S=e()||[],x,g;return S[ir],ie(()=>{let $=S.length,A,R,k,I,O,T,F,W,w;if($===0)h!==0&&(Vt(u),u=[],a=[],o=[],h=0,d&&(d=[])),n.fallback&&(a=[dr],o[0]=Xe(D=>(u[0]=D,n.fallback())),h=1);else if(h===0){for(o=new Array($),g=0;g<$;g++)a[g]=S[g],o[g]=Xe(p);h=$}else{for(k=new Array($),I=new Array($),d&&(O=new Array($)),T=0,F=Math.min(h,$);T<F&&a[T]===S[T];T++);for(F=h-1,W=$-1;F>=T&&W>=T&&a[F]===S[W];F--,W--)k[W]=o[F],I[W]=u[F],d&&(O[W]=d[F]);for(A=new Map,R=new Array(W+1),g=W;g>=T;g--)w=S[g],x=A.get(w),R[g]=x===void 0?-1:x,A.set(w,g);for(x=T;x<=F;x++)w=a[x],g=A.get(w),g!==void 0&&g!==-1?(k[g]=o[x],I[g]=u[x],d&&(O[g]=d[x]),g=R[g],A.set(w,g)):u[x]();for(g=T;g<$;g++)g in k?(o[g]=k[g],u[g]=I[g],d&&(d[g]=O[g],d[g](g))):o[g]=Xe(p);o=o.slice(0,h=$),a=S.slice(0)}return o});function p($){if(u[g]=$,d){const[A,R]=j(g);return d[g]=R,r(S[g],A)}return r(S[g])}}}function V(e,r){return ie(()=>e(r||{}))}const cn=e=>`Stale read from <${e}>.`;function At(e){const r="fallback"in e&&{fallback:()=>e.fallback};return Le(hr(()=>e.each,e.children,r||void 0))}function vr(e){const r=e.keyed,n=Le(()=>e.when,void 0,{equals:(a,o)=>r?a===o:!a==!o});return Le(()=>{const a=n();if(a){const o=e.children;return typeof o=="function"&&o.length>0?ie(()=>o(r?a:()=>{if(!ie(n))throw cn("Show");return e.when})):o}return e.fallback},void 0,void 0)}function gr(e){let r=!1;const n=(u,h)=>(r?u[1]===h[1]:!u[1]==!h[1])&&u[2]===h[2],a=nn(()=>e.children),o=Le(()=>{let u=a();Array.isArray(u)||(u=[u]);for(let h=0;h<u.length;h++){const d=u[h].when;if(d)return r=!!u[h].keyed,[h,d,u[h]]}return[-1]},void 0,{equals:n});return Le(()=>{const[u,h,d]=o();if(u<0)return e.fallback;const S=d.children;return typeof S=="function"&&S.length>0?ie(()=>S(r?h:()=>{if(ie(o)[0]!==u)throw cn("Match");return d.when})):S},void 0,void 0)}function Xt(e){return e}function pr(e,r,n){let a=n.length,o=r.length,u=a,h=0,d=0,S=r[o-1].nextSibling,x=null;for(;h<o||d<u;){if(r[h]===n[d]){h++,d++;continue}for(;r[o-1]===n[u-1];)o--,u--;if(o===h){const g=u<a?d?n[d-1].nextSibling:n[u-d]:S;for(;d<u;)e.insertBefore(n[d++],g)}else if(u===d)for(;h<o;)(!x||!x.has(r[h]))&&r[h].remove(),h++;else if(r[h]===n[u-1]&&n[d]===r[o-1]){const g=r[--o].nextSibling;e.insertBefore(n[d++],r[h++].nextSibling),e.insertBefore(n[--u],g),r[o]=n[u]}else{if(!x){x=new Map;let p=d;for(;p<u;)x.set(n[p],p++)}const g=x.get(r[h]);if(g!=null)if(d<g&&g<u){let p=h,$=1,A;for(;++p<o&&p<u&&!((A=x.get(r[p]))==null||A!==g+$);)$++;if($>g-d){const R=r[h];for(;d<g;)e.insertBefore(n[d++],R)}else e.replaceChild(n[d++],r[h++])}else h++;else r[h++].remove()}}}const Kt="_$DX_DELEGATE";function yr(e,r,n,a={}){let o;return Xe(u=>{o=u,r===document?e():J(r,e(),r.firstChild?null:void 0,n)},a.owner),()=>{o(),r.textContent=""}}function ne(e,r,n){let a;const o=()=>{const h=document.createElement("template");return h.innerHTML=e,n?h.content.firstChild.firstChild:h.content.firstChild},u=r?()=>ie(()=>document.importNode(a||(a=o()),!0)):()=>(a||(a=o())).cloneNode(!0);return u.cloneNode=u,u}function _e(e,r=window.document){const n=r[Kt]||(r[Kt]=new Set);for(let a=0,o=e.length;a<o;a++){const u=e[a];n.has(u)||(n.add(u),r.addEventListener(u,mr))}}function De(e,r,n){n==null?e.removeAttribute(r):e.setAttribute(r,n)}function de(e,r,n){return ie(()=>e(r,n))}function J(e,r,n,a){if(n!==void 0&&!a&&(a=[]),typeof r!="function")return et(e,r,a,n);Y(o=>et(e,r(),o,n),a)}function mr(e){const r=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const a=n[r];if(a&&!n.disabled){const o=n[`${r}Data`];if(o!==void 0?a.call(n,o,e):a.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function et(e,r,n,a,o){for(;typeof n=="function";)n=n();if(r===n)return n;const u=typeof r,h=a!==void 0;if(e=h&&n[0]&&n[0].parentNode||e,u==="string"||u==="number")if(u==="number"&&(r=r.toString()),h){let d=n[0];d&&d.nodeType===3?d.data!==r&&(d.data=r):d=document.createTextNode(r),n=Be(e,n,a,d)}else n!==""&&typeof n=="string"?n=e.firstChild.data=r:n=e.textContent=r;else if(r==null||u==="boolean")n=Be(e,n,a);else{if(u==="function")return Y(()=>{let d=r();for(;typeof d=="function";)d=d();n=et(e,d,n,a)}),()=>n;if(Array.isArray(r)){const d=[],S=n&&Array.isArray(n);if(wt(d,r,n,o))return Y(()=>n=et(e,d,n,a,!0)),()=>n;if(d.length===0){if(n=Be(e,n,a),h)return n}else S?n.length===0?Qt(e,d,a):pr(e,n,d):(n&&Be(e),Qt(e,d));n=d}else if(r.nodeType){if(Array.isArray(n)){if(h)return n=Be(e,n,a,r);Be(e,n,null,r)}else n==null||n===""||!e.firstChild?e.appendChild(r):e.replaceChild(r,e.firstChild);n=r}}return n}function wt(e,r,n,a){let o=!1;for(let u=0,h=r.length;u<h;u++){let d=r[u],S=n&&n[e.length],x;if(!(d==null||d===!0||d===!1))if((x=typeof d)=="object"&&d.nodeType)e.push(d);else if(Array.isArray(d))o=wt(e,d,S)||o;else if(x==="function")if(a){for(;typeof d=="function";)d=d();o=wt(e,Array.isArray(d)?d:[d],Array.isArray(S)?S:[S])||o}else e.push(d),o=!0;else{const g=String(d);S&&S.nodeType===3&&S.data===g?e.push(S):e.push(document.createTextNode(g))}}return o}function Qt(e,r,n=null){for(let a=0,o=r.length;a<o;a++)e.insertBefore(r[a],n)}function Be(e,r,n,a){if(n===void 0)return e.textContent="";const o=a||document.createTextNode("");if(r.length){let u=!1;for(let h=r.length-1;h>=0;h--){const d=r[h];if(o!==d){const S=d.parentNode===e;!u&&!h?S?e.replaceChild(o,d):e.insertBefore(o,n):S&&d.remove()}else u=!0}}else e.insertBefore(o,n);return[o]}var br=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},_t;typeof window<"u"&&(typeof Promise<"u"?_t=new Promise(function(e){return window.addEventListener("load",e)}):_t={then:function(e){return window.addEventListener("load",e)}});function wr(e,r){r===void 0&&(r={});var n=r.registrationOptions;n===void 0&&(n={}),delete r.registrationOptions;var a=function(o){for(var u=[],h=arguments.length-1;h-- >0;)u[h]=arguments[h+1];r&&r[o]&&r[o].apply(r,u)};"serviceWorker"in navigator&&_t.then(function(){br()?(_r(e,a,n),navigator.serviceWorker.ready.then(function(o){a("ready",o)}).catch(function(o){return Me(a,o)})):(un(e,a,n),navigator.serviceWorker.ready.then(function(o){a("ready",o)}).catch(function(o){return Me(a,o)}))})}function Me(e,r){navigator.onLine||e("offline"),e("error",r)}function un(e,r,n){navigator.serviceWorker.register(e,n).then(function(a){if(r("registered",a),a.waiting){r("updated",a);return}a.onupdatefound=function(){r("updatefound",a);var o=a.installing;o.onstatechange=function(){o.state==="installed"&&(navigator.serviceWorker.controller?r("updated",a):r("cached",a))}}}).catch(function(a){return Me(r,a)})}function _r(e,r,n){fetch(e).then(function(a){a.status===404?(r("error",new Error("Service worker not found at "+e)),Jt()):a.headers.get("content-type").indexOf("javascript")===-1?(r("error",new Error("Expected "+e+" to have javascript content-type, but received "+a.headers.get("content-type"))),Jt()):un(e,r,n)}).catch(function(a){return Me(r,a)})}function Jt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return Me(emit,e)})}function Sr(){wr("/work-diary/serviceworker.js")}const xr=async()=>Notification.permission==="granted",$r=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Er(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ve(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,r){(function(n){e.exports=n()})(function(){return function n(a,o,u){function h(x,g){if(!o[x]){if(!a[x]){var p=typeof Ve=="function"&&Ve;if(!g&&p)return p(x,!0);if(d)return d(x,!0);var $=new Error("Cannot find module '"+x+"'");throw $.code="MODULE_NOT_FOUND",$}var A=o[x]={exports:{}};a[x][0].call(A.exports,function(R){var k=a[x][1][R];return h(k||R)},A,A.exports,n,a,o,u)}return o[x].exports}for(var d=typeof Ve=="function"&&Ve,S=0;S<u.length;S++)h(u[S]);return h}({1:[function(n,a,o){(function(u){var h=u.MutationObserver||u.WebKitMutationObserver,d;if(h){var S=0,x=new h(R),g=u.document.createTextNode("");x.observe(g,{characterData:!0}),d=function(){g.data=S=++S%2}}else if(!u.setImmediate&&typeof u.MessageChannel<"u"){var p=new u.MessageChannel;p.port1.onmessage=R,d=function(){p.port2.postMessage(0)}}else"document"in u&&"onreadystatechange"in u.document.createElement("script")?d=function(){var I=u.document.createElement("script");I.onreadystatechange=function(){R(),I.onreadystatechange=null,I.parentNode.removeChild(I),I=null},u.document.documentElement.appendChild(I)}:d=function(){setTimeout(R,0)};var $,A=[];function R(){$=!0;for(var I,O,T=A.length;T;){for(O=A,A=[],I=-1;++I<T;)O[I]();T=A.length}$=!1}a.exports=k;function k(I){A.push(I)===1&&!$&&d()}}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,a,o){var u=n(1);function h(){}var d={},S=["REJECTED"],x=["FULFILLED"],g=["PENDING"];a.exports=p;function p(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,w!==h&&k(this,w)}p.prototype.catch=function(w){return this.then(null,w)},p.prototype.then=function(w,D){if(typeof w!="function"&&this.state===x||typeof D!="function"&&this.state===S)return this;var C=new this.constructor(h);if(this.state!==g){var L=this.state===x?w:D;A(C,L,this.outcome)}else this.queue.push(new $(C,w,D));return C};function $(w,D,C){this.promise=w,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}$.prototype.callFulfilled=function(w){d.resolve(this.promise,w)},$.prototype.otherCallFulfilled=function(w){A(this.promise,this.onFulfilled,w)},$.prototype.callRejected=function(w){d.reject(this.promise,w)},$.prototype.otherCallRejected=function(w){A(this.promise,this.onRejected,w)};function A(w,D,C){u(function(){var L;try{L=D(C)}catch(H){return d.reject(w,H)}L===w?d.reject(w,new TypeError("Cannot resolve promise with itself")):d.resolve(w,L)})}d.resolve=function(w,D){var C=I(R,D);if(C.status==="error")return d.reject(w,C.value);var L=C.value;if(L)k(w,L);else{w.state=x,w.outcome=D;for(var H=-1,P=w.queue.length;++H<P;)w.queue[H].callFulfilled(D)}return w},d.reject=function(w,D){w.state=S,w.outcome=D;for(var C=-1,L=w.queue.length;++C<L;)w.queue[C].callRejected(D);return w};function R(w){var D=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof D=="function")return function(){D.apply(w,arguments)}}function k(w,D){var C=!1;function L(Q){C||(C=!0,d.reject(w,Q))}function H(Q){C||(C=!0,d.resolve(w,Q))}function P(){D(H,L)}var z=I(P);z.status==="error"&&L(z.value)}function I(w,D){var C={};try{C.value=w(D),C.status="success"}catch(L){C.status="error",C.value=L}return C}p.resolve=O;function O(w){return w instanceof this?w:d.resolve(new this(h),w)}p.reject=T;function T(w){var D=new this(h);return d.reject(D,w)}p.all=F;function F(w){var D=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,L=!1;if(!C)return this.resolve([]);for(var H=new Array(C),P=0,z=-1,Q=new this(h);++z<C;)Z(w[z],z);return Q;function Z(ce,ue){D.resolve(ce).then(he,function(ee){L||(L=!0,d.reject(Q,ee))});function he(ee){H[ue]=ee,++P===C&&!L&&(L=!0,d.resolve(Q,H))}}}p.race=W;function W(w){var D=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,L=!1;if(!C)return this.resolve([]);for(var H=-1,P=new this(h);++H<C;)z(w[H]);return P;function z(Q){D.resolve(Q).then(function(Z){L||(L=!0,d.resolve(P,Z))},function(Z){L||(L=!0,d.reject(P,Z))})}}},{1:1}],3:[function(n,a,o){(function(u){typeof u.Promise!="function"&&(u.Promise=n(2))}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,a,o){var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function h(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var S=d();function x(){try{if(!S||!S.open)return!1;var t=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),s=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!t||s)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function g(t,s){t=t||[],s=s||{};try{return new Blob(t,s)}catch(l){if(l.name!=="TypeError")throw l;for(var i=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,c=new i,f=0;f<t.length;f+=1)c.append(t[f]);return c.getBlob(s.type)}}typeof Promise>"u"&&n(3);var p=Promise;function $(t,s){s&&t.then(function(i){s(null,i)},function(i){s(i)})}function A(t,s,i){typeof s=="function"&&t.then(s),typeof i=="function"&&t.catch(i)}function R(t){return typeof t!="string"&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",O=void 0,T={},F=Object.prototype.toString,W="readonly",w="readwrite";function D(t){for(var s=t.length,i=new ArrayBuffer(s),c=new Uint8Array(i),f=0;f<s;f++)c[f]=t.charCodeAt(f);return i}function C(t){return new p(function(s){var i=t.transaction(I,w),c=g([""]);i.objectStore(I).put(c,"key"),i.onabort=function(f){f.preventDefault(),f.stopPropagation(),s(!1)},i.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),l=navigator.userAgent.match(/Edge\//);s(l||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function L(t){return typeof O=="boolean"?p.resolve(O):C(t).then(function(s){return O=s,O})}function H(t){var s=T[t.name],i={};i.promise=new p(function(c,f){i.resolve=c,i.reject=f}),s.deferredOperations.push(i),s.dbReady?s.dbReady=s.dbReady.then(function(){return i.promise}):s.dbReady=i.promise}function P(t){var s=T[t.name],i=s.deferredOperations.pop();if(i)return i.resolve(),i.promise}function z(t,s){var i=T[t.name],c=i.deferredOperations.pop();if(c)return c.reject(s),c.promise}function Q(t,s){return new p(function(i,c){if(T[t.name]=T[t.name]||se(),t.db)if(s)H(t),t.db.close();else return i(t.db);var f=[t.name];s&&f.push(t.version);var l=S.open.apply(S,f);s&&(l.onupgradeneeded=function(v){var y=l.result;try{y.createObjectStore(t.storeName),v.oldVersion<=1&&y.createObjectStore(I)}catch(m){if(m.name==="ConstraintError")console.warn('The database "'+t.name+'" has been upgraded from version '+v.oldVersion+" to version "+v.newVersion+', but the storage "'+t.storeName+'" already exists.');else throw m}}),l.onerror=function(v){v.preventDefault(),c(l.error)},l.onsuccess=function(){var v=l.result;v.onversionchange=function(y){y.target.close()},i(v),P(t)}})}function Z(t){return Q(t,!1)}function ce(t){return Q(t,!0)}function ue(t,s){if(!t.db)return!0;var i=!t.db.objectStoreNames.contains(t.storeName),c=t.version<t.db.version,f=t.version>t.db.version;if(c&&(t.version!==s&&console.warn('The database "'+t.name+`" can't be downgraded from version `+t.db.version+" to version "+t.version+"."),t.version=t.db.version),f||i){if(i){var l=t.db.version+1;l>t.version&&(t.version=l)}return!0}return!1}function he(t){return new p(function(s,i){var c=new FileReader;c.onerror=i,c.onloadend=function(f){var l=btoa(f.target.result||"");s({__local_forage_encoded_blob:!0,data:l,type:t.type})},c.readAsBinaryString(t)})}function ee(t){var s=D(atob(t.data));return g([s],{type:t.type})}function ve(t){return t&&t.__local_forage_encoded_blob}function Te(t){var s=this,i=s._initReady().then(function(){var c=T[s._dbInfo.name];if(c&&c.dbReady)return c.dbReady});return A(i,t,t),i}function Pe(t){H(t);for(var s=T[t.name],i=s.forages,c=0;c<i.length;c++){var f=i[c];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return t.db=null,Z(t).then(function(l){return t.db=l,ue(t)?ce(t):l}).then(function(l){t.db=s.db=l;for(var v=0;v<i.length;v++)i[v]._dbInfo.db=l}).catch(function(l){throw z(t,l),l})}function te(t,s,i,c){c===void 0&&(c=1);try{var f=t.db.transaction(t.storeName,s);i(null,f)}catch(l){if(c>0&&(!t.db||l.name==="InvalidStateError"||l.name==="NotFoundError"))return p.resolve().then(function(){if(!t.db||l.name==="NotFoundError"&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),ce(t)}).then(function(){return Pe(t).then(function(){te(t,s,i,c-1)})}).catch(i);i(l)}}function se(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ge(t){var s=this,i={db:null};if(t)for(var c in t)i[c]=t[c];var f=T[i.name];f||(f=se(),T[i.name]=f),f.forages.push(s),s._initReady||(s._initReady=s.ready,s.ready=Te);var l=[];function v(){return p.resolve()}for(var y=0;y<f.forages.length;y++){var m=f.forages[y];m!==s&&l.push(m._initReady().catch(v))}var b=f.forages.slice(0);return p.all(l).then(function(){return i.db=f.db,Z(i)}).then(function(_){return i.db=_,ue(i,s._defaultConfig.version)?ce(i):_}).then(function(_){i.db=f.db=_,s._dbInfo=i;for(var E=0;E<b.length;E++){var N=b[E];N!==s&&(N._dbInfo.db=i.db,N._dbInfo.version=i.version)}})}function Se(t,s){var i=this;t=R(t);var c=new p(function(f,l){i.ready().then(function(){te(i._dbInfo,W,function(v,y){if(v)return l(v);try{var m=y.objectStore(i._dbInfo.storeName),b=m.get(t);b.onsuccess=function(){var _=b.result;_===void 0&&(_=null),ve(_)&&(_=ee(_)),f(_)},b.onerror=function(){l(b.error)}}catch(_){l(_)}})}).catch(l)});return $(c,s),c}function xe(t,s){var i=this,c=new p(function(f,l){i.ready().then(function(){te(i._dbInfo,W,function(v,y){if(v)return l(v);try{var m=y.objectStore(i._dbInfo.storeName),b=m.openCursor(),_=1;b.onsuccess=function(){var E=b.result;if(E){var N=E.value;ve(N)&&(N=ee(N));var B=t(N,E.key,_++);B!==void 0?f(B):E.continue()}else f()},b.onerror=function(){l(b.error)}}catch(E){l(E)}})}).catch(l)});return $(c,s),c}function je(t,s,i){var c=this;t=R(t);var f=new p(function(l,v){var y;c.ready().then(function(){return y=c._dbInfo,F.call(s)==="[object Blob]"?L(y.db).then(function(m){return m?s:he(s)}):s}).then(function(m){te(c._dbInfo,w,function(b,_){if(b)return v(b);try{var E=_.objectStore(c._dbInfo.storeName);m===null&&(m=void 0);var N=E.put(m,t);_.oncomplete=function(){m===void 0&&(m=null),l(m)},_.onabort=_.onerror=function(){var B=N.error?N.error:N.transaction.error;v(B)}}catch(B){v(B)}})}).catch(v)});return $(f,i),f}function re(t,s){var i=this;t=R(t);var c=new p(function(f,l){i.ready().then(function(){te(i._dbInfo,w,function(v,y){if(v)return l(v);try{var m=y.objectStore(i._dbInfo.storeName),b=m.delete(t);y.oncomplete=function(){f()},y.onerror=function(){l(b.error)},y.onabort=function(){var _=b.error?b.error:b.transaction.error;l(_)}}catch(_){l(_)}})}).catch(l)});return $(c,s),c}function $e(t){var s=this,i=new p(function(c,f){s.ready().then(function(){te(s._dbInfo,w,function(l,v){if(l)return f(l);try{var y=v.objectStore(s._dbInfo.storeName),m=y.clear();v.oncomplete=function(){c()},v.onabort=v.onerror=function(){var b=m.error?m.error:m.transaction.error;f(b)}}catch(b){f(b)}})}).catch(f)});return $(i,t),i}function Re(t){var s=this,i=new p(function(c,f){s.ready().then(function(){te(s._dbInfo,W,function(l,v){if(l)return f(l);try{var y=v.objectStore(s._dbInfo.storeName),m=y.count();m.onsuccess=function(){c(m.result)},m.onerror=function(){f(m.error)}}catch(b){f(b)}})}).catch(f)});return $(i,t),i}function hn(t,s){var i=this,c=new p(function(f,l){if(t<0){f(null);return}i.ready().then(function(){te(i._dbInfo,W,function(v,y){if(v)return l(v);try{var m=y.objectStore(i._dbInfo.storeName),b=!1,_=m.openKeyCursor();_.onsuccess=function(){var E=_.result;if(!E){f(null);return}t===0||b?f(E.key):(b=!0,E.advance(t))},_.onerror=function(){l(_.error)}}catch(E){l(E)}})}).catch(l)});return $(c,s),c}function vn(t){var s=this,i=new p(function(c,f){s.ready().then(function(){te(s._dbInfo,W,function(l,v){if(l)return f(l);try{var y=v.objectStore(s._dbInfo.storeName),m=y.openKeyCursor(),b=[];m.onsuccess=function(){var _=m.result;if(!_){c(b);return}b.push(_.key),_.continue()},m.onerror=function(){f(m.error)}}catch(_){f(_)}})}).catch(f)});return $(i,t),i}function gn(t,s){s=k.apply(this,arguments);var i=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||i.name,t.storeName=t.storeName||i.storeName);var c=this,f;if(!t.name)f=p.reject("Invalid arguments");else{var l=t.name===i.name&&c._dbInfo.db,v=l?p.resolve(c._dbInfo.db):Z(t).then(function(y){var m=T[t.name],b=m.forages;m.db=y;for(var _=0;_<b.length;_++)b[_]._dbInfo.db=y;return y});t.storeName?f=v.then(function(y){if(y.objectStoreNames.contains(t.storeName)){var m=y.version+1;H(t);var b=T[t.name],_=b.forages;y.close();for(var E=0;E<_.length;E++){var N=_[E];N._dbInfo.db=null,N._dbInfo.version=m}var B=new p(function(M,X){var G=S.open(t.name,m);G.onerror=function(oe){var We=G.result;We.close(),X(oe)},G.onupgradeneeded=function(){var oe=G.result;oe.deleteObjectStore(t.storeName)},G.onsuccess=function(){var oe=G.result;oe.close(),M(oe)}});return B.then(function(M){b.db=M;for(var X=0;X<_.length;X++){var G=_[X];G._dbInfo.db=M,P(G._dbInfo)}}).catch(function(M){throw(z(t,M)||p.resolve()).catch(function(){}),M})}}):f=v.then(function(y){H(t);var m=T[t.name],b=m.forages;y.close();for(var _=0;_<b.length;_++){var E=b[_];E._dbInfo.db=null}var N=new p(function(B,M){var X=S.deleteDatabase(t.name);X.onerror=function(){var G=X.result;G&&G.close(),M(X.error)},X.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},X.onsuccess=function(){var G=X.result;G&&G.close(),B(G)}});return N.then(function(B){m.db=B;for(var M=0;M<b.length;M++){var X=b[M];P(X._dbInfo)}}).catch(function(B){throw(z(t,B)||p.resolve()).catch(function(){}),B})})}return $(f,s),f}var pn={_driver:"asyncStorage",_initStorage:ge,_support:x(),iterate:xe,getItem:Se,setItem:je,removeItem:re,clear:$e,length:Re,key:hn,keys:vn,dropInstance:gn};function yn(){return typeof openDatabase=="function"}var Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mn="~~local_forage_type~",Dt=/^~~local_forage_type~([^~]+)~/,He="__lfsc__:",at=He.length,st="arbf",lt="blob",It="si08",Tt="ui08",Rt="uic8",Nt="si16",Lt="si32",Pt="ur16",kt="ui32",Bt="fl32",Ot="fl64",Wt=at+st.length,Mt=Object.prototype.toString;function Ft(t){var s=t.length*.75,i=t.length,c,f=0,l,v,y,m;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);var b=new ArrayBuffer(s),_=new Uint8Array(b);for(c=0;c<i;c+=4)l=Ee.indexOf(t[c]),v=Ee.indexOf(t[c+1]),y=Ee.indexOf(t[c+2]),m=Ee.indexOf(t[c+3]),_[f++]=l<<2|v>>4,_[f++]=(v&15)<<4|y>>2,_[f++]=(y&3)<<6|m&63;return b}function ct(t){var s=new Uint8Array(t),i="",c;for(c=0;c<s.length;c+=3)i+=Ee[s[c]>>2],i+=Ee[(s[c]&3)<<4|s[c+1]>>4],i+=Ee[(s[c+1]&15)<<2|s[c+2]>>6],i+=Ee[s[c+2]&63];return s.length%3===2?i=i.substring(0,i.length-1)+"=":s.length%3===1&&(i=i.substring(0,i.length-2)+"=="),i}function bn(t,s){var i="";if(t&&(i=Mt.call(t)),t&&(i==="[object ArrayBuffer]"||t.buffer&&Mt.call(t.buffer)==="[object ArrayBuffer]")){var c,f=He;t instanceof ArrayBuffer?(c=t,f+=st):(c=t.buffer,i==="[object Int8Array]"?f+=It:i==="[object Uint8Array]"?f+=Tt:i==="[object Uint8ClampedArray]"?f+=Rt:i==="[object Int16Array]"?f+=Nt:i==="[object Uint16Array]"?f+=Pt:i==="[object Int32Array]"?f+=Lt:i==="[object Uint32Array]"?f+=kt:i==="[object Float32Array]"?f+=Bt:i==="[object Float64Array]"?f+=Ot:s(new Error("Failed to get type for BinaryArray"))),s(f+ct(c))}else if(i==="[object Blob]"){var l=new FileReader;l.onload=function(){var v=mn+t.type+"~"+ct(this.result);s(He+lt+v)},l.readAsArrayBuffer(t)}else try{s(JSON.stringify(t))}catch(v){console.error("Couldn't convert value into a JSON string: ",t),s(null,v)}}function wn(t){if(t.substring(0,at)!==He)return JSON.parse(t);var s=t.substring(Wt),i=t.substring(at,Wt),c;if(i===lt&&Dt.test(s)){var f=s.match(Dt);c=f[1],s=s.substring(f[0].length)}var l=Ft(s);switch(i){case st:return l;case lt:return g([l],{type:c});case It:return new Int8Array(l);case Tt:return new Uint8Array(l);case Rt:return new Uint8ClampedArray(l);case Nt:return new Int16Array(l);case Pt:return new Uint16Array(l);case Lt:return new Int32Array(l);case kt:return new Uint32Array(l);case Bt:return new Float32Array(l);case Ot:return new Float64Array(l);default:throw new Error("Unkown type: "+i)}}var ut={serialize:bn,deserialize:wn,stringToBuffer:Ft,bufferToString:ct};function Ut(t,s,i,c){t.executeSql("CREATE TABLE IF NOT EXISTS "+s.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],i,c)}function _n(t){var s=this,i={db:null};if(t)for(var c in t)i[c]=typeof t[c]!="string"?t[c].toString():t[c];var f=new p(function(l,v){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(y){return v(y)}i.db.transaction(function(y){Ut(y,i,function(){s._dbInfo=i,l()},function(m,b){v(b)})},v)});return i.serializer=ut,f}function Ae(t,s,i,c,f,l){t.executeSql(i,c,f,function(v,y){y.code===y.SYNTAX_ERR?v.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[s.storeName],function(m,b){b.rows.length?l(m,y):Ut(m,s,function(){m.executeSql(i,c,f,l)},l)},l):l(v,y)},l)}function Sn(t,s){var i=this;t=R(t);var c=new p(function(f,l){i.ready().then(function(){var v=i._dbInfo;v.db.transaction(function(y){Ae(y,v,"SELECT * FROM "+v.storeName+" WHERE key = ? LIMIT 1",[t],function(m,b){var _=b.rows.length?b.rows.item(0).value:null;_&&(_=v.serializer.deserialize(_)),f(_)},function(m,b){l(b)})})}).catch(l)});return $(c,s),c}function xn(t,s){var i=this,c=new p(function(f,l){i.ready().then(function(){var v=i._dbInfo;v.db.transaction(function(y){Ae(y,v,"SELECT * FROM "+v.storeName,[],function(m,b){for(var _=b.rows,E=_.length,N=0;N<E;N++){var B=_.item(N),M=B.value;if(M&&(M=v.serializer.deserialize(M)),M=t(M,B.key,N+1),M!==void 0){f(M);return}}f()},function(m,b){l(b)})})}).catch(l)});return $(c,s),c}function Yt(t,s,i,c){var f=this;t=R(t);var l=new p(function(v,y){f.ready().then(function(){s===void 0&&(s=null);var m=s,b=f._dbInfo;b.serializer.serialize(s,function(_,E){E?y(E):b.db.transaction(function(N){Ae(N,b,"INSERT OR REPLACE INTO "+b.storeName+" (key, value) VALUES (?, ?)",[t,_],function(){v(m)},function(B,M){y(M)})},function(N){if(N.code===N.QUOTA_ERR){if(c>0){v(Yt.apply(f,[t,m,i,c-1]));return}y(N)}})})}).catch(y)});return $(l,i),l}function $n(t,s,i){return Yt.apply(this,[t,s,i,1])}function En(t,s){var i=this;t=R(t);var c=new p(function(f,l){i.ready().then(function(){var v=i._dbInfo;v.db.transaction(function(y){Ae(y,v,"DELETE FROM "+v.storeName+" WHERE key = ?",[t],function(){f()},function(m,b){l(b)})})}).catch(l)});return $(c,s),c}function An(t){var s=this,i=new p(function(c,f){s.ready().then(function(){var l=s._dbInfo;l.db.transaction(function(v){Ae(v,l,"DELETE FROM "+l.storeName,[],function(){c()},function(y,m){f(m)})})}).catch(f)});return $(i,t),i}function Cn(t){var s=this,i=new p(function(c,f){s.ready().then(function(){var l=s._dbInfo;l.db.transaction(function(v){Ae(v,l,"SELECT COUNT(key) as c FROM "+l.storeName,[],function(y,m){var b=m.rows.item(0).c;c(b)},function(y,m){f(m)})})}).catch(f)});return $(i,t),i}function Dn(t,s){var i=this,c=new p(function(f,l){i.ready().then(function(){var v=i._dbInfo;v.db.transaction(function(y){Ae(y,v,"SELECT key FROM "+v.storeName+" WHERE id = ? LIMIT 1",[t+1],function(m,b){var _=b.rows.length?b.rows.item(0).key:null;f(_)},function(m,b){l(b)})})}).catch(l)});return $(c,s),c}function In(t){var s=this,i=new p(function(c,f){s.ready().then(function(){var l=s._dbInfo;l.db.transaction(function(v){Ae(v,l,"SELECT key FROM "+l.storeName,[],function(y,m){for(var b=[],_=0;_<m.rows.length;_++)b.push(m.rows.item(_).key);c(b)},function(y,m){f(m)})})}).catch(f)});return $(i,t),i}function Tn(t){return new p(function(s,i){t.transaction(function(c){c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,l){for(var v=[],y=0;y<l.rows.length;y++)v.push(l.rows.item(y).name);s({db:t,storeNames:v})},function(f,l){i(l)})},function(c){i(c)})})}function Rn(t,s){s=k.apply(this,arguments);var i=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||i.name,t.storeName=t.storeName||i.storeName);var c=this,f;return t.name?f=new p(function(l){var v;t.name===i.name?v=c._dbInfo.db:v=openDatabase(t.name,"","",0),t.storeName?l({db:v,storeNames:[t.storeName]}):l(Tn(v))}).then(function(l){return new p(function(v,y){l.db.transaction(function(m){function b(B){return new p(function(M,X){m.executeSql("DROP TABLE IF EXISTS "+B,[],function(){M()},function(G,oe){X(oe)})})}for(var _=[],E=0,N=l.storeNames.length;E<N;E++)_.push(b(l.storeNames[E]));p.all(_).then(function(){v()}).catch(function(B){y(B)})},function(m){y(m)})})}):f=p.reject("Invalid arguments"),$(f,s),f}var Nn={_driver:"webSQLStorage",_initStorage:_n,_support:yn(),iterate:xn,getItem:Sn,setItem:$n,removeItem:En,clear:An,length:Cn,key:Dn,keys:In,dropInstance:Rn};function Ln(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function jt(t,s){var i=t.name+"/";return t.storeName!==s.storeName&&(i+=t.storeName+"/"),i}function Pn(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch{return!0}}function kn(){return!Pn()||localStorage.length>0}function Bn(t){var s=this,i={};if(t)for(var c in t)i[c]=t[c];return i.keyPrefix=jt(t,s._defaultConfig),kn()?(s._dbInfo=i,i.serializer=ut,p.resolve()):p.reject()}function On(t){var s=this,i=s.ready().then(function(){for(var c=s._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var l=localStorage.key(f);l.indexOf(c)===0&&localStorage.removeItem(l)}});return $(i,t),i}function Wn(t,s){var i=this;t=R(t);var c=i.ready().then(function(){var f=i._dbInfo,l=localStorage.getItem(f.keyPrefix+t);return l&&(l=f.serializer.deserialize(l)),l});return $(c,s),c}function Mn(t,s){var i=this,c=i.ready().then(function(){for(var f=i._dbInfo,l=f.keyPrefix,v=l.length,y=localStorage.length,m=1,b=0;b<y;b++){var _=localStorage.key(b);if(_.indexOf(l)===0){var E=localStorage.getItem(_);if(E&&(E=f.serializer.deserialize(E)),E=t(E,_.substring(v),m++),E!==void 0)return E}}});return $(c,s),c}function Fn(t,s){var i=this,c=i.ready().then(function(){var f=i._dbInfo,l;try{l=localStorage.key(t)}catch{l=null}return l&&(l=l.substring(f.keyPrefix.length)),l});return $(c,s),c}function Un(t){var s=this,i=s.ready().then(function(){for(var c=s._dbInfo,f=localStorage.length,l=[],v=0;v<f;v++){var y=localStorage.key(v);y.indexOf(c.keyPrefix)===0&&l.push(y.substring(c.keyPrefix.length))}return l});return $(i,t),i}function Yn(t){var s=this,i=s.keys().then(function(c){return c.length});return $(i,t),i}function jn(t,s){var i=this;t=R(t);var c=i.ready().then(function(){var f=i._dbInfo;localStorage.removeItem(f.keyPrefix+t)});return $(c,s),c}function Hn(t,s,i){var c=this;t=R(t);var f=c.ready().then(function(){s===void 0&&(s=null);var l=s;return new p(function(v,y){var m=c._dbInfo;m.serializer.serialize(s,function(b,_){if(_)y(_);else try{localStorage.setItem(m.keyPrefix+t,b),v(l)}catch(E){(E.name==="QuotaExceededError"||E.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(E),y(E)}})})});return $(f,i),f}function zn(t,s){if(s=k.apply(this,arguments),t=typeof t!="function"&&t||{},!t.name){var i=this.config();t.name=t.name||i.name,t.storeName=t.storeName||i.storeName}var c=this,f;return t.name?f=new p(function(l){t.storeName?l(jt(t,c._defaultConfig)):l(t.name+"/")}).then(function(l){for(var v=localStorage.length-1;v>=0;v--){var y=localStorage.key(v);y.indexOf(l)===0&&localStorage.removeItem(y)}}):f=p.reject("Invalid arguments"),$(f,s),f}var Gn={_driver:"localStorageWrapper",_initStorage:Bn,_support:Ln(),iterate:Mn,getItem:Wn,setItem:Hn,removeItem:jn,clear:On,length:Yn,key:Fn,keys:Un,dropInstance:zn},Vn=function(s,i){return s===i||typeof s=="number"&&typeof i=="number"&&isNaN(s)&&isNaN(i)},Xn=function(s,i){for(var c=s.length,f=0;f<c;){if(Vn(s[f],i))return!0;f++}return!1},Ht=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},Oe={},zt={},ke={INDEXEDDB:pn,WEBSQL:Nn,LOCALSTORAGE:Gn},Kn=[ke.INDEXEDDB._driver,ke.WEBSQL._driver,ke.LOCALSTORAGE._driver],ze=["dropInstance"],ft=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ze),Qn={description:"",driver:Kn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Jn(t,s){t[s]=function(){var i=arguments;return t.ready().then(function(){return t[s].apply(t,i)})}}function dt(){for(var t=1;t<arguments.length;t++){var s=arguments[t];if(s)for(var i in s)s.hasOwnProperty(i)&&(Ht(s[i])?arguments[0][i]=s[i].slice():arguments[0][i]=s[i])}return arguments[0]}var qn=function(){function t(s){h(this,t);for(var i in ke)if(ke.hasOwnProperty(i)){var c=ke[i],f=c._driver;this[i]=f,Oe[f]||this.defineDriver(c)}this._defaultConfig=dt({},Qn),this._config=dt({},this._defaultConfig,s),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(i){if((typeof i>"u"?"undefined":u(i))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var c in i){if(c==="storeName"&&(i[c]=i[c].replace(/\W/g,"_")),c==="version"&&typeof i[c]!="number")return new Error("Database version must be a number.");this._config[c]=i[c]}return"driver"in i&&i.driver?this.setDriver(this._config.driver):!0}else return typeof i=="string"?this._config[i]:this._config},t.prototype.defineDriver=function(i,c,f){var l=new p(function(v,y){try{var m=i._driver,b=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!i._driver){y(b);return}for(var _=ft.concat("_initStorage"),E=0,N=_.length;E<N;E++){var B=_[E],M=!Xn(ze,B);if((M||i[B])&&typeof i[B]!="function"){y(b);return}}var X=function(){for(var We=function(tr){return function(){var nr=new Error("Method "+tr+" is not implemented by the current driver"),Gt=p.reject(nr);return $(Gt,arguments[arguments.length-1]),Gt}},ht=0,er=ze.length;ht<er;ht++){var vt=ze[ht];i[vt]||(i[vt]=We(vt))}};X();var G=function(We){Oe[m]&&console.info("Redefining LocalForage driver: "+m),Oe[m]=i,zt[m]=We,v()};"_support"in i?i._support&&typeof i._support=="function"?i._support().then(G,y):G(!!i._support):G(!0)}catch(oe){y(oe)}});return A(l,c,f),l},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(i,c,f){var l=Oe[i]?p.resolve(Oe[i]):p.reject(new Error("Driver not found."));return A(l,c,f),l},t.prototype.getSerializer=function(i){var c=p.resolve(ut);return A(c,i),c},t.prototype.ready=function(i){var c=this,f=c._driverSet.then(function(){return c._ready===null&&(c._ready=c._initDriver()),c._ready});return A(f,i,i),f},t.prototype.setDriver=function(i,c,f){var l=this;Ht(i)||(i=[i]);var v=this._getSupportedDrivers(i);function y(){l._config.driver=l.driver()}function m(E){return l._extend(E),y(),l._ready=l._initStorage(l._config),l._ready}function b(E){return function(){var N=0;function B(){for(;N<E.length;){var M=E[N];return N++,l._dbInfo=null,l._ready=null,l.getDriver(M).then(m).catch(B)}y();var X=new Error("No available storage method found.");return l._driverSet=p.reject(X),l._driverSet}return B()}}var _=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=_.then(function(){var E=v[0];return l._dbInfo=null,l._ready=null,l.getDriver(E).then(function(N){l._driver=N._driver,y(),l._wrapLibraryMethodsWithReady(),l._initDriver=b(v)})}).catch(function(){y();var E=new Error("No available storage method found.");return l._driverSet=p.reject(E),l._driverSet}),A(this._driverSet,c,f),this._driverSet},t.prototype.supports=function(i){return!!zt[i]},t.prototype._extend=function(i){dt(this,i)},t.prototype._getSupportedDrivers=function(i){for(var c=[],f=0,l=i.length;f<l;f++){var v=i[f];this.supports(v)&&c.push(v)}return c},t.prototype._wrapLibraryMethodsWithReady=function(){for(var i=0,c=ft.length;i<c;i++)Jn(this,ft[i])},t.prototype.createInstance=function(i){return new t(i)},t}(),Zn=new qn;a.exports=Zn},{3:3}]},{},[4])(4)})})(fn);var Ar=fn.exports;const Ct=Er(Ar),[Cr,tt]=j({show:!1,title:"",message:""});Ct.config({name:"work-diary"});const[me,Fe]=j([]),[Dr,pi]=j({sections:[{name:"Herbs",num:0,beds:[{name:"Herbs 1",num:0}]},{name:"nord",num:1,beds:[{name:"nord 1",num:0},{name:"nord 2",num:1}]},{name:"middle",num:2,beds:[{name:"middle 1",num:0},{name:"middle 2",num:0},{name:"middle 3",num:2}]},{name:"south",num:3,beds:[{name:"south 1",num:0},{name:"south 2",num:1},{name:"south 3",num:2},{name:"south 4",num:3}]}]});function Ir(){Ct.getItem("diary").then(e=>{e&&Fe(JSON.parse(e))}).catch(e=>console.log(e))}function nt(){let e=JSON.stringify(me());Ct.setItem("diary",e).catch(r=>console.log(r))}const Tr=()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(me())),r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download","diary-export.json"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},Rr=e=>{let r=new FileReader;r.onload=n=>{try{let a=JSON.parse(n.target.result);Fe(a),nt()}catch(a){tt({show:!0,title:"error importing file",message:e.name+" "+a})}},r.onerror=n=>{console.log(n),tt({show:!0,title:"error",message:"error importing diary data"})},r.readAsText(e)};function dn(e){e=new Date(e);let r=e.getMonth()+1;r<10&&(r=`0${r}`);let n=e.getDate();return n<10&&(n=`0${n}`),`${n}.${r}.${e.getFullYear()}`}function St(e){e=new Date(e);let r=e.getMonth()+1;r<10&&(r=`0${r}`);let n=e.getDate();return n<10&&(n=`0${n}`),`${e.getFullYear()}-${r}-${n}`}function fe(e){return e=new Date(e),Number(e)}function Nr(){let r=new Date(Date.now()).getDate()+1;return r<10&&(r=`0${r}`),String(r)}function Ne(){let r=new Date(Date.now()).getMonth()+1;return r<10&&(r=`0${r}`),r}function pe(){let r=new Date(Date.now()).getFullYear();return String(r)}function qt(e,r){return new Date(e,Number(r),0).getDate()}function xt(){return fe(new Date(pe(),Ne(),Nr()))}const ae=ar();function Lr(e){const[r,n]=j(!1),[a,o]=j(null),[u,h]=j(!1),[d,S]=j(!1),[x,g]=j(!1),[p,$]=j(!1),[A,R]=j(!1),k=()=>({done:"both",dateBegin:0,dateEnd:xt(),category:"All"}),[I,O]=j(k()),T=()=>O(k()),F=()=>me().filter(D=>D.date>=I().dateBegin&&D.date<=I().dateEnd&&(I().done==="both"||I().done==="done"&&D.done===!0||I().done==="pending"&&D.done===!1)&&(I().category==="All"||I().category===D.category)),W=["Pflege","Pflanzen/Setzen","Ernten","Boden","Pflanzenschutz","Anzucht","Umgebungsarbeiten","Anderes"];return V(ae.Provider,{value:{showEditor:r,setShowEditor:n,openToEdit:a,setOpenToEdit:o,deleteHot:u,setDeleteHot:h,showMenu:d,setShowMenu:S,categorys:W,toastMessage:Cr,setToastMessage:tt,showReport:x,setShowReport:g,showFilter:p,setShowFilter:$,filter:I,setFilter:O,resetFilter:T,filteredDiary:F,showGardenMap:A,setShowGardenMap:R},get children(){return e.children}})}var Pr=ne('<article><header><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><button class="icon-button outline"><i class="fa-solid fa-trash-can"></i> </button></header><h6></h6><p></p><footer><div class=diary-grid-1><label><input type=checkbox>done</label><p></p><p><i class="fa-regular fa-clock"></i><mark> minutes');function kr(e){const{setOpenToEdit:r,deleteHot:n}=le(ae),a=o=>{Fe([...me().map(u=>u.id===o.id?{...u,done:!u.done}:u=u)]),console.log(me()),nt()};return(()=>{var o=Pr(),u=o.firstChild,h=u.firstChild,d=h.nextSibling,S=d.firstChild,x=u.nextSibling,g=x.nextSibling,p=g.nextSibling,$=p.firstChild,A=$.firstChild,R=A.firstChild,k=A.nextSibling,I=k.nextSibling,O=I.firstChild,T=O.nextSibling,F=T.firstChild;return h.$$click=()=>r(e.entry.id),d.$$click=()=>e.deleteEntry(e.entry.id),J(x,()=>e.entry.category),g.style.setProperty("white-space","pre-wrap"),J(g,()=>e.entry.work),R.$$click=()=>a(e.entry),J(k,()=>dn(e.entry.date)),O.style.setProperty("font-size","1.3rem"),J(T,()=>e.entry.duration,F),Y(()=>(n()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)")!=null?S.style.setProperty("color",n()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)"):S.style.removeProperty("color")),Y(()=>R.checked=e.entry.done),o})()}_e(["click"]);var Br=ne('<button class="float primary"id=floating-button><i class="fa-solid fa-plus fa-2xl float-icon">');function Or(e){const{showEditor:r,setShowEditor:n,showReport:a}=le(ae),[o,u]=j();return we(()=>{setInterval(()=>{u(!0),setTimeout(()=>u(!1),400)},7e3)}),V(vr,{get when(){return!a()},get children(){var h=Br();return h.$$click=()=>n(!r()),Y(()=>De(h,"buzz",o())),h}})}_e(["click"]);var Wr=ne('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-floppy-disk"></i></button><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><label><input type=checkbox>done</label><textarea rows=5 cols=40 placeholder="describe work"></textarea><input type=date><label for=duration>duration <mark></mark></label><input type=range id=duration min=0 max=240 step=5><fieldset><legend>Kategorie'),Mr=ne("<label><input type=radio name=category on>");let pt;function Fr(e){const{showEditor:r,setShowEditor:n,openToEdit:a,setOpenToEdit:o,categorys:u}=le(ae),h=P=>{r()&&(pt.contains(P.target)||n(!1))};we(()=>{document.addEventListener("click",h,!0)}),it(()=>{document.removeEventListener("click",h,!0)}),be(()=>{r()&&S({id:Date.now(),date:xt(),work:"",category:"Pflege",done:!0,duration:10}),a()!==null?d(a()):S({id:Date.now(),date:xt(),work:"",category:"Pflege",done:!0,duration:10})});const d=P=>{const z=me().find(Q=>Q.id===P);console.log("from Editor",P),S(z)},S=P=>{L(P.id),I(P.done),$(P.work),R(P.date),W(P.category),T(P.duration)};let x,g;const[p,$]=j(""),[A,R]=j(Date.now()),[k,I]=j(!1),[O,T]=j(10),[F,W]=j("Pflege"),[w,D]=j(!1),[C,L]=j(Date.now()),H=()=>{if(p().length<1){D(!0);return}let P={id:C(),work:p(),date:A(),done:k(),duration:O(),category:F()};e.saveNewEntry(P),n(!1)};return be(Je(()=>p(),()=>D(!1))),(()=>{var P=Wr(),z=P.firstChild,Q=z.firstChild,Z=Q.firstChild,ce=Z.nextSibling,ue=Q.nextSibling,he=ue.firstChild,ee=ue.nextSibling,ve=ee.nextSibling,Te=ve.nextSibling,Pe=Te.firstChild,te=Pe.nextSibling,se=Te.nextSibling,ge=se.nextSibling;ge.firstChild;var Se=pt;typeof Se=="function"?de(Se,z):pt=z,Z.$$click=()=>H(),ce.$$click=()=>n(!1),he.addEventListener("change",()=>I(!k())),ee.$$input=()=>$(x.value);var xe=x;typeof xe=="function"?de(xe,ee):x=ee,ve.addEventListener("change",re=>R(fe(re.target.value))),J(te,O),se.$$input=()=>T(g.value);var je=g;return typeof je=="function"?de(je,se):g=se,J(ge,V(At,{each:u,children:re=>(()=>{var $e=Mr(),Re=$e.firstChild;return Re.addEventListener("change",()=>W(re)),J($e,re,null),Y(()=>Re.checked=re===F()),$e})()}),null),Y(re=>{var $e=r(),Re=w();return $e!==re.e&&De(P,"open",re.e=$e),Re!==re.t&&De(ee,"aria-invalid",re.t=Re),re},{e:void 0,t:void 0}),Y(()=>he.checked=k()),Y(()=>ee.value=p()),Y(()=>ve.value=St(A())),Y(()=>se.value=O()),P})()}_e(["click","input"]);var Ur=ne("<canvas height=600 id=report-canvas>");class Yr{constructor(r){r.width=window.innerWidth*.85,r.height=window.innerHeight*.8,r.style.background="white";let n=r.getContext("2d");n.fillStyle="black",this.canvas=r,this.context=n,console.log("canvas registered..."),this.initialY=25,this.y=this.initialY,this.indent=10}adjustHeight(){this.canvas.height=this.y+10}drawDone(){this.context.font='900 17px "Font Awesome 6 Free"',this.context.fillText("",this.indent,this.y)}drawPending(){this.context.font='900 17px "Font Awesome 6 Free"',this.context.fillText("",this.indent,this.y)}drawSeparator(){this.context.beginPath(),this.context.fillStyle="black",this.context.moveTo(10,this.y),this.context.lineTo(this.canvas.width-10,this.y),this.context.stroke(),this.y+=22}writeTitle(r){this.context.font="800 25px system-ui",this.context.fillText(r,this.indent,this.y),this.y+=35}writeSubtitle(r){this.y+=10,this.context.font="700 20px system-ui",this.context.fillText(r,this.indent,this.y),this.y+=25}writeCategory(r,n=10){this.context.font="700 15px system-ui",this.context.fillStyle="black",this.context.fillText(r,n,this.y),this.y+=22}writeLine(r,n=10){this.context.font="15px system-ui",this.context.fillStyle="black",this.context.fillText(r,n,this.y),this.y+=22}}function jr(e){let r,n;we(()=>{console.log("mountex"),n=new Yr(r)});function a(o){o.done?n.drawDone():n.drawPending(),n.writeCategory(o.category.toUpperCase(),35);for(let u of o.work)u.length&&n.writeLine(u,35)}return be(()=>{let o=e.report;n.y=n.initialY;for(let u=0;u<2;u++)if(o){n.writeTitle("Work Report"),n.writeSubtitle("Zeitaufwand in Periode: "+o.totalTime);for(let h in o.report){n.writeSubtitle(`${h}     ${o.report[h].duration} min`);for(let d of o.report[h].works)a(d);n.drawSeparator()}u===0&&(n.adjustHeight(),n.y=n.initialY)}}),(()=>{var o=Ur(),u=r;return typeof u=="function"?de(u,o):r=o,o})()}var Hr=ne('<article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-share-nodes"></i></button><p>');const[zr,$t]=j("");function Zt(e){let r=0;e.forEach(a=>{r+=Number(a.duration)});let n={};return n.totalTime=`${r} min`,n.totalLines=0,n.report={},e.forEach(a=>{let o=dn(a.date);o in n.report||(n.report[o]={works:[],duration:0}),n.report[o].duration+=Number(a.duration);let u=a.work.split(`
`);u=u.filter(h=>h.length>0),n.totalLines+=u.length,n.report[o].works.push({date:o,duration:a.duration,work:u,category:a.category,done:a.done})}),n}function Gr(e,r){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],o=atob(n[n.length-1]),u=o.length,h=new Uint8Array(u);u--;)h[u]=o.charCodeAt(u);return new File([h],r,{type:a})}function Vr(){var e=document.querySelector("#report-canvas");const r=e.toDataURL("image/png"),n=Gr(r,"report.png");$t("pending"),navigator.share({title:"Work Report",text:"hier ist der neuste Arbeitsraport",files:[n]}).then(()=>{$t("shared successfully")}).catch(a=>tt({show:!0,title:"error while sharing report ",message:a}))}function Xr(){const{showReport:e,setShowReport:r,filter:n,filteredDiary:a}=le(ae),[o,u]=j(Zt(a()));return we(()=>{$t(" ")}),be(Je(()=>n(),()=>{console.log("re run generate report"),u(Zt(a())),console.log(o())})),(()=>{var h=Hr(),d=h.firstChild,S=d.firstChild,x=S.nextSibling,g=x.nextSibling;return S.$$click=()=>r(!1),x.$$click=()=>Vr(),J(g,()=>zr()||" "),J(h,V(jr,{get report(){return o()}}),null),h})()}_e(["click"]);class Kr extends Object{constructor(r,n){super(),Object.assign(this,r),this.canvas=n,this.context=n.getContext("2d"),this.x=0,this.y=0,this.bedLength=0,this.bedWidth=0}setUp(r,n,a,o){this.x=r,this.y=n,this.bedLength=a,this.bedWidth=o}draw(){this.context.beginPath(),this.context.fillStyle="rgb(181, 112, 9)",this.context.roundRect(this.x,this.y,this.bedLength,this.bedWidth,5),this.context.fill(),this.drawBedName()}drawHighlighted(){this.context.beginPath(),this.context.fillStyle="rgb(163, 15, 193)",this.context.roundRect(this.x,this.y,this.bedLength,this.bedWidth,5),this.context.fill(),this.drawBedName(),setTimeout(()=>this.draw(),1e3)}drawBedName(){this.context.beginPath(),this.context.fillStyle="white",this.context.font="20px system-ui",this.context.fillText(this.name,this.x+10,this.y+this.bedWidth/2+5),this.context.fill()}}class Qr extends Object{constructor(r,n){super(),Object.assign(this,r),this.canvas=n,this.context=n.getContext("2d"),this.borderWidth=10,this.bedWidth=40,this.sectionStartX=10,this.sectionWidth=this.canvas.width-20,this.bedStartX=this.sectionStartX+5,this.bedLength=this.sectionWidth-10,this.pathWidth=5,this.bedObjects=[]}calcHeight(){return this.beds.reduce((n,a)=>n+=this.pathWidth+this.bedWidth,0)+this.pathWidth}draw(r){let n=this.calcHeight();if(n)return this.context.beginPath(),this.context.fillStyle="rgb(59, 161, 8)",this.context.roundRect(this.sectionStartX,r,this.sectionWidth,n-this.pathWidth,5),this.context.fill(),this.drawBeds(r),n+this.borderWidth-this.pathWidth}drawBeds(r){let n=r+this.pathWidth;for(let a of this.beds){let o=new Kr(a,this.canvas);this.bedObjects.push(o),o.setUp(this.bedStartX,n,this.bedLength,this.bedWidth-this.pathWidth),o.draw(),n+=this.bedWidth+this.pathWidth}}}class Jr{constructor(r){this.canvas=r,this.context=r.getContext("2d"),this.sectionObjects=[],this.sectionX=10,this.sectionY=10,this.sectionWidth=this.canvas.width-20,this.sectionMinHeight=40,this.yPos=10}clear(){this.context.fillStyle="rgb(214, 244, 168)",this.context.roundRect(0,0,this.canvas.width,this.canvas.height,5),this.context.fill()}setUp(r){r.sections.forEach(n=>{let a=new Qr(n,this.canvas);this.sectionObjects.push(a)})}draw(){this.sectionObjects.forEach(r=>{this.yPos+=r.draw(this.yPos)})}finalHeight(){let r=this.yPos+25;return this.sectionObjects.forEach(n=>{r+=n.calcHeight(),console.log("height",r)}),r}getClickedBed(r,n){for(let a of this.sectionObjects)for(let o of a.bedObjects)if(r>o.x&&r<o.x+o.bedLength&&n>o.y&&n<o.y+o.bedWidth)return o;return null}}var qr=ne('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><span><strong>Garden Map</strong></span></header><canvas>');let Ce;function Zr(e,r){let n=e.getBoundingClientRect();return{x:r.clientX-n.x,y:r.clientY-n.y}}function ei(){const{showGardenMap:e,setShowGardenMap:r}=le(ae);let n;return we(()=>{Ce.width=window.innerWidth*.85,Ce.height=window.innerHeight*.75,n=new Jr(Ce),Ce.onpointerup=a=>{const{x:o,y:u}=Zr(Ce,a);let h=n.getClickedBed(o,u);h&&h.drawHighlighted()}}),be(()=>{n.setUp(Dr()),Ce.height=n.finalHeight(),n.clear(),n.draw()}),(()=>{var a=qr(),o=a.firstChild,u=o.firstChild,h=u.firstChild,d=h.nextSibling,S=u.nextSibling;o.style.setProperty("min-height","100vh"),h.$$click=()=>r(!1),d.style.setProperty("font-size","1.5rem");var x=Ce;return typeof x=="function"?de(x,S):Ce=S,Y(()=>De(a,"open",e())),a})()}_e(["click"]);var ti=ne("<div>");function ni(){const{showEditor:e,setShowEditor:r,openToEdit:n,setOpenToEdit:a,deleteHot:o,setDeleteHot:u,showReport:h,filteredDiary:d}=le(ae);we(async()=>{Ir()});const S=async g=>{console.log("setting new entry"),Fe([g,...me().filter(p=>p.id!==g.id)]),console.log(me()),nt()},x=async g=>{if(o()===!1){u(g),setTimeout(()=>u(!1),2e3);return}o()===g?(Fe(me().filter(p=>p.id!==g)),nt()):u(g)};return be(Je(()=>n(),()=>{n()!==null&&r(!0)})),be(Je(()=>e(),()=>{e()===!1&&a(null)})),(()=>{var g=ti();return J(g,V(Or,{}),null),J(g,V(ei,{}),null),J(g,V(Fr,{saveNewEntry:S}),null),J(g,V(gr,{get children(){return[V(Xt,{get when(){return!h()},get children(){return V(At,{get each(){return d()},children:p=>V(kr,{entry:p,deleteEntry:x})})}}),V(Xt,{get when(){return h()},get children(){return V(Xr,{})}})]}}),null),g})()}var ri=ne('<nav><ul><li><h2><i class="fa-solid fa-person-digging"></i></h2></li></ul><ul><li><h3>Work Diary</h3></li></ul><ul><li><button class="icon-button outline no-outline"><i class="fa-solid fa-filter"></i></button></li><li><button class="icon-button outline no-outline"><i class="fa-solid fa-bars">');function ii(){const{showMenu:e,setShowMenu:r,showFilter:n,setShowFilter:a}=le(ae);return(()=>{var o=ri(),u=o.firstChild,h=u.nextSibling,d=h.nextSibling,S=d.firstChild,x=S.firstChild,g=S.nextSibling,p=g.firstChild;return x.$$click=()=>a(!n()),p.$$click=()=>r(!e()),o})()}_e(["click"]);var oi=ne('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-location-dot"></i></button></header><button>generate Report</button><hr><h6>export Data</h6><p>exports current data to your device<br>this can serve as an update</p><button>export Diary</button><hr><h6>import diary data</h6><p><mark>Caution!</mark> Existing data will be overwritten.</p><input type=file><button>import Diary');let yt,mt;function ai(e){const{showMenu:r,setShowMenu:n,showReport:a,setShowReport:o,showGardenMap:u,setShowGardenMap:h}=le(ae),d=S=>{r()&&(yt.contains(S.target)||n(!1))};return we(()=>{document.addEventListener("click",d,!0)}),it(()=>{document.removeEventListener("click",d,!0)}),(()=>{var S=oi(),x=S.firstChild,g=x.firstChild,p=g.firstChild,$=p.nextSibling,A=g.nextSibling,R=A.nextSibling,k=R.nextSibling,I=k.nextSibling,O=I.nextSibling,T=O.nextSibling,F=T.nextSibling,W=F.nextSibling,w=W.nextSibling,D=w.nextSibling,C=yt;typeof C=="function"?de(C,x):yt=x,p.$$click=()=>n(!1),$.$$click=()=>{h(!0),n(!1)},A.$$click=()=>{o(!0),n(!1)},O.$$click=()=>{Tr(),n(!1)};var L=mt;return typeof L=="function"?de(L,w):mt=w,D.$$click=()=>{Rr(mt.files[0]),n(!1)},D.style.setProperty("background-color","var(--pico-del-color)"),Y(()=>De(S,"open",r())),S})()}_e(["click"]);var si=ne("<div id=toast><h3></h3><p>");function li(){const{toastMessage:e,setToastMessage:r}=le(ae);return be(()=>{e().show&&setTimeout(()=>r(n=>({title:n.title,message:n.message,show:!1})),3e3)}),(()=>{var n=si(),a=n.firstChild,o=a.nextSibling;return J(a,()=>e().title),J(o,()=>e().message),Y(()=>De(n,"open",e().show)),n})()}var ci=ne('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-caret-left"></i></button><button class="icon-button outline"><i class="fa-solid fa-filter-circle-xmark"></i></button></header><label>starting from:<input type=date></label><label>ending at:<input type=date></label><button>this year</button><button>this month</button><button>last month</button><fieldset><legend>done/pending</legend><label><input type=radio name=done-pending>done</label><label><input type=radio name=done-pending>pending</label><label><input type=radio name=done-pending>both</label></fieldset><fieldset><legend>Kategorie'),ui=ne("<label><input type=radio>");function fi(){const{showFilter:e,setShowFilter:r,setFilter:n,resetFilter:a,filter:o,categorys:u}=le(ae);let h,d,S;const x=A=>{e()&&(h.contains(A.target)||r(!1))};we(()=>{document.addEventListener("click",x,!0)}),it(()=>{document.removeEventListener("click",x,!0)});const g=()=>{n({...o(),dateBegin:fe(`${pe()}-01-01`)}),n({...o(),dateEnd:fe(`${pe()}-12-31`)})},p=()=>{n({...o(),dateBegin:fe(`${pe()}-${Ne()}-1`)}),n({...o(),dateEnd:fe(`${pe()}-${Ne()}-${qt(pe(),Ne())}`)})},$=()=>{n({...o(),dateBegin:fe(`${pe()}-${Number(Ne())-1}-1`)}),n({...o(),dateEnd:fe(`${pe()}-${Number(Ne())-1}-${qt(pe(),Number(Ne())-1)}`)})};return(()=>{var A=ci(),R=A.firstChild,k=R.firstChild,I=k.firstChild,O=I.nextSibling,T=k.nextSibling,F=T.firstChild,W=F.nextSibling,w=T.nextSibling,D=w.firstChild,C=D.nextSibling,L=w.nextSibling,H=L.nextSibling,P=H.nextSibling,z=P.nextSibling,Q=z.firstChild,Z=Q.nextSibling,ce=Z.firstChild,ue=Z.nextSibling,he=ue.firstChild,ee=ue.nextSibling,ve=ee.firstChild,Te=z.nextSibling;Te.firstChild;var Pe=h;typeof Pe=="function"?de(Pe,R):h=R,I.$$click=()=>r(!1),O.$$click=()=>a(),W.addEventListener("change",()=>n({...o(),dateBegin:fe(d.value)}));var te=d;typeof te=="function"?de(te,W):d=W,C.addEventListener("change",()=>n({...o(),dateEnd:fe(S.value)}));var se=S;return typeof se=="function"?de(se,C):S=C,L.$$click=()=>g(),H.$$click=()=>p(),P.$$click=()=>$(),ce.addEventListener("change",()=>n({...o(),done:"done"})),he.addEventListener("change",()=>n({...o(),done:"pending"})),ve.addEventListener("change",()=>n({...o(),done:"both"})),J(Te,V(At,{get each(){return[...u,"All"]},children:ge=>(()=>{var Se=ui(),xe=Se.firstChild;return xe.addEventListener("change",()=>n({...o(),category:ge})),De(xe,"name",ge),J(Se,ge,null),Y(()=>xe.checked=ge===o().category),Se})()}),null),Y(()=>De(A,"open",e())),Y(()=>W.value=o().dateBegin?St(o().dateBegin):null),Y(()=>C.value=St(o().dateEnd)),Y(()=>ce.checked=o().done==="done"),Y(()=>he.checked=o().done==="pending"),Y(()=>ve.checked=o().done==="both"),A})()}_e(["click"]);var di=ne("<div class=card><dialog><h4>Like to get Notified?</h4><button>activate notifications");function hi(){le(ae);const[e,r]=j(!1);return we(async()=>{Sr(),await xr()||r(!0)}),[V(ii,{}),V(ai,{}),V(fi,{}),V(li,{}),(()=>{var n=di(),a=n.firstChild,o=a.firstChild,u=o.nextSibling;return u.$$click=()=>{$r(),r(!1)},Y(()=>a.open=e()),n})(),V(ni,{})]}_e(["click"]);const vi=document.getElementById("root");yr(()=>V(Lr,{get children(){return V(hi,{})}}),vi);
