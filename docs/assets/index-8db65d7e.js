(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Wr=(e,t)=>e===t,Ge=Symbol("solid-proxy"),ln=Symbol("solid-track"),Nt={equals:Wr};let Mn=Wn;const Oe=1,Pt=2,Bn={owned:null,cleanups:null,context:null,owner:null};var q=null;let Zt=null,zr=null,X=null,ce=null,Pe=null,Ut=0;function Dt(e,t){const n=X,r=q,o=e.length===0,a=t===void 0?r:t,c=o?Bn:{owned:null,cleanups:null,context:a?a.context:null,owner:a},h=o?e:()=>e(()=>me(()=>jt(c)));q=c,X=null;try{return Ze(h,!0)}finally{X=n,q=r}}function M(e,t){t=t?Object.assign({},Nt,t):Nt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),Fn(n,o));return[Ln.bind(n),r]}function G(e,t,n){const r=yn(e,t,!1,Oe);mt(r)}function de(e,t,n){Mn=Hr;const r=yn(e,t,!1,Oe);(!n||!n.render)&&(r.user=!0),Pe?Pe.push(r):mt(r)}function Ue(e,t,n){n=n?Object.assign({},Nt,n):Nt;const r=yn(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,mt(r),Ln.bind(r)}function Gr(e){return Ze(e,!1)}function me(e){if(X===null)return e();const t=X;X=null;try{return e()}finally{X=t}}function Xe(e,t,n){const r=Array.isArray(e);let o,a=n&&n.defer;return c=>{let h;if(r){h=Array(e.length);for(let _=0;_<e.length;_++)h[_]=e[_]()}else h=e();if(a)return a=!1,c;const g=me(()=>t(h,o,c));return o=h,g}}function Te(e){de(()=>me(e))}function Yt(e){return q===null||(q.cleanups===null?q.cleanups=[e]:q.cleanups.push(e)),e}function cn(){return X}function Ur(e,t){const n=Symbol("context");return{id:n,Provider:Kr(n),defaultValue:e}}function he(e){return q&&q.context&&q.context[e.id]!==void 0?q.context[e.id]:e.defaultValue}function On(e){const t=Ue(e),n=Ue(()=>un(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ln(){if(this.sources&&this.state)if(this.state===Oe)mt(this);else{const e=ce;ce=null,Ze(()=>Rt(this),!1),ce=e}if(X){const e=this.observers?this.observers.length:0;X.sources?(X.sources.push(this),X.sourceSlots.push(e)):(X.sources=[this],X.sourceSlots=[e]),this.observers?(this.observers.push(X),this.observerSlots.push(X.sources.length-1)):(this.observers=[X],this.observerSlots=[X.sources.length-1])}return this.value}function Fn(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Ze(()=>{for(let o=0;o<e.observers.length;o+=1){const a=e.observers[o],c=Zt&&Zt.running;c&&Zt.disposed.has(a),(c?!a.tState:!a.state)&&(a.pure?ce.push(a):Pe.push(a),a.observers&&zn(a)),c||(a.state=Oe)}if(ce.length>1e6)throw ce=[],new Error},!1)),t}function mt(e){if(!e.fn)return;jt(e);const t=Ut;Yr(e,e.value,t)}function Yr(e,t,n){let r;const o=q,a=X;X=q=e;try{r=e.fn(t)}catch(c){return e.pure&&(e.state=Oe,e.owned&&e.owned.forEach(jt),e.owned=null),e.updatedAt=n+1,Gn(c)}finally{X=a,q=o}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Fn(e,r):e.value=r,e.updatedAt=n)}function yn(e,t,n,r=Oe,o){const a={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:q,context:q?q.context:null,pure:n};return q===null||q!==Bn&&(q.owned?q.owned.push(a):q.owned=[a]),a}function Tt(e){if(e.state===0)return;if(e.state===Pt)return Rt(e);if(e.suspense&&me(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ut);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Oe)mt(e);else if(e.state===Pt){const r=ce;ce=null,Ze(()=>Rt(e,t[0]),!1),ce=r}}function Ze(e,t){if(ce)return e();let n=!1;t||(ce=[]),Pe?n=!0:Pe=[],Ut++;try{const r=e();return jr(n),r}catch(r){n||(Pe=null),ce=null,Gn(r)}}function jr(e){if(ce&&(Wn(ce),ce=null),e)return;const t=Pe;Pe=null,t.length&&Ze(()=>Mn(t),!1)}function Wn(e){for(let t=0;t<e.length;t++)Tt(e[t])}function Hr(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Tt(r)}for(t=0;t<n;t++)Tt(e[t])}function Rt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const o=r.state;o===Oe?r!==t&&(!r.updatedAt||r.updatedAt<Ut)&&Tt(r):o===Pt&&Rt(r,t)}}}function zn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Pt,n.pure?ce.push(n):Pe.push(n),n.observers&&zn(n))}}function jt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const a=o.pop(),c=n.observerSlots.pop();r<o.length&&(a.sourceSlots[c]=r,o[r]=a,n.observerSlots[r]=c)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)jt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Vr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Gn(e,t=q){throw Vr(e)}function un(e){if(typeof e=="function"&&!e.length)return un(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=un(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Kr(e,t){return function(r){let o;return G(()=>o=me(()=>(q.context={...q.context,[e]:r.value},On(()=>r.children))),void 0),o}}const qr=Symbol("fallback");function Cn(e){for(let t=0;t<e.length;t++)e[t]()}function Jr(e,t,n={}){let r=[],o=[],a=[],c=0,h=t.length>1?[]:null;return Yt(()=>Cn(a)),()=>{let g=e()||[],_,y;return g[ln],me(()=>{let m=g.length,E,D,R,P,T,C,F,O,b;if(m===0)c!==0&&(Cn(a),a=[],r=[],o=[],c=0,h&&(h=[])),n.fallback&&(r=[qr],o[0]=Dt(I=>(a[0]=I,n.fallback())),c=1);else if(c===0){for(o=new Array(m),y=0;y<m;y++)r[y]=g[y],o[y]=Dt(v);c=m}else{for(R=new Array(m),P=new Array(m),h&&(T=new Array(m)),C=0,F=Math.min(c,m);C<F&&r[C]===g[C];C++);for(F=c-1,O=m-1;F>=C&&O>=C&&r[F]===g[O];F--,O--)R[O]=o[F],P[O]=a[F],h&&(T[O]=h[F]);for(E=new Map,D=new Array(O+1),y=O;y>=C;y--)b=g[y],_=E.get(b),D[y]=_===void 0?-1:_,E.set(b,y);for(_=C;_<=F;_++)b=r[_],y=E.get(b),y!==void 0&&y!==-1?(R[y]=o[_],P[y]=a[_],h&&(T[y]=h[_]),y=D[y],E.set(b,y)):a[_]();for(y=C;y<m;y++)y in R?(o[y]=R[y],a[y]=P[y],h&&(h[y]=T[y],h[y](y))):o[y]=Dt(v);o=o.slice(0,c=m),r=g.slice(0)}return o});function v(m){if(a[y]=m,h){const[E,D]=M(y);return h[y]=D,t(g[y],E)}return t(g[y])}}}function Y(e,t){return me(()=>e(t||{}))}const Un=e=>`Stale read from <${e}>.`;function Ye(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Ue(Jr(()=>e.each,e.children,t||void 0))}function Yn(e){const t=e.keyed,n=Ue(()=>e.when,void 0,{equals:(r,o)=>t?r===o:!r==!o});return Ue(()=>{const r=n();if(r){const o=e.children;return typeof o=="function"&&o.length>0?me(()=>o(t?r:()=>{if(!me(n))throw Un("Show");return e.when})):o}return e.fallback},void 0,void 0)}function Qr(e){let t=!1;const n=(a,c)=>(t?a[1]===c[1]:!a[1]==!c[1])&&a[2]===c[2],r=On(()=>e.children),o=Ue(()=>{let a=r();Array.isArray(a)||(a=[a]);for(let c=0;c<a.length;c++){const h=a[c].when;if(h)return t=!!a[c].keyed,[c,h,a[c]]}return[-1]},void 0,{equals:n});return Ue(()=>{const[a,c,h]=o();if(a<0)return e.fallback;const g=h.children;return typeof g=="function"&&g.length>0?me(()=>g(t?c:()=>{if(me(o)[0]!==a)throw Un("Match");return h.when})):g},void 0,void 0)}function An(e){return e}function Xr(e,t,n){let r=n.length,o=t.length,a=r,c=0,h=0,g=t[o-1].nextSibling,_=null;for(;c<o||h<a;){if(t[c]===n[h]){c++,h++;continue}for(;t[o-1]===n[a-1];)o--,a--;if(o===c){const y=a<r?h?n[h-1].nextSibling:n[a-h]:g;for(;h<a;)e.insertBefore(n[h++],y)}else if(a===h)for(;c<o;)(!_||!_.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[a-1]&&n[h]===t[o-1]){const y=t[--o].nextSibling;e.insertBefore(n[h++],t[c++].nextSibling),e.insertBefore(n[--a],y),t[o]=n[a]}else{if(!_){_=new Map;let v=h;for(;v<a;)_.set(n[v],v++)}const y=_.get(t[c]);if(y!=null)if(h<y&&y<a){let v=c,m=1,E;for(;++v<o&&v<a&&!((E=_.get(t[v]))==null||E!==y+m);)m++;if(m>y-h){const D=t[c];for(;h<y;)e.insertBefore(n[h++],D)}else e.replaceChild(n[h++],t[c++])}else c++;else t[c++].remove()}}}const In="_$DX_DELEGATE";function Zr(e,t,n,r={}){let o;return Dt(a=>{o=a,t===document?e():z(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{o(),t.textContent=""}}function Z(e,t,n){let r;const o=()=>{const c=document.createElement("template");return c.innerHTML=e,n?c.content.firstChild.firstChild:c.content.firstChild},a=t?()=>me(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return a.cloneNode=a,a}function we(e,t=window.document){const n=t[In]||(t[In]=new Set);for(let r=0,o=e.length;r<o;r++){const a=e[r];n.has(a)||(n.add(a),t.addEventListener(a,ti))}}function ye(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ei(e,t){t==null?e.removeAttribute("class"):e.className=t}function se(e,t,n){return me(()=>e(t,n))}function z(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return kt(e,t,r,n);G(o=>kt(e,t(),o,n),r)}function ti(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function kt(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;const a=typeof t,c=r!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,a==="string"||a==="number")if(a==="number"&&(t=t.toString()),c){let h=n[0];h&&h.nodeType===3?h.data!==t&&(h.data=t):h=document.createTextNode(t),n=qe(e,n,r,h)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||a==="boolean")n=qe(e,n,r);else{if(a==="function")return G(()=>{let h=t();for(;typeof h=="function";)h=h();n=kt(e,h,n,r)}),()=>n;if(Array.isArray(t)){const h=[],g=n&&Array.isArray(n);if(fn(h,t,n,o))return G(()=>n=kt(e,h,n,r,!0)),()=>n;if(h.length===0){if(n=qe(e,n,r),c)return n}else g?n.length===0?Dn(e,h,r):Xr(e,n,h):(n&&qe(e),Dn(e,h));n=h}else if(t.nodeType){if(Array.isArray(n)){if(c)return n=qe(e,n,r,t);qe(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function fn(e,t,n,r){let o=!1;for(let a=0,c=t.length;a<c;a++){let h=t[a],g=n&&n[e.length],_;if(!(h==null||h===!0||h===!1))if((_=typeof h)=="object"&&h.nodeType)e.push(h);else if(Array.isArray(h))o=fn(e,h,g)||o;else if(_==="function")if(r){for(;typeof h=="function";)h=h();o=fn(e,Array.isArray(h)?h:[h],Array.isArray(g)?g:[g])||o}else e.push(h),o=!0;else{const y=String(h);g&&g.nodeType===3&&g.data===y?e.push(g):e.push(document.createTextNode(y))}}return o}function Dn(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function qe(e,t,n,r){if(n===void 0)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let a=!1;for(let c=t.length-1;c>=0;c--){const h=t[c];if(o!==h){const g=h.parentNode===e;!a&&!c?g?e.replaceChild(o,h):e.insertBefore(o,n):g&&h.remove()}else a=!0}}else e.insertBefore(o,n);return[o]}var ni=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},dn;typeof window<"u"&&(typeof Promise<"u"?dn=new Promise(function(e){return window.addEventListener("load",e)}):dn={then:function(e){return window.addEventListener("load",e)}});function ri(e,t){t===void 0&&(t={});var n=t.registrationOptions;n===void 0&&(n={}),delete t.registrationOptions;var r=function(o){for(var a=[],c=arguments.length-1;c-- >0;)a[c]=arguments[c+1];t&&t[o]&&t[o].apply(t,a)};"serviceWorker"in navigator&&dn.then(function(){ni()?(ii(e,r,n),navigator.serviceWorker.ready.then(function(o){r("ready",o)}).catch(function(o){return gt(r,o)})):(jn(e,r,n),navigator.serviceWorker.ready.then(function(o){r("ready",o)}).catch(function(o){return gt(r,o)}))})}function gt(e,t){navigator.onLine||e("offline"),e("error",t)}function jn(e,t,n){navigator.serviceWorker.register(e,n).then(function(r){if(t("registered",r),r.waiting){t("updated",r);return}r.onupdatefound=function(){t("updatefound",r);var o=r.installing;o.onstatechange=function(){o.state==="installed"&&(navigator.serviceWorker.controller?t("updated",r):t("cached",r))}}}).catch(function(r){return gt(t,r)})}function ii(e,t,n){fetch(e).then(function(r){r.status===404?(t("error",new Error("Service worker not found at "+e)),Nn()):r.headers.get("content-type").indexOf("javascript")===-1?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+r.headers.get("content-type"))),Nn()):jn(e,t,n)}).catch(function(r){return gt(t,r)})}function Nn(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return gt(emit,e)})}function oi(){ri("/work-diary/serviceworker.js")}const si=async()=>Notification.permission==="granted",ai=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};function li(e={}){window.navigator.serviceWorker.ready.then(t=>{t.active.postMessage({type:"message",body:{text:"start",data:e}})})}var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ci(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function At(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,o,a){function c(_,y){if(!o[_]){if(!r[_]){var v=typeof At=="function"&&At;if(!y&&v)return v(_,!0);if(h)return h(_,!0);var m=new Error("Cannot find module '"+_+"'");throw m.code="MODULE_NOT_FOUND",m}var E=o[_]={exports:{}};r[_][0].call(E.exports,function(D){var R=r[_][1][D];return c(R||D)},E,E.exports,n,r,o,a)}return o[_].exports}for(var h=typeof At=="function"&&At,g=0;g<a.length;g++)c(a[g]);return c}({1:[function(n,r,o){(function(a){var c=a.MutationObserver||a.WebKitMutationObserver,h;if(c){var g=0,_=new c(D),y=a.document.createTextNode("");_.observe(y,{characterData:!0}),h=function(){y.data=g=++g%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var v=new a.MessageChannel;v.port1.onmessage=D,h=function(){v.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?h=function(){var P=a.document.createElement("script");P.onreadystatechange=function(){D(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},a.document.documentElement.appendChild(P)}:h=function(){setTimeout(D,0)};var m,E=[];function D(){m=!0;for(var P,T,C=E.length;C;){for(T=E,E=[],P=-1;++P<C;)T[P]();C=E.length}m=!1}r.exports=R;function R(P){E.push(P)===1&&!m&&h()}}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,o){var a=n(1);function c(){}var h={},g=["REJECTED"],_=["FULFILLED"],y=["PENDING"];r.exports=v;function v(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,b!==c&&R(this,b)}v.prototype.catch=function(b){return this.then(null,b)},v.prototype.then=function(b,I){if(typeof b!="function"&&this.state===_||typeof I!="function"&&this.state===g)return this;var N=new this.constructor(c);if(this.state!==y){var k=this.state===_?b:I;E(N,k,this.outcome)}else this.queue.push(new m(N,b,I));return N};function m(b,I,N){this.promise=b,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(b){h.resolve(this.promise,b)},m.prototype.otherCallFulfilled=function(b){E(this.promise,this.onFulfilled,b)},m.prototype.callRejected=function(b){h.reject(this.promise,b)},m.prototype.otherCallRejected=function(b){E(this.promise,this.onRejected,b)};function E(b,I,N){a(function(){var k;try{k=I(N)}catch(H){return h.reject(b,H)}k===b?h.reject(b,new TypeError("Cannot resolve promise with itself")):h.resolve(b,k)})}h.resolve=function(b,I){var N=P(D,I);if(N.status==="error")return h.reject(b,N.value);var k=N.value;if(k)R(b,k);else{b.state=_,b.outcome=I;for(var H=-1,V=b.queue.length;++H<V;)b.queue[H].callFulfilled(I)}return b},h.reject=function(b,I){b.state=g,b.outcome=I;for(var N=-1,k=b.queue.length;++N<k;)b.queue[N].callRejected(I);return b};function D(b){var I=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof I=="function")return function(){I.apply(b,arguments)}}function R(b,I){var N=!1;function k(te){N||(N=!0,h.reject(b,te))}function H(te){N||(N=!0,h.resolve(b,te))}function V(){I(H,k)}var ee=P(V);ee.status==="error"&&k(ee.value)}function P(b,I){var N={};try{N.value=b(I),N.status="success"}catch(k){N.status="error",N.value=k}return N}v.resolve=T;function T(b){return b instanceof this?b:h.resolve(new this(c),b)}v.reject=C;function C(b){var I=new this(c);return h.reject(I,b)}v.all=F;function F(b){var I=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=b.length,k=!1;if(!N)return this.resolve([]);for(var H=new Array(N),V=0,ee=-1,te=new this(c);++ee<N;)J(b[ee],ee);return te;function J(ue,_e){I.resolve(ue).then(ae,function(ge){k||(k=!0,h.reject(te,ge))});function ae(ge){H[_e]=ge,++V===N&&!k&&(k=!0,h.resolve(te,H))}}}v.race=O;function O(b){var I=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=b.length,k=!1;if(!N)return this.resolve([]);for(var H=-1,V=new this(c);++H<N;)ee(b[H]);return V;function ee(te){I.resolve(te).then(function(J){k||(k=!0,h.resolve(V,J))},function(J){k||(k=!0,h.reject(V,J))})}}},{1:1}],3:[function(n,r,o){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,o){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function c(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var g=h();function _(){try{if(!g||!g.open)return!1;var i=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),l=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!i||l)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function y(i,l){i=i||[],l=l||{};try{return new Blob(i,l)}catch(u){if(u.name!=="TypeError")throw u;for(var s=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,f=new s,d=0;d<i.length;d+=1)f.append(i[d]);return f.getBlob(l.type)}}typeof Promise>"u"&&n(3);var v=Promise;function m(i,l){l&&i.then(function(s){l(null,s)},function(s){l(s)})}function E(i,l,s){typeof l=="function"&&i.then(l),typeof s=="function"&&i.catch(s)}function D(i){return typeof i!="string"&&(console.warn(i+" used as a key, but it is not a string."),i=String(i)),i}function R(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",T=void 0,C={},F=Object.prototype.toString,O="readonly",b="readwrite";function I(i){for(var l=i.length,s=new ArrayBuffer(l),f=new Uint8Array(s),d=0;d<l;d++)f[d]=i.charCodeAt(d);return s}function N(i){return new v(function(l){var s=i.transaction(P,b),f=y([""]);s.objectStore(P).put(f,"key"),s.onabort=function(d){d.preventDefault(),d.stopPropagation(),l(!1)},s.oncomplete=function(){var d=navigator.userAgent.match(/Chrome\/(\d+)/),u=navigator.userAgent.match(/Edge\//);l(u||!d||parseInt(d[1],10)>=43)}}).catch(function(){return!1})}function k(i){return typeof T=="boolean"?v.resolve(T):N(i).then(function(l){return T=l,T})}function H(i){var l=C[i.name],s={};s.promise=new v(function(f,d){s.resolve=f,s.reject=d}),l.deferredOperations.push(s),l.dbReady?l.dbReady=l.dbReady.then(function(){return s.promise}):l.dbReady=s.promise}function V(i){var l=C[i.name],s=l.deferredOperations.pop();if(s)return s.resolve(),s.promise}function ee(i,l){var s=C[i.name],f=s.deferredOperations.pop();if(f)return f.reject(l),f.promise}function te(i,l){return new v(function(s,f){if(C[i.name]=C[i.name]||$e(),i.db)if(l)H(i),i.db.close();else return s(i.db);var d=[i.name];l&&d.push(i.version);var u=g.open.apply(g,d);l&&(u.onupgradeneeded=function(p){var w=u.result;try{w.createObjectStore(i.storeName),p.oldVersion<=1&&w.createObjectStore(P)}catch(x){if(x.name==="ConstraintError")console.warn('The database "'+i.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+i.storeName+'" already exists.');else throw x}}),u.onerror=function(p){p.preventDefault(),f(u.error)},u.onsuccess=function(){var p=u.result;p.onversionchange=function(w){w.target.close()},s(p),V(i)}})}function J(i){return te(i,!1)}function ue(i){return te(i,!0)}function _e(i,l){if(!i.db)return!0;var s=!i.db.objectStoreNames.contains(i.storeName),f=i.version<i.db.version,d=i.version>i.db.version;if(f&&(i.version!==l&&console.warn('The database "'+i.name+`" can't be downgraded from version `+i.db.version+" to version "+i.version+"."),i.version=i.db.version),d||s){if(s){var u=i.db.version+1;u>i.version&&(i.version=u)}return!0}return!1}function ae(i){return new v(function(l,s){var f=new FileReader;f.onerror=s,f.onloadend=function(d){var u=btoa(d.target.result||"");l({__local_forage_encoded_blob:!0,data:u,type:i.type})},f.readAsBinaryString(i)})}function ge(i){var l=I(atob(i.data));return y([l],{type:i.type})}function xe(i){return i&&i.__local_forage_encoded_blob}function De(i){var l=this,s=l._initReady().then(function(){var f=C[l._dbInfo.name];if(f&&f.dbReady)return f.dbReady});return E(s,i,i),s}function Se(i){H(i);for(var l=C[i.name],s=l.forages,f=0;f<s.length;f++){var d=s[f];d._dbInfo.db&&(d._dbInfo.db.close(),d._dbInfo.db=null)}return i.db=null,J(i).then(function(u){return i.db=u,_e(i)?ue(i):u}).then(function(u){i.db=l.db=u;for(var p=0;p<s.length;p++)s[p]._dbInfo.db=u}).catch(function(u){throw ee(i,u),u})}function re(i,l,s,f){f===void 0&&(f=1);try{var d=i.db.transaction(i.storeName,l);s(null,d)}catch(u){if(f>0&&(!i.db||u.name==="InvalidStateError"||u.name==="NotFoundError"))return v.resolve().then(function(){if(!i.db||u.name==="NotFoundError"&&!i.db.objectStoreNames.contains(i.storeName)&&i.version<=i.db.version)return i.db&&(i.version=i.db.version+1),ue(i)}).then(function(){return Se(i).then(function(){re(i,l,s,f-1)})}).catch(s);s(u)}}function $e(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function W(i){var l=this,s={db:null};if(i)for(var f in i)s[f]=i[f];var d=C[s.name];d||(d=$e(),C[s.name]=d),d.forages.push(l),l._initReady||(l._initReady=l.ready,l.ready=De);var u=[];function p(){return v.resolve()}for(var w=0;w<d.forages.length;w++){var x=d.forages[w];x!==l&&u.push(x._initReady().catch(p))}var S=d.forages.slice(0);return v.all(u).then(function(){return s.db=d.db,J(s)}).then(function($){return s.db=$,_e(s,l._defaultConfig.version)?ue(s):$}).then(function($){s.db=d.db=$,l._dbInfo=s;for(var A=0;A<S.length;A++){var L=S[A];L!==l&&(L._dbInfo.db=s.db,L._dbInfo.version=s.version)}})}function ie(i,l){var s=this;i=D(i);var f=new v(function(d,u){s.ready().then(function(){re(s._dbInfo,O,function(p,w){if(p)return u(p);try{var x=w.objectStore(s._dbInfo.storeName),S=x.get(i);S.onsuccess=function(){var $=S.result;$===void 0&&($=null),xe($)&&($=ge($)),d($)},S.onerror=function(){u(S.error)}}catch($){u($)}})}).catch(u)});return m(f,l),f}function K(i,l){var s=this,f=new v(function(d,u){s.ready().then(function(){re(s._dbInfo,O,function(p,w){if(p)return u(p);try{var x=w.objectStore(s._dbInfo.storeName),S=x.openCursor(),$=1;S.onsuccess=function(){var A=S.result;if(A){var L=A.value;xe(L)&&(L=ge(L));var U=i(L,A.key,$++);U!==void 0?d(U):A.continue()}else d()},S.onerror=function(){u(S.error)}}catch(A){u(A)}})}).catch(u)});return m(f,l),f}function ve(i,l,s){var f=this;i=D(i);var d=new v(function(u,p){var w;f.ready().then(function(){return w=f._dbInfo,F.call(l)==="[object Blob]"?k(w.db).then(function(x){return x?l:ae(l)}):l}).then(function(x){re(f._dbInfo,b,function(S,$){if(S)return p(S);try{var A=$.objectStore(f._dbInfo.storeName);x===null&&(x=void 0);var L=A.put(x,i);$.oncomplete=function(){x===void 0&&(x=null),u(x)},$.onabort=$.onerror=function(){var U=L.error?L.error:L.transaction.error;p(U)}}catch(U){p(U)}})}).catch(p)});return m(d,s),d}function Re(i,l){var s=this;i=D(i);var f=new v(function(d,u){s.ready().then(function(){re(s._dbInfo,b,function(p,w){if(p)return u(p);try{var x=w.objectStore(s._dbInfo.storeName),S=x.delete(i);w.oncomplete=function(){d()},w.onerror=function(){u(S.error)},w.onabort=function(){var $=S.error?S.error:S.transaction.error;u($)}}catch($){u($)}})}).catch(u)});return m(f,l),f}function Le(i){var l=this,s=new v(function(f,d){l.ready().then(function(){re(l._dbInfo,b,function(u,p){if(u)return d(u);try{var w=p.objectStore(l._dbInfo.storeName),x=w.clear();p.oncomplete=function(){f()},p.onabort=p.onerror=function(){var S=x.error?x.error:x.transaction.error;d(S)}}catch(S){d(S)}})}).catch(d)});return m(s,i),s}function Fe(i){var l=this,s=new v(function(f,d){l.ready().then(function(){re(l._dbInfo,O,function(u,p){if(u)return d(u);try{var w=p.objectStore(l._dbInfo.storeName),x=w.count();x.onsuccess=function(){f(x.result)},x.onerror=function(){d(x.error)}}catch(S){d(S)}})}).catch(d)});return m(s,i),s}function ke(i,l){var s=this,f=new v(function(d,u){if(i<0){d(null);return}s.ready().then(function(){re(s._dbInfo,O,function(p,w){if(p)return u(p);try{var x=w.objectStore(s._dbInfo.storeName),S=!1,$=x.openKeyCursor();$.onsuccess=function(){var A=$.result;if(!A){d(null);return}i===0||S?d(A.key):(S=!0,A.advance(i))},$.onerror=function(){u($.error)}}catch(A){u(A)}})}).catch(u)});return m(f,l),f}function tt(i){var l=this,s=new v(function(f,d){l.ready().then(function(){re(l._dbInfo,O,function(u,p){if(u)return d(u);try{var w=p.objectStore(l._dbInfo.storeName),x=w.openKeyCursor(),S=[];x.onsuccess=function(){var $=x.result;if(!$){f(S);return}S.push($.key),$.continue()},x.onerror=function(){d(x.error)}}catch($){d($)}})}).catch(d)});return m(s,i),s}function wt(i,l){l=R.apply(this,arguments);var s=this.config();i=typeof i!="function"&&i||{},i.name||(i.name=i.name||s.name,i.storeName=i.storeName||s.storeName);var f=this,d;if(!i.name)d=v.reject("Invalid arguments");else{var u=i.name===s.name&&f._dbInfo.db,p=u?v.resolve(f._dbInfo.db):J(i).then(function(w){var x=C[i.name],S=x.forages;x.db=w;for(var $=0;$<S.length;$++)S[$]._dbInfo.db=w;return w});i.storeName?d=p.then(function(w){if(w.objectStoreNames.contains(i.storeName)){var x=w.version+1;H(i);var S=C[i.name],$=S.forages;w.close();for(var A=0;A<$.length;A++){var L=$[A];L._dbInfo.db=null,L._dbInfo.version=x}var U=new v(function(j,ne){var Q=g.open(i.name,x);Q.onerror=function(be){var ft=Q.result;ft.close(),ne(be)},Q.onupgradeneeded=function(){var be=Q.result;be.deleteObjectStore(i.storeName)},Q.onsuccess=function(){var be=Q.result;be.close(),j(be)}});return U.then(function(j){S.db=j;for(var ne=0;ne<$.length;ne++){var Q=$[ne];Q._dbInfo.db=j,V(Q._dbInfo)}}).catch(function(j){throw(ee(i,j)||v.resolve()).catch(function(){}),j})}}):d=p.then(function(w){H(i);var x=C[i.name],S=x.forages;w.close();for(var $=0;$<S.length;$++){var A=S[$];A._dbInfo.db=null}var L=new v(function(U,j){var ne=g.deleteDatabase(i.name);ne.onerror=function(){var Q=ne.result;Q&&Q.close(),j(ne.error)},ne.onblocked=function(){console.warn('dropInstance blocked for database "'+i.name+'" until all open connections are closed')},ne.onsuccess=function(){var Q=ne.result;Q&&Q.close(),U(Q)}});return L.then(function(U){x.db=U;for(var j=0;j<S.length;j++){var ne=S[j];V(ne._dbInfo)}}).catch(function(U){throw(ee(i,U)||v.resolve()).catch(function(){}),U})})}return m(d,l),d}var _t={_driver:"asyncStorage",_initStorage:W,_support:_(),iterate:K,getItem:ie,setItem:ve,removeItem:Re,clear:Le,length:Fe,key:ke,keys:tt,dropInstance:wt};function Ht(){return typeof openDatabase=="function"}var Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We="~~local_forage_type~",nt=/^~~local_forage_type~([^~]+)~/,ze="__lfsc__:",rt=ze.length,He="arbf",it="blob",ot="si08",xt="ui08",St="uic8",Ve="si16",$t="si32",st="ur16",at="ui32",lt="fl32",le="fl64",pe=rt+He.length,ct=Object.prototype.toString;function bn(i){var l=i.length*.75,s=i.length,f,d=0,u,p,w,x;i[i.length-1]==="="&&(l--,i[i.length-2]==="="&&l--);var S=new ArrayBuffer(l),$=new Uint8Array(S);for(f=0;f<s;f+=4)u=Ee.indexOf(i[f]),p=Ee.indexOf(i[f+1]),w=Ee.indexOf(i[f+2]),x=Ee.indexOf(i[f+3]),$[d++]=u<<2|p>>4,$[d++]=(p&15)<<4|w>>2,$[d++]=(w&3)<<6|x&63;return S}function Vt(i){var l=new Uint8Array(i),s="",f;for(f=0;f<l.length;f+=3)s+=Ee[l[f]>>2],s+=Ee[(l[f]&3)<<4|l[f+1]>>4],s+=Ee[(l[f+1]&15)<<2|l[f+2]>>6],s+=Ee[l[f+2]&63];return l.length%3===2?s=s.substring(0,s.length-1)+"=":l.length%3===1&&(s=s.substring(0,s.length-2)+"=="),s}function nr(i,l){var s="";if(i&&(s=ct.call(i)),i&&(s==="[object ArrayBuffer]"||i.buffer&&ct.call(i.buffer)==="[object ArrayBuffer]")){var f,d=ze;i instanceof ArrayBuffer?(f=i,d+=He):(f=i.buffer,s==="[object Int8Array]"?d+=ot:s==="[object Uint8Array]"?d+=xt:s==="[object Uint8ClampedArray]"?d+=St:s==="[object Int16Array]"?d+=Ve:s==="[object Uint16Array]"?d+=st:s==="[object Int32Array]"?d+=$t:s==="[object Uint32Array]"?d+=at:s==="[object Float32Array]"?d+=lt:s==="[object Float64Array]"?d+=le:l(new Error("Failed to get type for BinaryArray"))),l(d+Vt(f))}else if(s==="[object Blob]"){var u=new FileReader;u.onload=function(){var p=We+i.type+"~"+Vt(this.result);l(ze+it+p)},u.readAsArrayBuffer(i)}else try{l(JSON.stringify(i))}catch(p){console.error("Couldn't convert value into a JSON string: ",i),l(null,p)}}function rr(i){if(i.substring(0,rt)!==ze)return JSON.parse(i);var l=i.substring(pe),s=i.substring(rt,pe),f;if(s===it&&nt.test(l)){var d=l.match(nt);f=d[1],l=l.substring(d[0].length)}var u=bn(l);switch(s){case He:return u;case it:return y([u],{type:f});case ot:return new Int8Array(u);case xt:return new Uint8Array(u);case St:return new Uint8ClampedArray(u);case Ve:return new Int16Array(u);case st:return new Uint16Array(u);case $t:return new Int32Array(u);case at:return new Uint32Array(u);case lt:return new Float32Array(u);case le:return new Float64Array(u);default:throw new Error("Unkown type: "+s)}}var Kt={serialize:nr,deserialize:rr,stringToBuffer:bn,bufferToString:Vt};function wn(i,l,s,f){i.executeSql("CREATE TABLE IF NOT EXISTS "+l.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],s,f)}function ir(i){var l=this,s={db:null};if(i)for(var f in i)s[f]=typeof i[f]!="string"?i[f].toString():i[f];var d=new v(function(u,p){try{s.db=openDatabase(s.name,String(s.version),s.description,s.size)}catch(w){return p(w)}s.db.transaction(function(w){wn(w,s,function(){l._dbInfo=s,u()},function(x,S){p(S)})},p)});return s.serializer=Kt,d}function Me(i,l,s,f,d,u){i.executeSql(s,f,d,function(p,w){w.code===w.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[l.storeName],function(x,S){S.rows.length?u(x,w):wn(x,l,function(){x.executeSql(s,f,d,u)},u)},u):u(p,w)},u)}function or(i,l){var s=this;i=D(i);var f=new v(function(d,u){s.ready().then(function(){var p=s._dbInfo;p.db.transaction(function(w){Me(w,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[i],function(x,S){var $=S.rows.length?S.rows.item(0).value:null;$&&($=p.serializer.deserialize($)),d($)},function(x,S){u(S)})})}).catch(u)});return m(f,l),f}function sr(i,l){var s=this,f=new v(function(d,u){s.ready().then(function(){var p=s._dbInfo;p.db.transaction(function(w){Me(w,p,"SELECT * FROM "+p.storeName,[],function(x,S){for(var $=S.rows,A=$.length,L=0;L<A;L++){var U=$.item(L),j=U.value;if(j&&(j=p.serializer.deserialize(j)),j=i(j,U.key,L+1),j!==void 0){d(j);return}}d()},function(x,S){u(S)})})}).catch(u)});return m(f,l),f}function _n(i,l,s,f){var d=this;i=D(i);var u=new v(function(p,w){d.ready().then(function(){l===void 0&&(l=null);var x=l,S=d._dbInfo;S.serializer.serialize(l,function($,A){A?w(A):S.db.transaction(function(L){Me(L,S,"INSERT OR REPLACE INTO "+S.storeName+" (key, value) VALUES (?, ?)",[i,$],function(){p(x)},function(U,j){w(j)})},function(L){if(L.code===L.QUOTA_ERR){if(f>0){p(_n.apply(d,[i,x,s,f-1]));return}w(L)}})})}).catch(w)});return m(u,s),u}function ar(i,l,s){return _n.apply(this,[i,l,s,1])}function lr(i,l){var s=this;i=D(i);var f=new v(function(d,u){s.ready().then(function(){var p=s._dbInfo;p.db.transaction(function(w){Me(w,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[i],function(){d()},function(x,S){u(S)})})}).catch(u)});return m(f,l),f}function cr(i){var l=this,s=new v(function(f,d){l.ready().then(function(){var u=l._dbInfo;u.db.transaction(function(p){Me(p,u,"DELETE FROM "+u.storeName,[],function(){f()},function(w,x){d(x)})})}).catch(d)});return m(s,i),s}function ur(i){var l=this,s=new v(function(f,d){l.ready().then(function(){var u=l._dbInfo;u.db.transaction(function(p){Me(p,u,"SELECT COUNT(key) as c FROM "+u.storeName,[],function(w,x){var S=x.rows.item(0).c;f(S)},function(w,x){d(x)})})}).catch(d)});return m(s,i),s}function fr(i,l){var s=this,f=new v(function(d,u){s.ready().then(function(){var p=s._dbInfo;p.db.transaction(function(w){Me(w,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[i+1],function(x,S){var $=S.rows.length?S.rows.item(0).key:null;d($)},function(x,S){u(S)})})}).catch(u)});return m(f,l),f}function dr(i){var l=this,s=new v(function(f,d){l.ready().then(function(){var u=l._dbInfo;u.db.transaction(function(p){Me(p,u,"SELECT key FROM "+u.storeName,[],function(w,x){for(var S=[],$=0;$<x.rows.length;$++)S.push(x.rows.item($).key);f(S)},function(w,x){d(x)})})}).catch(d)});return m(s,i),s}function hr(i){return new v(function(l,s){i.transaction(function(f){f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(d,u){for(var p=[],w=0;w<u.rows.length;w++)p.push(u.rows.item(w).name);l({db:i,storeNames:p})},function(d,u){s(u)})},function(f){s(f)})})}function gr(i,l){l=R.apply(this,arguments);var s=this.config();i=typeof i!="function"&&i||{},i.name||(i.name=i.name||s.name,i.storeName=i.storeName||s.storeName);var f=this,d;return i.name?d=new v(function(u){var p;i.name===s.name?p=f._dbInfo.db:p=openDatabase(i.name,"","",0),i.storeName?u({db:p,storeNames:[i.storeName]}):u(hr(p))}).then(function(u){return new v(function(p,w){u.db.transaction(function(x){function S(U){return new v(function(j,ne){x.executeSql("DROP TABLE IF EXISTS "+U,[],function(){j()},function(Q,be){ne(be)})})}for(var $=[],A=0,L=u.storeNames.length;A<L;A++)$.push(S(u.storeNames[A]));v.all($).then(function(){p()}).catch(function(U){w(U)})},function(x){w(x)})})}):d=v.reject("Invalid arguments"),m(d,l),d}var vr={_driver:"webSQLStorage",_initStorage:ir,_support:Ht(),iterate:sr,getItem:or,setItem:ar,removeItem:lr,clear:cr,length:ur,key:fr,keys:dr,dropInstance:gr};function pr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function xn(i,l){var s=i.name+"/";return i.storeName!==l.storeName&&(s+=i.storeName+"/"),s}function yr(){var i="_localforage_support_test";try{return localStorage.setItem(i,!0),localStorage.removeItem(i),!1}catch{return!0}}function mr(){return!yr()||localStorage.length>0}function br(i){var l=this,s={};if(i)for(var f in i)s[f]=i[f];return s.keyPrefix=xn(i,l._defaultConfig),mr()?(l._dbInfo=s,s.serializer=Kt,v.resolve()):v.reject()}function wr(i){var l=this,s=l.ready().then(function(){for(var f=l._dbInfo.keyPrefix,d=localStorage.length-1;d>=0;d--){var u=localStorage.key(d);u.indexOf(f)===0&&localStorage.removeItem(u)}});return m(s,i),s}function _r(i,l){var s=this;i=D(i);var f=s.ready().then(function(){var d=s._dbInfo,u=localStorage.getItem(d.keyPrefix+i);return u&&(u=d.serializer.deserialize(u)),u});return m(f,l),f}function xr(i,l){var s=this,f=s.ready().then(function(){for(var d=s._dbInfo,u=d.keyPrefix,p=u.length,w=localStorage.length,x=1,S=0;S<w;S++){var $=localStorage.key(S);if($.indexOf(u)===0){var A=localStorage.getItem($);if(A&&(A=d.serializer.deserialize(A)),A=i(A,$.substring(p),x++),A!==void 0)return A}}});return m(f,l),f}function Sr(i,l){var s=this,f=s.ready().then(function(){var d=s._dbInfo,u;try{u=localStorage.key(i)}catch{u=null}return u&&(u=u.substring(d.keyPrefix.length)),u});return m(f,l),f}function $r(i){var l=this,s=l.ready().then(function(){for(var f=l._dbInfo,d=localStorage.length,u=[],p=0;p<d;p++){var w=localStorage.key(p);w.indexOf(f.keyPrefix)===0&&u.push(w.substring(f.keyPrefix.length))}return u});return m(s,i),s}function Er(i){var l=this,s=l.keys().then(function(f){return f.length});return m(s,i),s}function Cr(i,l){var s=this;i=D(i);var f=s.ready().then(function(){var d=s._dbInfo;localStorage.removeItem(d.keyPrefix+i)});return m(f,l),f}function Ar(i,l,s){var f=this;i=D(i);var d=f.ready().then(function(){l===void 0&&(l=null);var u=l;return new v(function(p,w){var x=f._dbInfo;x.serializer.serialize(l,function(S,$){if($)w($);else try{localStorage.setItem(x.keyPrefix+i,S),p(u)}catch(A){(A.name==="QuotaExceededError"||A.name==="NS_ERROR_DOM_QUOTA_REACHED")&&w(A),w(A)}})})});return m(d,s),d}function Ir(i,l){if(l=R.apply(this,arguments),i=typeof i!="function"&&i||{},!i.name){var s=this.config();i.name=i.name||s.name,i.storeName=i.storeName||s.storeName}var f=this,d;return i.name?d=new v(function(u){i.storeName?u(xn(i,f._defaultConfig)):u(i.name+"/")}).then(function(u){for(var p=localStorage.length-1;p>=0;p--){var w=localStorage.key(p);w.indexOf(u)===0&&localStorage.removeItem(w)}}):d=v.reject("Invalid arguments"),m(d,l),d}var Dr={_driver:"localStorageWrapper",_initStorage:br,_support:pr(),iterate:xr,getItem:_r,setItem:Ar,removeItem:Cr,clear:wr,length:Er,key:Sr,keys:$r,dropInstance:Ir},Nr=function(l,s){return l===s||typeof l=="number"&&typeof s=="number"&&isNaN(l)&&isNaN(s)},Pr=function(l,s){for(var f=l.length,d=0;d<f;){if(Nr(l[d],s))return!0;d++}return!1},Sn=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"},ut={},$n={},Ke={INDEXEDDB:_t,WEBSQL:vr,LOCALSTORAGE:Dr},Tr=[Ke.INDEXEDDB._driver,Ke.WEBSQL._driver,Ke.LOCALSTORAGE._driver],Et=["dropInstance"],qt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Et),Rr={description:"",driver:Tr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function kr(i,l){i[l]=function(){var s=arguments;return i.ready().then(function(){return i[l].apply(i,s)})}}function Jt(){for(var i=1;i<arguments.length;i++){var l=arguments[i];if(l)for(var s in l)l.hasOwnProperty(s)&&(Sn(l[s])?arguments[0][s]=l[s].slice():arguments[0][s]=l[s])}return arguments[0]}var Mr=function(){function i(l){c(this,i);for(var s in Ke)if(Ke.hasOwnProperty(s)){var f=Ke[s],d=f._driver;this[s]=d,ut[d]||this.defineDriver(f)}this._defaultConfig=Jt({},Rr),this._config=Jt({},this._defaultConfig,l),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i.prototype.config=function(s){if((typeof s>"u"?"undefined":a(s))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var f in s){if(f==="storeName"&&(s[f]=s[f].replace(/\W/g,"_")),f==="version"&&typeof s[f]!="number")return new Error("Database version must be a number.");this._config[f]=s[f]}return"driver"in s&&s.driver?this.setDriver(this._config.driver):!0}else return typeof s=="string"?this._config[s]:this._config},i.prototype.defineDriver=function(s,f,d){var u=new v(function(p,w){try{var x=s._driver,S=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!s._driver){w(S);return}for(var $=qt.concat("_initStorage"),A=0,L=$.length;A<L;A++){var U=$[A],j=!Pr(Et,U);if((j||s[U])&&typeof s[U]!="function"){w(S);return}}var ne=function(){for(var ft=function(Lr){return function(){var Fr=new Error("Method "+Lr+" is not implemented by the current driver"),En=v.reject(Fr);return m(En,arguments[arguments.length-1]),En}},Qt=0,Or=Et.length;Qt<Or;Qt++){var Xt=Et[Qt];s[Xt]||(s[Xt]=ft(Xt))}};ne();var Q=function(ft){ut[x]&&console.info("Redefining LocalForage driver: "+x),ut[x]=s,$n[x]=ft,p()};"_support"in s?s._support&&typeof s._support=="function"?s._support().then(Q,w):Q(!!s._support):Q(!0)}catch(be){w(be)}});return E(u,f,d),u},i.prototype.driver=function(){return this._driver||null},i.prototype.getDriver=function(s,f,d){var u=ut[s]?v.resolve(ut[s]):v.reject(new Error("Driver not found."));return E(u,f,d),u},i.prototype.getSerializer=function(s){var f=v.resolve(Kt);return E(f,s),f},i.prototype.ready=function(s){var f=this,d=f._driverSet.then(function(){return f._ready===null&&(f._ready=f._initDriver()),f._ready});return E(d,s,s),d},i.prototype.setDriver=function(s,f,d){var u=this;Sn(s)||(s=[s]);var p=this._getSupportedDrivers(s);function w(){u._config.driver=u.driver()}function x(A){return u._extend(A),w(),u._ready=u._initStorage(u._config),u._ready}function S(A){return function(){var L=0;function U(){for(;L<A.length;){var j=A[L];return L++,u._dbInfo=null,u._ready=null,u.getDriver(j).then(x).catch(U)}w();var ne=new Error("No available storage method found.");return u._driverSet=v.reject(ne),u._driverSet}return U()}}var $=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=$.then(function(){var A=p[0];return u._dbInfo=null,u._ready=null,u.getDriver(A).then(function(L){u._driver=L._driver,w(),u._wrapLibraryMethodsWithReady(),u._initDriver=S(p)})}).catch(function(){w();var A=new Error("No available storage method found.");return u._driverSet=v.reject(A),u._driverSet}),E(this._driverSet,f,d),this._driverSet},i.prototype.supports=function(s){return!!$n[s]},i.prototype._extend=function(s){Jt(this,s)},i.prototype._getSupportedDrivers=function(s){for(var f=[],d=0,u=s.length;d<u;d++){var p=s[d];this.supports(p)&&f.push(p)}return f},i.prototype._wrapLibraryMethodsWithReady=function(){for(var s=0,f=qt.length;s<f;s++)kr(this,qt[s])},i.prototype.createInstance=function(s){return new i(s)},i}(),Br=new Mr;r.exports=Br},{3:3}]},{},[4])(4)})})(Hn);var ui=Hn.exports;const je=ci(ui),[fi,Mt]=M({show:!1,title:"",message:""});function Vn(e){e=new Date(e);let t=e.getMonth()+1;t<10&&(t=`0${t}`);let n=e.getDate();return n<10&&(n=`0${n}`),`${n}.${t}.${e.getFullYear()}`}function di(e){e=new Date(e);let t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getMonth(),r=String(e.getFullYear());return`${t[n]} ${r.substring(2,4)}`}function Bt(e){e=new Date(e);let t=e.getMonth()+1;t<10&&(t=`0${t}`);let n=e.getDate();return n<10&&(n=`0${n}`),`${e.getFullYear()}-${t}-${n}`}function Ce(e){return e=new Date(e),Number(e)}function Je(){let t=new Date(Date.now()).getMonth()+1;return t<10&&(t=`0${t}`),t}function Be(){let t=new Date(Date.now()).getFullYear();return String(t)}function Pn(e,t){return new Date(e,Number(t),0).getDate()}function hn(){let e=new Date(Date.now()),t=e.getDate(),n=e.getMonth(),r=e.getFullYear();return Ce(new Date(r,n,t))}je.config({name:"work-diary"});const[Ie,vt]=M([]),[Ae,Ot]=M({sections:[]});function hi(){je.getItem("gardenPlan").then(e=>{e&&Ot(JSON.parse(e))}).catch(e=>console.log(e))}function gn(){let e=JSON.stringify(Ae());je.setItem("gardenPlan",e).catch(t=>console.log(t))}function gi(){je.getItem("diary").then(e=>{e&&vt(JSON.parse(e))}).catch(e=>console.log(e))}function Lt(){let e=JSON.stringify(Ie());je.setItem("diary",e).catch(t=>console.log(t))}const vi=()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({diary:Ie(),cultures:et(),gardenPlan:Ae()})),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","diary-export.json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},pi=e=>{let t=new FileReader;t.onload=n=>{try{let r=JSON.parse(n.target.result),o=r.diary,a=r.cultures,c=r.gardenPlan;vt(o),Lt(),mn(a),qn(),Ot(c),gn()}catch(r){Mt({show:!0,title:"error importing file",message:e.name+" "+r})}},t.onerror=n=>{console.log(n),Mt({show:!0,title:"error",message:"error importing diary data"})},t.readAsText(e)},[et,mn]=M([{name:"keine Kultur gewÃ¤hlt",id:"none"},{name:"Kartoffeln",id:"1"},{name:"Karotten",id:"2"},{name:"Bohnen",id:"3"},{name:"Salat",id:"4"}]);function Kn(){je.getItem("cultures").then(e=>{e&&mn(JSON.parse(e))}).catch(e=>console.log(e))}function qn(){let e=JSON.stringify(et());je.setItem("cultures",e).catch(t=>console.log(t))}function Jn(e){return et().find(n=>n.id===e).name}async function yi(e){let t=[],n=94608e6;return Ie().forEach(r=>{r.correspondingBed?.id===e&&(r.category==="Aussaat"||r.category==="Pflanzen/Setzen")&&r.culture!=="none"&&Date.now()-r.date<n&&t.push({rawDate:r.date,date:di(r.date),category:r.category,culture:Jn(r.culture)})}),t=t.sort((r,o)=>o.rawDate-r.rawDate),t}const vn=Symbol("store-raw"),Qe=Symbol("store-node"),Ne=Symbol("store-has"),Qn=Symbol("store-self");function Xn(e){let t=e[Ge];if(!t&&(Object.defineProperty(e,Ge,{value:t=new Proxy(e,wi)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,a=n.length;o<a;o++){const c=n[o];r[c].get&&Object.defineProperty(e,c,{enumerable:r[c].enumerable,get:r[c].get.bind(t)})}}return t}function Ft(e){let t;return e!=null&&typeof e=="object"&&(e[Ge]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function pt(e,t=new Set){let n,r,o,a;if(n=e!=null&&e[vn])return n;if(!Ft(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let c=0,h=e.length;c<h;c++)o=e[c],(r=pt(o,t))!==o&&(e[c]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const c=Object.keys(e),h=Object.getOwnPropertyDescriptors(e);for(let g=0,_=c.length;g<_;g++)a=c[g],!h[a].get&&(o=e[a],(r=pt(o,t))!==o&&(e[a]=r))}return e}function Wt(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function yt(e,t,n){if(e[t])return e[t];const[r,o]=M(n,{equals:!1,internal:!0});return r.$=o,e[t]=r}function mi(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Ge||t===Qe||(delete n.value,delete n.writable,n.get=()=>e[Ge][t]),n}function Zn(e){cn()&&yt(Wt(e,Qe),Qn)()}function bi(e){return Zn(e),Reflect.ownKeys(e)}const wi={get(e,t,n){if(t===vn)return e;if(t===Ge)return n;if(t===ln)return Zn(e),n;const r=Wt(e,Qe),o=r[t];let a=o?o():e[t];if(t===Qe||t===Ne||t==="__proto__")return a;if(!o){const c=Object.getOwnPropertyDescriptor(e,t);cn()&&(typeof a!="function"||e.hasOwnProperty(t))&&!(c&&c.get)&&(a=yt(r,t,a)())}return Ft(a)?Xn(a):a},has(e,t){return t===vn||t===Ge||t===ln||t===Qe||t===Ne||t==="__proto__"?!0:(cn()&&yt(Wt(e,Ne),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:bi,getOwnPropertyDescriptor:mi};function zt(e,t,n,r=!1){if(!r&&e[t]===n)return;const o=e[t],a=e.length;n===void 0?(delete e[t],e[Ne]&&e[Ne][t]&&o!==void 0&&e[Ne][t].$()):(e[t]=n,e[Ne]&&e[Ne][t]&&o===void 0&&e[Ne][t].$());let c=Wt(e,Qe),h;if((h=yt(c,t,o))&&h.$(()=>n),Array.isArray(e)&&e.length!==a){for(let g=e.length;g<a;g++)(h=c[g])&&h.$();(h=yt(c,"length",a))&&h.$(e.length)}(h=c[Qn])&&h.$()}function er(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];zt(e,o,t[o])}}function _i(e,t){if(typeof t=="function"&&(t=t(e)),t=pt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const o=t[n];e[n]!==o&&zt(e,n,o)}zt(e,"length",r)}else er(e,t)}function dt(e,t,n=[]){let r,o=e;if(t.length>1){r=t.shift();const c=typeof r,h=Array.isArray(e);if(Array.isArray(r)){for(let g=0;g<r.length;g++)dt(e,[r[g]].concat(t),n);return}else if(h&&c==="function"){for(let g=0;g<e.length;g++)r(e[g],g)&&dt(e,[g].concat(t),n);return}else if(h&&c==="object"){const{from:g=0,to:_=e.length-1,by:y=1}=r;for(let v=g;v<=_;v+=y)dt(e,[v].concat(t),n);return}else if(t.length>1){dt(e[r],t,[r].concat(n));return}o=e[r],n=[r].concat(n)}let a=t[0];typeof a=="function"&&(a=a(o,n),a===o)||r===void 0&&a==null||(a=pt(a),r===void 0||Ft(o)&&Ft(a)&&!Array.isArray(a)?er(o,a):zt(e,r,a))}function xi(...[e,t]){const n=pt(e||{}),r=Array.isArray(n),o=Xn(n);function a(...c){Gr(()=>{r&&c.length===1?_i(n,c[0]):dt(n,c)})}return[o,a]}const fe=Ur();function Si(e){const[t,n]=M(!1),[r,o]=M(null),[a,c]=M(!1),[h,g]=M(!1),[_,y]=M(!1),[v,m]=M(!1),[E,D]=M(!1),[R,P]=M(!1),[T,C]=M(!1),[F,O]=xi({return:null,highlight:null}),b=()=>({done:"both",dateBegin:0,dateEnd:hn(),category:"All"}),[I,N]=M(b()),k=()=>N(b()),H=()=>Ie().filter(J=>J.date>=I().dateBegin&&J.date<=I().dateEnd&&(I().done==="both"||I().done==="done"&&J.done===!0||I().done==="pending"&&J.done===!1)&&(I().category==="All"||I().category===J.category)).sort((J,ue)=>J.date-ue.date),V=["Pflege","Pflanzen/Setzen","Aussaat","Ernten","Boden","Pflanzenschutz","Anzucht","Umgebungsarbeiten","Anderes"];return Y(fe.Provider,{value:{showEditor:t,setShowEditor:n,openToEdit:r,setOpenToEdit:o,deleteHot:a,setDeleteHot:c,showMenu:h,setShowMenu:g,categorys:V,toastMessage:fi,setToastMessage:Mt,showReport:_,setShowReport:y,showFilter:v,setShowFilter:m,filter:I,setFilter:N,resetFilter:k,filteredDiary:H,showGardenMap:E,setShowGardenMap:D,showGardenMapEditor:R,setShowGardenMapEditor:P,bedCommunication:F,setBedCommunication:O,showCulturesEditor:T,setShowCulturesEditor:C},get children(){return e.children}})}var $i=Z('<article><header><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><button class="icon-button outline"><i class="fa-solid fa-trash-can"></i> </button></header><div><h6></h6><h6> </h6><h6></h6></div><p></p><footer><div class=diary-grid-1><label><input type=checkbox>done</label><p></p><p><i class="fa-regular fa-clock"></i><mark> minutes');function Ei(e){const{setOpenToEdit:t,deleteHot:n}=he(fe),r=a=>{vt([...Ie().map(c=>c.id===a.id?{...c,done:!c.done}:c=c)]),console.log(Ie()),Lt()},o=a=>a.culture==="none"?"-":et().find(h=>h.id===a.culture)?.name;return(()=>{var a=$i(),c=a.firstChild,h=c.firstChild,g=h.nextSibling,_=g.firstChild,y=c.nextSibling,v=y.firstChild,m=v.nextSibling;m.firstChild;var E=m.nextSibling,D=y.nextSibling,R=D.nextSibling,P=R.firstChild,T=P.firstChild,C=T.firstChild,F=T.nextSibling,O=F.nextSibling,b=O.firstChild,I=b.nextSibling,N=I.firstChild;return h.$$click=()=>t(e.entry.id),g.$$click=()=>e.deleteEntry(e.entry.id),y.style.setProperty("display","grid"),y.style.setProperty("grid-template-columns","1fr 2fr 1fr"),y.style.setProperty("gap",".5rem"),z(v,()=>e.entry.category),z(m,()=>o(e.entry),null),z(E,()=>e.entry.correspondingBed?.name),D.style.setProperty("white-space","pre-wrap"),z(D,()=>e.entry.work),C.$$click=()=>r(e.entry),z(F,()=>Vn(e.entry.date)),b.style.setProperty("font-size","1.3rem"),z(I,()=>e.entry.duration,N),G(()=>(n()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)")!=null?_.style.setProperty("color",n()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)"):_.style.removeProperty("color")),G(()=>C.checked=e.entry.done),a})()}we(["click"]);var Ci=Z('<button class="float primary"id=floating-button><i class="fa-solid fa-plus fa-2xl float-icon">');function Ai(e){const{showEditor:t,setShowEditor:n,showReport:r}=he(fe),[o,a]=M();return Te(()=>{setInterval(()=>{a(!0),setTimeout(()=>a(!1),400)},7e3)}),Y(Yn,{get when(){return!r()},get children(){var c=Ci();return c.$$click=()=>n(!t()),G(()=>ye(c,"buzz",o())),c}})}we(["click"]);let It;const Ii=new Uint8Array(16);function Di(){if(!It&&(It=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!It))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return It(Ii)}const oe=[];for(let e=0;e<256;++e)oe.push((e+256).toString(16).slice(1));function Ni(e,t=0){return oe[e[t+0]]+oe[e[t+1]]+oe[e[t+2]]+oe[e[t+3]]+"-"+oe[e[t+4]]+oe[e[t+5]]+"-"+oe[e[t+6]]+oe[e[t+7]]+"-"+oe[e[t+8]]+oe[e[t+9]]+"-"+oe[e[t+10]]+oe[e[t+11]]+oe[e[t+12]]+oe[e[t+13]]+oe[e[t+14]]+oe[e[t+15]]}let Tn,en,tn=0,nn=0;function Gt(e,t,n){let r=t&&n||0;const o=t||new Array(16);e=e||{};let a=e.node||Tn,c=e.clockseq!==void 0?e.clockseq:en;if(a==null||c==null){const m=e.random||(e.rng||Di)();a==null&&(a=Tn=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),c==null&&(c=en=(m[6]<<8|m[7])&16383)}let h=e.msecs!==void 0?e.msecs:Date.now(),g=e.nsecs!==void 0?e.nsecs:nn+1;const _=h-tn+(g-nn)/1e4;if(_<0&&e.clockseq===void 0&&(c=c+1&16383),(_<0||h>tn)&&e.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");tn=h,nn=g,en=c,h+=122192928e5;const y=((h&268435455)*1e4+g)%4294967296;o[r++]=y>>>24&255,o[r++]=y>>>16&255,o[r++]=y>>>8&255,o[r++]=y&255;const v=h/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=v&255,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=c>>>8|128,o[r++]=c&255;for(let m=0;m<6;++m)o[r+m]=a[m];return t||Ni(o)}var Pi=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><h4>add new Culture</h4><input type=text placeholder="Name of new Culture"><button> add Culture ');function Ti(){let e;const{showCulturesEditor:t,setShowCulturesEditor:n}=he(fe),[r,o]=M(""),[a,c]=M(!1);de(()=>{r().length>2&&c(!1)});const h=()=>{r().length<3&&c(!0);let g={name:r(),id:Gt()};mn([...et(),g]),qn(),o(""),t(!1)};return(()=>{var g=Pi(),_=g.firstChild,y=_.firstChild,v=y.firstChild,m=y.nextSibling,E=m.nextSibling,D=E.nextSibling;v.$$click=()=>n(!1),E.addEventListener("change",()=>o(e.value));var R=e;return typeof R=="function"?se(R,E):e=E,D.$$click=()=>h(),G(P=>{var T=t(),C=a();return T!==P.e&&ye(g,"open",P.e=T),C!==P.t&&ye(E,"aria-invalid",P.t=C),P},{e:void 0,t:void 0}),G(()=>E.value=r()),g})()}we(["click"]);var Ri=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-floppy-disk"></i></button><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><label><input type=checkbox>done</label><textarea rows=5 cols=40 placeholder="describe work"></textarea><input type=date><p></p><label for=duration>duration <mark></mark></label><input type=range id=duration min=0 max=240 step=5><fieldset role=group><input type=text readonly=true placeholder="no bed selected"><button class="secondary outline"><i class="fa-solid fa-location-dot"></i></button></fieldset><fieldset><legend>category</legend><select></select></fieldset><fieldset role=group><legend>culture</legend><select></select><button>Add Cultures'),Rn=Z("<option>");let rn;function ki(e){const{showEditor:t,setShowEditor:n,openToEdit:r,setOpenToEdit:o,categorys:a,showGardenMap:c,setShowGardenMap:h,bedCommunication:g,setBedCommunication:_,showCulturesEditor:y,setShowCulturesEditor:v}=he(fe),m=W=>{t()&&!rn.contains(W.target)&&!c&&n(!1)};Te(()=>{document.addEventListener("click",m,!0),Kn()}),Yt(()=>{document.removeEventListener("click",m,!0),_({return:null,highlight:!1})}),de(()=>{t()&&D({id:Date.now(),date:hn(),work:"",category:"Pflege",done:!0,duration:10,culture:0}),r()!==null?E(r()):D({id:Date.now(),date:hn(),work:"",category:"Pflege",done:!0,duration:10})});const E=W=>{const ie=Ie().find(K=>K.id===W);D(ie)},D=W=>{ue(W.id),I(W.done),C(W.work),O(W.date),V(W.category),k(W.duration),ae(W.correspondingBed?.id||null),xe(W.correspondingBed?.name||null),_("highlight",W.correspondingBed?.id||null),Se(W.culture||"none")};let R,P;const[T,C]=M(""),[F,O]=M(Date.now()),[b,I]=M(!1),[N,k]=M(10),[H,V]=M("Pflege"),[ee,te]=M(!1),[J,ue]=M(Gt()),[_e,ae]=M(null),[ge,xe]=M(null),[De,Se]=M("none");function re(W,ie){const[K,ve]=ie();G(()=>W.value=K()),W.oninput=Re=>ve(Re.target.value)}const $e=()=>{if(T().length<1){te(!0);return}let W={id:J(),work:T(),date:F(),done:b(),duration:N(),category:H(),correspondingBed:{id:_e(),name:ge()},culture:De()};e.saveNewEntry(W),n(!1),window.scrollTo(0,0)};return de(Xe(()=>T(),()=>te(!1))),de(()=>{if(g.return&&g.return!==!0){let W=g.return;_("return",null),h(!1),ae(W.id),xe(W.name)}}),(()=>{var W=Ri(),ie=W.firstChild,K=ie.firstChild,ve=K.firstChild,Re=ve.nextSibling,Le=K.nextSibling,Fe=Le.firstChild,ke=Le.nextSibling,tt=ke.nextSibling,wt=tt.nextSibling,_t=wt.nextSibling,Ht=_t.firstChild,Ee=Ht.nextSibling,We=_t.nextSibling,nt=We.nextSibling,ze=nt.firstChild,rt=ze.nextSibling,He=nt.nextSibling,it=He.firstChild,ot=it.nextSibling,xt=He.nextSibling,St=xt.firstChild,Ve=St.nextSibling,$t=Ve.nextSibling;z(W,Y(Ti,{}),ie);var st=rn;typeof st=="function"?se(st,ie):rn=ie,ve.$$click=()=>$e(),Re.$$click=()=>n(!1),Fe.addEventListener("change",()=>I(!b())),ke.$$input=()=>C(R.value);var at=R;typeof at=="function"?se(at,ke):R=ke,tt.addEventListener("change",le=>O(Ce(le.target.value))),z(wt,()=>Bt(F())),z(Ee,N),We.$$input=()=>k(P.value);var lt=P;return typeof lt=="function"?se(lt,We):P=We,rt.$$click=()=>{_("return",!0),h(!0)},se(re,ot,()=>[H,V]),z(ot,Y(Ye,{each:a,children:le=>(()=>{var pe=Rn();return pe.value=le,z(pe,le),pe})()})),se(re,Ve,()=>[De,Se]),z(Ve,Y(Ye,{get each(){return et()},children:le=>(()=>{var pe=Rn();return z(pe,()=>le.name),G(()=>pe.value=le.id),pe})()})),$t.$$click=()=>v(!0),G(le=>{var pe=t(),ct=ee();return pe!==le.e&&ye(W,"open",le.e=pe),ct!==le.t&&ye(ke,"aria-invalid",le.t=ct),le},{e:void 0,t:void 0}),G(()=>Fe.checked=b()),G(()=>ke.value=T()),G(()=>tt.value=Bt(F())),G(()=>We.value=N()),G(()=>ze.value=ge()),W})()}we(["click","input"]);var Mi=Z("<canvas height=600 id=report-canvas>");class Bi{constructor(t){t.width=window.innerWidth*.85,t.height=window.innerHeight*.8,t.style.background="white";let n=t.getContext("2d");n.fillStyle="black",this.canvas=t,this.context=n,console.log("canvas registered..."),this.initialY=25,this.y=this.initialY,this.indent=10}adjustHeight(){this.canvas.height=this.y+10}drawDone(){this.context.font='900 17px "Font Awesome 6 Free"',this.context.fillText("ï",this.indent,this.y)}drawPending(){this.context.font='900 17px "Font Awesome 6 Free"',this.context.fillText("ï",this.indent,this.y)}drawSeparator(){this.context.beginPath(),this.context.fillStyle="black",this.context.moveTo(10,this.y),this.context.lineTo(this.canvas.width-10,this.y),this.context.stroke(),this.y+=22}writeTitle(t){this.context.font="800 25px system-ui",this.context.fillText(t,this.indent,this.y),this.y+=35}writeSubtitle(t){this.y+=10,this.context.font="700 20px system-ui",this.context.fillText(t,this.indent,this.y),this.y+=25}writeCategory(t,n=10){this.context.font="700 15px system-ui",this.context.fillStyle="black",this.context.fillText(t,n,this.y),this.y+=22}writeLine(t,n=10){this.context.font="15px system-ui",this.context.fillStyle="black",this.context.fillText(t,n,this.y),this.y+=22}}function Oi(e){let t,n;Te(()=>{console.log("mountex"),n=new Bi(t)});function r(o){o.done?n.drawDone():n.drawPending();let a=o.category.toUpperCase();o.culture&&o.culture!=="keine Kultur gewÃ¤hlt"&&(a+="   "+o.culture.toUpperCase()),n.writeCategory(a,35);for(let c of o.work)c.length&&n.writeLine(c,35)}return de(()=>{let o=e.report;n.y=n.initialY;for(let a=0;a<2;a++)if(o){n.writeTitle("Work Report"),n.writeSubtitle("Zeitaufwand in Periode: "+o.totalTime),n.drawSeparator();for(let c in o.report){n.writeSubtitle(`${c}     ${o.report[c].duration} min`);for(let h of o.report[c].works)r(h);n.drawSeparator()}a===0&&(n.adjustHeight(),n.y=n.initialY)}}),(()=>{var o=Mi(),a=t;return typeof a=="function"?se(a,o):t=o,o})()}var Li=Z('<article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-share-nodes"></i></button><p>');const[Fi,pn]=M("");function kn(e){let t=0;e.forEach(r=>{t+=Number(r.duration)});let n={};return n.totalTime=`${t} min`,n.totalLines=0,n.report={},e.forEach(r=>{let o=Vn(r.date);o in n.report||(n.report[o]={works:[],duration:0}),n.report[o].duration+=Number(r.duration);let a=r.work.split(`
`);a=a.filter(c=>c.length>0),n.totalLines+=a.length,n.report[o].works.push({date:o,duration:r.duration,work:a,category:r.category,culture:Jn(r.culture),done:r.done})}),n}function Wi(e,t){for(var n=e.split(","),r=n[0].match(/:(.*?);/)[1],o=atob(n[n.length-1]),a=o.length,c=new Uint8Array(a);a--;)c[a]=o.charCodeAt(a);return new File([c],t,{type:r})}function zi(){var e=document.querySelector("#report-canvas");const t=e.toDataURL("image/png"),n=Wi(t,"report.png");pn("pending"),navigator.share({title:"Work Report",text:"hier ist der neuste Arbeitsraport",files:[n]}).then(()=>{pn("shared successfully")}).catch(r=>Mt({show:!0,title:"error while sharing report ",message:r}))}function Gi(){const{showReport:e,setShowReport:t,filter:n,filteredDiary:r}=he(fe),[o,a]=M(kn(r()));return Te(()=>{pn(" ")}),de(Xe(()=>n(),()=>{console.log("re run generate report"),a(kn(r())),console.log(o())})),(()=>{var c=Li(),h=c.firstChild,g=h.firstChild,_=g.nextSibling,y=_.nextSibling;return g.$$click=()=>t(!1),_.$$click=()=>zi(),z(y,()=>Fi()||" "),z(c,Y(Oi,{get report(){return o()}}),null),c})()}we(["click"]);var Ui=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><span><strong>Garden Map Editor </strong></span><div class=card><h4>Add new Section</h4><label>section Name<input name=sectionNameField placeholder="Name of new Section"></label><button>add Section</button></div><div class=card><h4>Add new Bed</h4><label>select Section<select><option>please choose section</option></select></label><label>bed Name<input name=bedNameField placeholder="Name of new bed"readonly=true></label><button>add Section'),Yi=Z("<option>");function ji(){let e,t,n;const{showGardenMapEditor:r,setShowGardenMapEditor:o}=he(fe),[a,c]=M(""),[h,g]=M(!1),[_,y]=M(""),[v,m]=M(!1);let E=null;de(()=>{a().length>2&&g(!1)});const D=()=>{if(a().length<3){g(!0);return}if(Ae().sections.find(C=>C.name===a())){g(!0);return}let T=Gt();Ae().sections.push({name:a(),id:T,beds:[]}),Ot({...Ae()}),gn(),c(""),g(!1)},R=T=>{if(T==="null"){m(!0);return}else m(!1);let C=Ae().sections.find(O=>String(O.id)===String(T));E=C;let F=C.beds.length+1;y(`${C.name} ${F}`)},P=()=>{E.beds.push({name:_(),id:Gt()}),Ot({...Ae()}),gn(),n.value="null",y("")};return(()=>{var T=Ui(),C=T.firstChild,F=C.firstChild,O=F.firstChild,b=O.nextSibling,I=b.nextSibling,N=I.firstChild,k=N.nextSibling,H=k.firstChild,V=H.nextSibling,ee=k.nextSibling,te=I.nextSibling,J=te.firstChild,ue=J.nextSibling,_e=ue.firstChild,ae=_e.nextSibling,ge=ae.firstChild,xe=ue.nextSibling,De=xe.firstChild,Se=De.nextSibling,re=xe.nextSibling;C.style.setProperty("min-height","100vh"),O.$$click=()=>o(!1),b.style.setProperty("font-size","1.5rem"),V.$$input=()=>c(e.value);var $e=e;typeof $e=="function"?se($e,V):e=V,ee.$$click=()=>D(a()),ae.addEventListener("change",()=>R(n.value));var W=n;typeof W=="function"?se(W,ae):n=ae,ge.value=null,z(ae,Y(Ye,{get each(){return Ae().sections},children:K=>(()=>{var ve=Yi();return z(ve,()=>K.name),G(()=>ve.value=K.id),ve})()}),null);var ie=t;return typeof ie=="function"?se(ie,Se):t=Se,re.$$click=()=>P(_()),G(K=>{var ve=r(),Re=h(),Le=v(),Fe=!_();return ve!==K.e&&ye(T,"open",K.e=ve),Re!==K.t&&ye(V,"aria-invalid",K.t=Re),Le!==K.a&&ye(ae,"aria-invalid",K.a=Le),Fe!==K.o&&(re.disabled=K.o=Fe),K},{e:void 0,t:void 0,a:void 0,o:void 0}),G(()=>V.value=a()),G(()=>Se.value=_()),T})()}we(["click","input"]);var Hi=Z("<div class=section><h4>");function Vi(e){return(()=>{var t=Hi(),n=t.firstChild;return z(n,()=>e.section.name),z(t,()=>e.children,null),t})()}var Ki=Z("<span class=history-index>"),qi=Z("<div><div class=bed-content><h6></h6><p></p><p>"),Ji=Z("<span> ");function Qi(e){let t;const{bedCommunication:n,setBedCommunication:r,setShowGardenMap:o,showGardenMap:a}=he(fe),[c,h]=M([]),[g,_]=M(0),[y,v]=M(!1),m=()=>{_(g()+1),g()>c().length-1&&_(0),t=setTimeout(()=>m(),2e3)};de(Xe(()=>a(),async()=>{t&&clearTimeout(t),h(await yi(e.bed.id)),t=setTimeout(()=>m(),2e3)}));const E=()=>{n.return===!0&&(r("return",e.bed),o(!1))};return de(()=>{n.highlight===e.bed.id?v(!0):v(!1)}),(()=>{var D=qi(),R=D.firstChild,P=R.firstChild,T=P.nextSibling,C=T.nextSibling;return D.$$click=()=>E(),z(P,()=>e.bed.name),z(T,()=>c()[g()]?.date),z(R,Y(Yn,{get when(){return c().length>0},get fallback(){return Ji()},get children(){var F=Ki();return z(F,()=>g()+1),F}}),C),z(C,()=>c()[g()]?.culture),G(()=>ei(D,y()?"bed highlight":"bed")),D})()}we(["click"]);const ht={canvas:null,context:null,width:null,height:null},on=()=>ht;function Xi(e,t,n){ht.canvas=e,ht.context=e.getContext("2d"),e.width=t,e.height=n,ht.width=t,ht.height=n}class B{constructor(t,n){this.x=t,this.y=n}static random2D(){const t=new B(Math.random()*200-100,Math.random()*200-100);return t.normalize(),t}static add(t,n){const r=new B(t.x,t.y);return r.add(n),r}static sub(t,n){const r=new B(t.x,t.y);return r.sub(n),r}static mult(t,n){const r=new B(t.x,t.y);return r.mult(n),r}static div(t,n){let r=new B(t.x,t.y);return r.div(n),r}static normalize(t){let n=new B(t.x,t.y);return n.normalize(),n}set(t,n){this.x=t,this.y=n}clone(){return new B(this.x,this.y)}add(t){this.x+=t.x,this.y+=t.y}sub(t){this.x-=t.x,this.y-=t.y}mult(t){this.x*=t,this.y*=t}div(t){this.x/=t,this.y/=t}dist(t){let n=t.clone();return n.sub(this),n.mag()}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}setMag(t){this.normalize(),this.mult(t)}limit(t){this.mag()>t&&this.setMag(t)}normalize(){let t=this.mag();t!==0&&this.mult(1/t)}setHeading(t){let n=this.mag();this.x=Math.sin(t)*n,this.y=Math.cos(t)*n}heading(){return Math.atan2(this.x,this.y)}rotate(t){let n=this.heading()+t;this.setHeading(n)}dot(t){let n=t.x,r=t.y;return t.z,this.x*(n||0)+this.y*(r||0)}}function Zi(e,t=0){return t===0?Math.random()*e:e+Math.random()*t}function eo(e,t,n){return(e-t)/(n-t)}function to(e,t,n){return(n-t)*e+t}function no(e,t,n,r,o){let a=eo(e,t,n);return to(a,r,o)}class ro{constructor(t,n,r){this.pos=new B(t,n),this.r=Math.sqrt(r)*4,this.mass=r,this.vel=B.random2D(),this.vel.setMag(Math.random()*.01+.01),this.acc=new B(0,0)}edges(){this.pos.y>=this.height-this.r&&(this.pos.y=this.height-this.r,this.vel.y*=-1,console.log("edge")),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.x*=-1,console.log("edge")),this.pos.x>=this.width-this.r&&(this.pos.x=this.width-this.r,this.vel.x*=-1,console.log("edge")),this.pos.y<=0+this.r&&(this.pos.y=0+this.r,this.vel.y*=-1,console.log("edge"))}contact(){return this.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=B.normalize(this.vel);t.mult(-1);let n=.01,r=this.mass;t.setMag(n*r),this.applyForce(t)}}drag(){let t=B.normalize(this.vel);t.mult(-1);let n=2,r=this.vel.mag();t.setMag(n*r*r),this.applyForce(t)}detract(t){let n=B.sub(this.pos,t.pos);if(n.mag()>40)return;n.mult(-1);let r=n.mag(),o=r*r,c=.7*(this.mass*t.mass)/o;n.setMag(c),t.applyForce(n)}attract(t){let n=B.sub(this.pos,t.pos),r=n.mag(),o=r*r,c=.1*(this.mass*t.mass)/o;n.setMag(c),t.applyForce(n)}applyForce(t){let n=B.div(t,this.mass);this.acc.add(n),this.dir=this.vel.heading()}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}draw(){this.context.translate(this.pos.x,this.pos.y);let t=new B(-this.r,-this.r),n=new B(this.r,-this.r),r=new B(0,this.r*2),o=this.vel.heading();t.rotate(o),n.rotate(o),r.rotate(o),context.beginPath(),context.moveTo(t.x,t.y),context.lineTo(n.x,n.y),context.lineTo(r.x,r.y),context.lineTo(t.x,t.y),this.contact()?context.fillStyle="#f005":context.fillStyle="#000",context.fill(),context.closePath(),context.translate(-this.pos.x,-this.pos.y)}}function io(e,t,n){let r=B.sub(t,e),o=B.sub(n,e);o.normalize();let a=r.dot(o);return o.mult(a),o.add(e),o}class oo extends ro{constructor(t,n){super(t,n,4),this.vel=B.random2D(),this.acc=new B(0,0),this.vel.setMag(4),this.size=16,this.maxSpeed=2,this.maxForce=.55,this.points=[],this.color="yellow",this.wanderTheta=0,this.wanderPoint=new B(0,0),this.path=[],this.count=0,this.showPath=!1}follow(t){let n=this.vel.clone();n.mult(20);let r=io(t.start,n,t.end);return n.dist(r)>t.r?this.seek(r):new B(0,0)}getShape(){return[new B(-this.size,-this.size),new B(this.size,-this.size),new B(-0,this.size)]}wander(){this.wanderPoint=this.vel.clone(),this.wanderPoint.setMag(100),this.wanderPoint.add(this.pos);let t=50,n=this.wanderTheta+this.vel.heading(),r=t*Math.cos(n),o=t*Math.sin(n);this.wanderPoint.add(new B(r,o));let a=B.sub(this.wanderPoint,this.pos);a.setMag(this.maxForce),this.applyForce(a);let c=.3;this.wanderTheta+=Zi(-c,c)}flee(t){let n=this.seek(t);return n.mult(-1),n}seek(t){let n=B.sub(t,this.pos);return n.setMag(this.maxSpeed),n.sub(this.vel),n.limit(this.maxForce),n}arrive(t){let n=100,r=B.sub(t,this.pos),o=r.mag();if(o<n){let a=no(o,0,n,0,this.maxSpeed);r.setMag(a)}else r.setMag(this.maxSpeed);return r.sub(this.vel),r.limit(this.maxForce),r}pursue(t){let n=t.pos.clone(),r=t.vel.clone();return r.mult(10),n.add(r),this.seek(n)}evade(t){let n=this.pursue(vehilce);return n.mult(-1),n}update(){this.count++,this.vel.add(this.acc),this.vel.limit(this.maxSpeed),this.acc.set(0,0),this.pos.add(this.vel);let t=this.vel.heading(),n=this.getShape();this.points=n.map(r=>(r.rotate(t),r)),this.showPath&&(this.count>3&&(this.path.push({x:this.pos.x,y:this.pos.y}),this.count=0),this.path.length>30&&this.path.shift())}draw(){this.context.beginPath(),this.context.fillStyle=this.color,this.context.moveTo(this.pos.x+this.points[0].x,this.pos.y+this.points[0].y),this.context.lineTo(this.pos.x+this.points[1].x,this.pos.y+this.points[1].y),this.context.lineTo(this.pos.x+this.points[2].x,this.pos.y+this.points[2].y),this.context.closePath(),this.context.fill(),point(this.wanderPoint.x,this.wanderPoint.y,5,"yellow"),this.showPath&&this.path.length>3&&this.drawPath()}drawPath(){this.context.beginPath(),this.context.moveTo(this.path[0].x,this.path[0].y),this.context.strokeStyle="white",this.context.lineWidth=2;for(let t=1;t<this.path.length-2;t+=2){let n=this.path[t],r=this.path[t+1];this.context.lineTo(n.x,n.y),this.context.lineTo(r.x,r.y)}this.context.stroke()}}class bt extends oo{constructor(){super(),this.context=on().context,this.width=on().width,this.height=on().height,this.center=new B(this.width/2,this.height/2)}clear(){this.context.reset()}animate(){this.clear(),this.wander(),this.update(),this.draw(),this.edges(),requestAnimationFrame(()=>this.animate())}}class so extends bt{constructor(){super(),this.hat=new ao,this.shoulderLeft=new lo,this.shoulderRight=new co,this.footRight=new uo,this.footLeft=new tr,this.pos=new B(this.center.x,this.center.y),this.vel=B.random2D(),this.vel.mult(2)}update(){super.update(),this.footLeft.advanceFoot(this.vel),this.footRight.advanceFoot(this.vel)}draw(){this.context.translate(this.pos.x,this.pos.y),this.context.rotate(Math.PI-this.vel.heading()),this.shoulderLeft.draw(),this.shoulderRight.draw(),this.footRight.draw(),this.footLeft.draw(),this.hat.draw(),this.context.resetTransform()}}class ao extends bt{constructor(){super()}draw(t=0,n=0){this.context.beginPath(),this.context.fillStyle="rgb(203, 179, 26)",this.context.ellipse(t,n,22,25,0,0,2*Math.PI),this.context.fill(),this.context.beginPath(),this.context.fillStyle="rgb(143, 124, 2)",this.context.ellipse(t,n,12,15,0,0,2*Math.PI),this.context.fill()}}class lo extends bt{constructor(){super(),this.pos=new B(-22,0)}draw(){this.context.beginPath(),this.context.fillStyle="blue",this.context.ellipse(this.pos.x,this.pos.y,12,8,0,0,2*Math.PI),this.context.fill()}}class co extends bt{constructor(){super(),this.pos=new B(22,0)}draw(){this.context.beginPath(),this.context.fillStyle="blue",this.context.ellipse(this.pos.x,this.pos.y,12,8,0,0,2*Math.PI),this.context.fill()}}class tr extends bt{constructor(){super(),this.pos=new B(-11,-20),this.movingAngle=0}advanceFoot(t){this.movingAngle+=.2,this.movingAngle>=2*Math.PI&&(this.movingAngle=0),t.mag(),this.pos.y+=Math.sin(this.movingAngle)*.6}draw(){this.context.beginPath(),this.context.fillStyle="black",this.context.ellipse(this.pos.x,this.pos.y,6,12,0,0,2*Math.PI),this.context.fill()}}class uo extends tr{constructor(){super(),this.pos=new B(11,-20),this.movingAngle=Math.PI}}var fo=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><span><strong>Garden Map</strong></span></header><div id=pile><div id=map></div><div><canvas id=garden-canvas>');function ho(){let e,t;const{showGardenMap:n,setShowGardenMap:r,showGardenMapEditor:o,setShowGardenMapEditor:a,bedCommunication:c,setBedCommunication:h}=he(fe);return M(!1),Te(()=>{hi(),Kn()}),de(Xe(()=>n(),()=>{if(n()===!1)return;Xi(e,t.clientWidth,t.clientHeight),new so().animate()})),(()=>{var g=fo(),_=g.firstChild,y=_.firstChild,v=y.firstChild,m=v.nextSibling,E=m.nextSibling,D=y.nextSibling,R=D.firstChild,P=R.nextSibling,T=P.firstChild;z(g,Y(ji,{}),_),_.style.setProperty("min-height","100vh"),_.style.setProperty("min-width","100vw"),_.style.setProperty("background-color","rgb(239, 215, 178)"),v.$$click=()=>r(!1),m.$$click=()=>a(!o()),E.style.setProperty("font-size","1.5rem");var C=t;typeof C=="function"?se(C,R):t=R,z(R,Y(Ye,{get each(){return Ae().sections},children:(O,b)=>Y(Vi,{section:O,get children(){return Y(Ye,{get each(){return Ae().sections[b()].beds},children:I=>Y(Qi,{bed:I})})}})}));var F=e;return typeof F=="function"?se(F,T):e=T,G(()=>ye(g,"open",n())),g})()}we(["click"]);var go=Z("<div>");function vo(){const{showEditor:e,setShowEditor:t,openToEdit:n,setOpenToEdit:r,deleteHot:o,setDeleteHot:a,showReport:c,filteredDiary:h}=he(fe);Te(async()=>{gi(),li()});const g=async y=>{console.log("setting new entry"),vt([y,...Ie().filter(v=>v.id!==y.id)]),console.log(Ie()),Lt()},_=async y=>{if(o()===!1){a(y),setTimeout(()=>a(!1),2e3);return}o()===y?(vt(Ie().filter(v=>v.id!==y)),Lt()):a(y)};return de(Xe(()=>n(),()=>{n()!==null&&t(!0)})),de(Xe(()=>e(),()=>{e()===!1&&r(null)})),(()=>{var y=go();return z(y,Y(Ai,{}),null),z(y,Y(ki,{saveNewEntry:g}),null),z(y,Y(ho,{}),null),z(y,Y(Qr,{get children(){return[Y(An,{get when(){return!c()},get children(){return Y(Ye,{get each(){return h()},children:v=>Y(Ei,{entry:v,deleteEntry:_})})}}),Y(An,{get when(){return c()},get children(){return Y(Gi,{})}})]}}),null),y})()}var po=Z('<nav><ul><li><h2><i class="fa-solid fa-person-digging"></i></h2></li></ul><ul><li><h6>Work Diary</h6></li></ul><ul><li><button class="icon-button outline no-outline"><i class="fa-solid fa-filter"></i></button></li><li><button class="icon-button outline no-outline"><i class="fa-solid fa-location-dot"></i></button></li><li><button class="icon-button outline no-outline"><i class="fa-solid fa-bars">');function yo(){const{showMenu:e,setShowMenu:t,showFilter:n,setShowFilter:r,setShowGardenMap:o}=he(fe);return(()=>{var a=po(),c=a.firstChild,h=c.nextSibling,g=h.nextSibling,_=g.firstChild,y=_.firstChild,v=_.nextSibling,m=v.firstChild,E=v.nextSibling,D=E.firstChild;return y.$$click=()=>r(!n()),m.$$click=()=>{o(!0)},D.$$click=()=>t(!e()),a})()}we(["click"]);var mo=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button><button class="icon-button outline"><i class="fa-solid fa-location-dot"></i></button></header><button>generate Report</button><hr><h6>export Data</h6><p>exports current data to your device<br>this can serve as an update</p><button>export Diary</button><hr><h6>import diary data</h6><p><mark>Caution!</mark> Existing data will be overwritten.</p><input type=file><button>import Diary');let sn,an;function bo(e){const{showMenu:t,setShowMenu:n,showReport:r,setShowReport:o,showGardenMap:a,setShowGardenMap:c}=he(fe),h=g=>{t()&&(sn.contains(g.target)||n(!1))};return Te(()=>{document.addEventListener("click",h,!0)}),Yt(()=>{document.removeEventListener("click",h,!0)}),(()=>{var g=mo(),_=g.firstChild,y=_.firstChild,v=y.firstChild,m=v.nextSibling,E=y.nextSibling,D=E.nextSibling,R=D.nextSibling,P=R.nextSibling,T=P.nextSibling,C=T.nextSibling,F=C.nextSibling,O=F.nextSibling,b=O.nextSibling,I=b.nextSibling,N=sn;typeof N=="function"?se(N,_):sn=_,v.$$click=()=>n(!1),m.$$click=()=>{c(!0),n(!1)},E.$$click=()=>{o(!0),n(!1)},T.$$click=()=>{vi(),n(!1)};var k=an;return typeof k=="function"?se(k,b):an=b,I.$$click=()=>{pi(an.files[0]),n(!1)},I.style.setProperty("background-color","var(--pico-del-color)"),G(()=>ye(g,"open",t())),g})()}we(["click"]);var wo=Z("<div id=toast><h3></h3><p>");function _o(){const{toastMessage:e,setToastMessage:t}=he(fe);return de(()=>{e().show&&setTimeout(()=>t(n=>({title:n.title,message:n.message,show:!1})),3e3)}),(()=>{var n=wo(),r=n.firstChild,o=r.nextSibling;return z(r,()=>e().title),z(o,()=>e().message),G(()=>ye(n,"open",e().show)),n})()}var xo=Z('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-caret-left"></i></button><button class="icon-button outline"><i class="fa-solid fa-filter-circle-xmark"></i></button></header><label>starting from:<input type=date></label><label>ending at:<input type=date></label><button>this year</button><button>this month</button><button>last month</button><fieldset><legend>done/pending</legend><label><input type=radio name=done-pending>done</label><label><input type=radio name=done-pending>pending</label><label><input type=radio name=done-pending>both</label></fieldset><fieldset><legend>Kategorie'),So=Z("<label><input type=radio>");function $o(){const{showFilter:e,setShowFilter:t,setFilter:n,resetFilter:r,filter:o,categorys:a}=he(fe);let c,h,g;const _=E=>{e()&&(c.contains(E.target)||t(!1))};Te(()=>{document.addEventListener("click",_,!0)}),Yt(()=>{document.removeEventListener("click",_,!0)});const y=()=>{n({...o(),dateBegin:Ce(`${Be()}-01-01`)}),n({...o(),dateEnd:Ce(`${Be()}-12-31`)})},v=()=>{n({...o(),dateBegin:Ce(`${Be()}-${Je()}-1`)}),n({...o(),dateEnd:Ce(`${Be()}-${Je()}-${Pn(Be(),Je())}`)})},m=()=>{n({...o(),dateBegin:Ce(`${Be()}-${Number(Je())-1}-1`)}),n({...o(),dateEnd:Ce(`${Be()}-${Number(Je())-1}-${Pn(Be(),Number(Je())-1)}`)})};return(()=>{var E=xo(),D=E.firstChild,R=D.firstChild,P=R.firstChild,T=P.nextSibling,C=R.nextSibling,F=C.firstChild,O=F.nextSibling,b=C.nextSibling,I=b.firstChild,N=I.nextSibling,k=b.nextSibling,H=k.nextSibling,V=H.nextSibling,ee=V.nextSibling,te=ee.firstChild,J=te.nextSibling,ue=J.firstChild,_e=J.nextSibling,ae=_e.firstChild,ge=_e.nextSibling,xe=ge.firstChild,De=ee.nextSibling;De.firstChild;var Se=c;typeof Se=="function"?se(Se,D):c=D,P.$$click=()=>t(!1),T.$$click=()=>r(),O.addEventListener("change",()=>n({...o(),dateBegin:Ce(h.value)}));var re=h;typeof re=="function"?se(re,O):h=O,N.addEventListener("change",()=>n({...o(),dateEnd:Ce(g.value)}));var $e=g;return typeof $e=="function"?se($e,N):g=N,k.$$click=()=>y(),H.$$click=()=>v(),V.$$click=()=>m(),ue.addEventListener("change",()=>n({...o(),done:"done"})),ae.addEventListener("change",()=>n({...o(),done:"pending"})),xe.addEventListener("change",()=>n({...o(),done:"both"})),z(De,Y(Ye,{get each(){return[...a,"All"]},children:W=>(()=>{var ie=So(),K=ie.firstChild;return K.addEventListener("change",()=>n({...o(),category:W})),ye(K,"name",W),z(ie,W,null),G(()=>K.checked=W===o().category),ie})()}),null),G(()=>ye(E,"open",e())),G(()=>O.value=o().dateBegin?Bt(o().dateBegin):null),G(()=>N.value=Bt(o().dateEnd)),G(()=>ue.checked=o().done==="done"),G(()=>ae.checked=o().done==="pending"),G(()=>xe.checked=o().done==="both"),E})()}we(["click"]);var Eo=Z("<div class=card><dialog><h4>Like to get Notified?</h4><button>activate notifications");function Co(){he(fe);const[e,t]=M(!1);return Te(async()=>{oi(),await si()||t(!0)}),[Y(yo,{}),Y(bo,{}),Y($o,{}),Y(_o,{}),(()=>{var n=Eo(),r=n.firstChild,o=r.firstChild,a=o.nextSibling;return a.$$click=()=>{ai(),t(!1)},G(()=>r.open=e()),n})(),Y(vo,{})]}we(["click"]);const Ao=document.getElementById("root");Zr(()=>Y(Si,{get children(){return Y(Co,{})}}),Ao);
