(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();const zn=(t,r)=>t===r,jn=Symbol("solid-track"),Fe={equals:zn};let Ut=Ht;const ce=1,Me=2,Yt={owned:null,cleanups:null,context:null,owner:null};var F=null;let it=null,Hn=null,Y=null,G=null,ie=null,Ve=0;function ke(t,r){const o=Y,u=F,l=t.length===0,c=r===void 0?u:r,p=l?Yt:{owned:null,cleanups:null,context:c?c.context:null,owner:c},d=l?t:()=>t(()=>ae(()=>Ke(p)));F=p,Y=null;try{return Ce(d,!0)}finally{Y=o,F=u}}function K(t,r){r=r?Object.assign({},Fe,r):Fe;const o={value:t,observers:null,observerSlots:null,comparator:r.equals||void 0},u=l=>(typeof l=="function"&&(l=l(o.value)),jt(o,l));return[zt.bind(o),u]}function X(t,r,o){const u=pt(t,r,!1,ce);De(u)}function We(t,r,o){Ut=Jn;const u=pt(t,r,!1,ce);(!o||!o.render)&&(u.user=!0),ie?ie.push(u):De(u)}function ut(t,r,o){o=o?Object.assign({},Fe,o):Fe;const u=pt(t,r,!0,0);return u.observers=null,u.observerSlots=null,u.comparator=o.equals||void 0,De(u),zt.bind(u)}function ae(t){if(Y===null)return t();const r=Y;Y=null;try{return t()}finally{Y=r}}function Bt(t,r,o){const u=Array.isArray(t);let l,c=o&&o.defer;return p=>{let d;if(u){d=Array(t.length);for(let x=0;x<t.length;x++)d[x]=t[x]()}else d=t();if(c)return c=!1,p;const S=ae(()=>r(d,l,p));return l=d,S}}function Ie(t){We(()=>ae(t))}function vt(t){return F===null||(F.cleanups===null?F.cleanups=[t]:F.cleanups.push(t)),t}function Vn(t,r){const o=Symbol("context");return{id:o,Provider:qn(o),defaultValue:t}}function be(t){return F&&F.context&&F.context[t.id]!==void 0?F.context[t.id]:t.defaultValue}function Kn(t){const r=ut(t),o=ut(()=>lt(r()));return o.toArray=()=>{const u=o();return Array.isArray(u)?u:u!=null?[u]:[]},o}function zt(){if(this.sources&&this.state)if(this.state===ce)De(this);else{const t=G;G=null,Ce(()=>Ye(this),!1),G=t}if(Y){const t=this.observers?this.observers.length:0;Y.sources?(Y.sources.push(this),Y.sourceSlots.push(t)):(Y.sources=[this],Y.sourceSlots=[t]),this.observers?(this.observers.push(Y),this.observerSlots.push(Y.sources.length-1)):(this.observers=[Y],this.observerSlots=[Y.sources.length-1])}return this.value}function jt(t,r,o){let u=t.value;return(!t.comparator||!t.comparator(u,r))&&(t.value=r,t.observers&&t.observers.length&&Ce(()=>{for(let l=0;l<t.observers.length;l+=1){const c=t.observers[l],p=it&&it.running;p&&it.disposed.has(c),(p?!c.tState:!c.state)&&(c.pure?G.push(c):ie.push(c),c.observers&&Vt(c)),p||(c.state=ce)}if(G.length>1e6)throw G=[],new Error},!1)),r}function De(t){if(!t.fn)return;Ke(t);const r=Ve;Gn(t,t.value,r)}function Gn(t,r,o){let u;const l=F,c=Y;Y=F=t;try{u=t.fn(r)}catch(p){return t.pure&&(t.state=ce,t.owned&&t.owned.forEach(Ke),t.owned=null),t.updatedAt=o+1,Kt(p)}finally{Y=c,F=l}(!t.updatedAt||t.updatedAt<=o)&&(t.updatedAt!=null&&"observers"in t?jt(t,u):t.value=u,t.updatedAt=o)}function pt(t,r,o,u=ce,l){const c={fn:t,state:u,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:F,context:F?F.context:null,pure:o};return F===null||F!==Yt&&(F.owned?F.owned.push(c):F.owned=[c]),c}function Ue(t){if(t.state===0)return;if(t.state===Me)return Ye(t);if(t.suspense&&ae(t.suspense.inFallback))return t.suspense.effects.push(t);const r=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ve);)t.state&&r.push(t);for(let o=r.length-1;o>=0;o--)if(t=r[o],t.state===ce)De(t);else if(t.state===Me){const u=G;G=null,Ce(()=>Ye(t,r[0]),!1),G=u}}function Ce(t,r){if(G)return t();let o=!1;r||(G=[]),ie?o=!0:ie=[],Ve++;try{const u=t();return Qn(o),u}catch(u){o||(ie=null),G=null,Kt(u)}}function Qn(t){if(G&&(Ht(G),G=null),t)return;const r=ie;ie=null,r.length&&Ce(()=>Ut(r),!1)}function Ht(t){for(let r=0;r<t.length;r++)Ue(t[r])}function Jn(t){let r,o=0;for(r=0;r<t.length;r++){const u=t[r];u.user?t[o++]=u:Ue(u)}for(r=0;r<o;r++)Ue(t[r])}function Ye(t,r){t.state=0;for(let o=0;o<t.sources.length;o+=1){const u=t.sources[o];if(u.sources){const l=u.state;l===ce?u!==r&&(!u.updatedAt||u.updatedAt<Ve)&&Ue(u):l===Me&&Ye(u,r)}}}function Vt(t){for(let r=0;r<t.observers.length;r+=1){const o=t.observers[r];o.state||(o.state=Me,o.pure?G.push(o):ie.push(o),o.observers&&Vt(o))}}function Ke(t){let r;if(t.sources)for(;t.sources.length;){const o=t.sources.pop(),u=t.sourceSlots.pop(),l=o.observers;if(l&&l.length){const c=l.pop(),p=o.observerSlots.pop();u<l.length&&(c.sourceSlots[p]=u,l[u]=c,o.observerSlots[u]=p)}}if(t.owned){for(r=t.owned.length-1;r>=0;r--)Ke(t.owned[r]);t.owned=null}if(t.cleanups){for(r=t.cleanups.length-1;r>=0;r--)t.cleanups[r]();t.cleanups=null}t.state=0}function Xn(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Kt(t,r=F){throw Xn(t)}function lt(t){if(typeof t=="function"&&!t.length)return lt(t());if(Array.isArray(t)){const r=[];for(let o=0;o<t.length;o++){const u=lt(t[o]);Array.isArray(u)?r.push.apply(r,u):r.push(u)}return r}return t}function qn(t,r){return function(u){let l;return X(()=>l=ae(()=>(F.context={...F.context,[t]:u.value},Kn(()=>u.children))),void 0),l}}const Zn=Symbol("fallback");function kt(t){for(let r=0;r<t.length;r++)t[r]()}function er(t,r,o={}){let u=[],l=[],c=[],p=0,d=r.length>1?[]:null;return vt(()=>kt(c)),()=>{let S=t()||[],x,w;return S[jn],ae(()=>{let E=S.length,D,$,k,P,M,N,z,j,_;if(E===0)p!==0&&(kt(c),c=[],u=[],l=[],p=0,d&&(d=[])),o.fallback&&(u=[Zn],l[0]=ke(R=>(c[0]=R,o.fallback())),p=1);else if(p===0){for(l=new Array(E),w=0;w<E;w++)u[w]=S[w],l[w]=ke(m);p=E}else{for(k=new Array(E),P=new Array(E),d&&(M=new Array(E)),N=0,z=Math.min(p,E);N<z&&u[N]===S[N];N++);for(z=p-1,j=E-1;z>=N&&j>=N&&u[z]===S[j];z--,j--)k[j]=l[z],P[j]=c[z],d&&(M[j]=d[z]);for(D=new Map,$=new Array(j+1),w=j;w>=N;w--)_=S[w],x=D.get(_),$[w]=x===void 0?-1:x,D.set(_,w);for(x=N;x<=z;x++)_=u[x],w=D.get(_),w!==void 0&&w!==-1?(k[w]=l[x],P[w]=c[x],d&&(M[w]=d[x]),w=$[w],D.set(_,w)):c[x]();for(w=N;w<E;w++)w in k?(l[w]=k[w],c[w]=P[w],d&&(d[w]=M[w],d[w](w))):l[w]=ke(m);l=l.slice(0,p=E),u=S.slice(0)}return l});function m(E){if(c[w]=E,d){const[D,$]=K(w);return d[w]=$,r(S[w],D)}return r(S[w])}}}function te(t,r){return ae(()=>t(r||{}))}function Gt(t){const r="fallback"in t&&{fallback:()=>t.fallback};return ut(er(()=>t.each,t.children,r||void 0))}function tr(t,r,o){let u=o.length,l=r.length,c=u,p=0,d=0,S=r[l-1].nextSibling,x=null;for(;p<l||d<c;){if(r[p]===o[d]){p++,d++;continue}for(;r[l-1]===o[c-1];)l--,c--;if(l===p){const w=c<u?d?o[d-1].nextSibling:o[c-d]:S;for(;d<c;)t.insertBefore(o[d++],w)}else if(c===d)for(;p<l;)(!x||!x.has(r[p]))&&r[p].remove(),p++;else if(r[p]===o[c-1]&&o[d]===r[l-1]){const w=r[--l].nextSibling;t.insertBefore(o[d++],r[p++].nextSibling),t.insertBefore(o[--c],w),r[l]=o[c]}else{if(!x){x=new Map;let m=d;for(;m<c;)x.set(o[m],m++)}const w=x.get(r[p]);if(w!=null)if(d<w&&w<c){let m=p,E=1,D;for(;++m<l&&m<c&&!((D=x.get(r[m]))==null||D!==w+E);)E++;if(E>w-d){const $=r[p];for(;d<w;)t.insertBefore(o[d++],$)}else t.replaceChild(o[d++],r[p++])}else p++;else r[p++].remove()}}}const Ft="_$DX_DELEGATE";function nr(t,r,o,u={}){let l;return ke(c=>{l=c,r===document?t():ne(r,t(),r.firstChild?null:void 0,o)},u.owner),()=>{l(),r.textContent=""}}function de(t,r,o){let u;const l=()=>{const p=document.createElement("template");return p.innerHTML=t,o?p.content.firstChild.firstChild:p.content.firstChild},c=r?()=>ae(()=>document.importNode(u||(u=l()),!0)):()=>(u||(u=l())).cloneNode(!0);return c.cloneNode=c,c}function _e(t,r=window.document){const o=r[Ft]||(r[Ft]=new Set);for(let u=0,l=t.length;u<l;u++){const c=t[u];o.has(c)||(o.add(c),r.addEventListener(c,rr))}}function ze(t,r,o){o==null?t.removeAttribute(r):t.setAttribute(r,o)}function Ae(t,r,o){return ae(()=>t(r,o))}function ne(t,r,o,u){if(o!==void 0&&!u&&(u=[]),typeof r!="function")return je(t,r,u,o);X(l=>je(t,r(),l,o),u)}function rr(t){const r=`$$${t.type}`;let o=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==o&&Object.defineProperty(t,"target",{configurable:!0,value:o}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return o||document}});o;){const u=o[r];if(u&&!o.disabled){const l=o[`${r}Data`];if(l!==void 0?u.call(o,l,t):u.call(o,t),t.cancelBubble)return}o=o._$host||o.parentNode||o.host}}function je(t,r,o,u,l){for(;typeof o=="function";)o=o();if(r===o)return o;const c=typeof r,p=u!==void 0;if(t=p&&o[0]&&o[0].parentNode||t,c==="string"||c==="number")if(c==="number"&&(r=r.toString()),p){let d=o[0];d&&d.nodeType===3?d.data!==r&&(d.data=r):d=document.createTextNode(r),o=ge(t,o,u,d)}else o!==""&&typeof o=="string"?o=t.firstChild.data=r:o=t.textContent=r;else if(r==null||c==="boolean")o=ge(t,o,u);else{if(c==="function")return X(()=>{let d=r();for(;typeof d=="function";)d=d();o=je(t,d,o,u)}),()=>o;if(Array.isArray(r)){const d=[],S=o&&Array.isArray(o);if(ct(d,r,o,l))return X(()=>o=je(t,d,o,u,!0)),()=>o;if(d.length===0){if(o=ge(t,o,u),p)return o}else S?o.length===0?Mt(t,d,u):tr(t,o,d):(o&&ge(t),Mt(t,d));o=d}else if(r.nodeType){if(Array.isArray(o)){if(p)return o=ge(t,o,u,r);ge(t,o,null,r)}else o==null||o===""||!t.firstChild?t.appendChild(r):t.replaceChild(r,t.firstChild);o=r}}return o}function ct(t,r,o,u){let l=!1;for(let c=0,p=r.length;c<p;c++){let d=r[c],S=o&&o[t.length],x;if(!(d==null||d===!0||d===!1))if((x=typeof d)=="object"&&d.nodeType)t.push(d);else if(Array.isArray(d))l=ct(t,d,S)||l;else if(x==="function")if(u){for(;typeof d=="function";)d=d();l=ct(t,Array.isArray(d)?d:[d],Array.isArray(S)?S:[S])||l}else t.push(d),l=!0;else{const w=String(d);S&&S.nodeType===3&&S.data===w?t.push(S):t.push(document.createTextNode(w))}}return l}function Mt(t,r,o=null){for(let u=0,l=r.length;u<l;u++)t.insertBefore(r[u],o)}function ge(t,r,o,u){if(o===void 0)return t.textContent="";const l=u||document.createTextNode("");if(r.length){let c=!1;for(let p=r.length-1;p>=0;p--){const d=r[p];if(l!==d){const S=d.parentNode===t;!c&&!p?S?t.replaceChild(l,d):t.insertBefore(l,o):S&&d.remove()}else c=!0}}else t.insertBefore(l,o);return[l]}var or=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},dt;typeof window<"u"&&(typeof Promise<"u"?dt=new Promise(function(t){return window.addEventListener("load",t)}):dt={then:function(t){return window.addEventListener("load",t)}});function ir(t,r){r===void 0&&(r={});var o=r.registrationOptions;o===void 0&&(o={}),delete r.registrationOptions;var u=function(l){for(var c=[],p=arguments.length-1;p-- >0;)c[p]=arguments[p+1];r&&r[l]&&r[l].apply(r,c)};"serviceWorker"in navigator&&dt.then(function(){or()?(ar(t,u,o),navigator.serviceWorker.ready.then(function(l){u("ready",l)}).catch(function(l){return $e(u,l)})):(Qt(t,u,o),navigator.serviceWorker.ready.then(function(l){u("ready",l)}).catch(function(l){return $e(u,l)}))})}function $e(t,r){navigator.onLine||t("offline"),t("error",r)}function Qt(t,r,o){navigator.serviceWorker.register(t,o).then(function(u){if(r("registered",u),u.waiting){r("updated",u);return}u.onupdatefound=function(){r("updatefound",u);var l=u.installing;l.onstatechange=function(){l.state==="installed"&&(navigator.serviceWorker.controller?r("updated",u):r("cached",u))}}}).catch(function(u){return $e(r,u)})}function ar(t,r,o){fetch(t).then(function(u){u.status===404?(r("error",new Error("Service worker not found at "+t)),Wt()):u.headers.get("content-type").indexOf("javascript")===-1?(r("error",new Error("Expected "+t+" to have javascript content-type, but received "+u.headers.get("content-type"))),Wt()):Qt(t,r,o)}).catch(function(u){return $e(r,u)})}function Wt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()}).catch(function(t){return $e(emit,t)})}function sr(){ir("/work-diary/serviceworker.js")}const fr=async()=>Notification.permission==="granted",ur=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Be(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,r){(function(o){t.exports=o()})(function(){return function o(u,l,c){function p(x,w){if(!l[x]){if(!u[x]){var m=typeof Be=="function"&&Be;if(!w&&m)return m(x,!0);if(d)return d(x,!0);var E=new Error("Cannot find module '"+x+"'");throw E.code="MODULE_NOT_FOUND",E}var D=l[x]={exports:{}};u[x][0].call(D.exports,function($){var k=u[x][1][$];return p(k||$)},D,D.exports,o,u,l,c)}return l[x].exports}for(var d=typeof Be=="function"&&Be,S=0;S<c.length;S++)p(c[S]);return p}({1:[function(o,u,l){(function(c){var p=c.MutationObserver||c.WebKitMutationObserver,d;if(p){var S=0,x=new p($),w=c.document.createTextNode("");x.observe(w,{characterData:!0}),d=function(){w.data=S=++S%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var m=new c.MessageChannel;m.port1.onmessage=$,d=function(){m.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?d=function(){var P=c.document.createElement("script");P.onreadystatechange=function(){$(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},c.document.documentElement.appendChild(P)}:d=function(){setTimeout($,0)};var E,D=[];function $(){E=!0;for(var P,M,N=D.length;N;){for(M=D,D=[],P=-1;++P<N;)M[P]();N=D.length}E=!1}u.exports=k;function k(P){D.push(P)===1&&!E&&d()}}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(o,u,l){var c=o(1);function p(){}var d={},S=["REJECTED"],x=["FULFILLED"],w=["PENDING"];u.exports=m;function m(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,_!==p&&k(this,_)}m.prototype.catch=function(_){return this.then(null,_)},m.prototype.then=function(_,R){if(typeof _!="function"&&this.state===x||typeof R!="function"&&this.state===S)return this;var I=new this.constructor(p);if(this.state!==w){var O=this.state===x?_:R;D(I,O,this.outcome)}else this.queue.push(new E(I,_,R));return I};function E(_,R,I){this.promise=_,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}E.prototype.callFulfilled=function(_){d.resolve(this.promise,_)},E.prototype.otherCallFulfilled=function(_){D(this.promise,this.onFulfilled,_)},E.prototype.callRejected=function(_){d.reject(this.promise,_)},E.prototype.otherCallRejected=function(_){D(this.promise,this.onRejected,_)};function D(_,R,I){c(function(){var O;try{O=R(I)}catch(T){return d.reject(_,T)}O===_?d.reject(_,new TypeError("Cannot resolve promise with itself")):d.resolve(_,O)})}d.resolve=function(_,R){var I=P($,R);if(I.status==="error")return d.reject(_,I.value);var O=I.value;if(O)k(_,O);else{_.state=x,_.outcome=R;for(var T=-1,H=_.queue.length;++T<H;)_.queue[T].callFulfilled(R)}return _},d.reject=function(_,R){_.state=S,_.outcome=R;for(var I=-1,O=_.queue.length;++I<O;)_.queue[I].callRejected(R);return _};function $(_){var R=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof R=="function")return function(){R.apply(_,arguments)}}function k(_,R){var I=!1;function O(Q){I||(I=!0,d.reject(_,Q))}function T(Q){I||(I=!0,d.resolve(_,Q))}function H(){R(T,O)}var V=P(H);V.status==="error"&&O(V.value)}function P(_,R){var I={};try{I.value=_(R),I.status="success"}catch(O){I.status="error",I.value=O}return I}m.resolve=M;function M(_){return _ instanceof this?_:d.resolve(new this(p),_)}m.reject=N;function N(_){var R=new this(p);return d.reject(R,_)}m.all=z;function z(_){var R=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,O=!1;if(!I)return this.resolve([]);for(var T=new Array(I),H=0,V=-1,Q=new this(p);++V<I;)ee(_[V],V);return Q;function ee(se,he){R.resolve(se).then(re,function(oe){O||(O=!0,d.reject(Q,oe))});function re(oe){T[he]=oe,++H===I&&!O&&(O=!0,d.resolve(Q,T))}}}m.race=j;function j(_){var R=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,O=!1;if(!I)return this.resolve([]);for(var T=-1,H=new this(p);++T<I;)V(_[T]);return H;function V(Q){R.resolve(Q).then(function(ee){O||(O=!0,d.resolve(H,ee))},function(ee){O||(O=!0,d.reject(H,ee))})}}},{1:1}],3:[function(o,u,l){(function(c){typeof c.Promise!="function"&&(c.Promise=o(2))}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(o,u,l){var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var S=d();function x(){try{if(!S||!S.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),i=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||i)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function w(e,i){e=e||[],i=i||{};try{return new Blob(e,i)}catch(a){if(a.name!=="TypeError")throw a;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,s=new n,f=0;f<e.length;f+=1)s.append(e[f]);return s.getBlob(i.type)}}typeof Promise>"u"&&o(3);var m=Promise;function E(e,i){i&&e.then(function(n){i(null,n)},function(n){i(n)})}function D(e,i,n){typeof i=="function"&&e.then(i),typeof n=="function"&&e.catch(n)}function $(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",M=void 0,N={},z=Object.prototype.toString,j="readonly",_="readwrite";function R(e){for(var i=e.length,n=new ArrayBuffer(i),s=new Uint8Array(n),f=0;f<i;f++)s[f]=e.charCodeAt(f);return n}function I(e){return new m(function(i){var n=e.transaction(P,_),s=w([""]);n.objectStore(P).put(s,"key"),n.onabort=function(f){f.preventDefault(),f.stopPropagation(),i(!1)},n.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);i(a||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function O(e){return typeof M=="boolean"?m.resolve(M):I(e).then(function(i){return M=i,M})}function T(e){var i=N[e.name],n={};n.promise=new m(function(s,f){n.resolve=s,n.reject=f}),i.deferredOperations.push(n),i.dbReady?i.dbReady=i.dbReady.then(function(){return n.promise}):i.dbReady=n.promise}function H(e){var i=N[e.name],n=i.deferredOperations.pop();if(n)return n.resolve(),n.promise}function V(e,i){var n=N[e.name],s=n.deferredOperations.pop();if(s)return s.reject(i),s.promise}function Q(e,i){return new m(function(n,s){if(N[e.name]=N[e.name]||Se(),e.db)if(i)T(e),e.db.close();else return n(e.db);var f=[e.name];i&&f.push(e.version);var a=S.open.apply(S,f);i&&(a.onupgradeneeded=function(h){var v=a.result;try{v.createObjectStore(e.storeName),h.oldVersion<=1&&v.createObjectStore(P)}catch(y){if(y.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+h.oldVersion+" to version "+h.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw y}}),a.onerror=function(h){h.preventDefault(),s(a.error)},a.onsuccess=function(){var h=a.result;h.onversionchange=function(v){v.target.close()},n(h),H(e)}})}function ee(e){return Q(e,!1)}function se(e){return Q(e,!0)}function he(e,i){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),s=e.version<e.db.version,f=e.version>e.db.version;if(s&&(e.version!==i&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),f||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function re(e){return new m(function(i,n){var s=new FileReader;s.onerror=n,s.onloadend=function(f){var a=btoa(f.target.result||"");i({__local_forage_encoded_blob:!0,data:a,type:e.type})},s.readAsBinaryString(e)})}function oe(e){var i=R(atob(e.data));return w([i],{type:e.type})}function we(e){return e&&e.__local_forage_encoded_blob}function Ge(e){var i=this,n=i._initReady().then(function(){var s=N[i._dbInfo.name];if(s&&s.dbReady)return s.dbReady});return D(n,e,e),n}function Qe(e){T(e);for(var i=N[e.name],n=i.forages,s=0;s<n.length;s++){var f=n[s];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return e.db=null,ee(e).then(function(a){return e.db=a,he(e)?se(e):a}).then(function(a){e.db=i.db=a;for(var h=0;h<n.length;h++)n[h]._dbInfo.db=a}).catch(function(a){throw V(e,a),a})}function J(e,i,n,s){s===void 0&&(s=1);try{var f=e.db.transaction(e.storeName,i);n(null,f)}catch(a){if(s>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return m.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),se(e)}).then(function(){return Qe(e).then(function(){J(e,i,n,s-1)})}).catch(n);n(a)}}function Se(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ne(e){var i=this,n={db:null};if(e)for(var s in e)n[s]=e[s];var f=N[n.name];f||(f=Se(),N[n.name]=f),f.forages.push(i),i._initReady||(i._initReady=i.ready,i.ready=Ge);var a=[];function h(){return m.resolve()}for(var v=0;v<f.forages.length;v++){var y=f.forages[v];y!==i&&a.push(y._initReady().catch(h))}var g=f.forages.slice(0);return m.all(a).then(function(){return n.db=f.db,ee(n)}).then(function(b){return n.db=b,he(n,i._defaultConfig.version)?se(n):b}).then(function(b){n.db=f.db=b,i._dbInfo=n;for(var A=0;A<g.length;A++){var C=g[A];C!==i&&(C._dbInfo.db=n.db,C._dbInfo.version=n.version)}})}function Te(e,i){var n=this;e=$(e);var s=new m(function(f,a){n.ready().then(function(){J(n._dbInfo,j,function(h,v){if(h)return a(h);try{var y=v.objectStore(n._dbInfo.storeName),g=y.get(e);g.onsuccess=function(){var b=g.result;b===void 0&&(b=null),we(b)&&(b=oe(b)),f(b)},g.onerror=function(){a(g.error)}}catch(b){a(b)}})}).catch(a)});return E(s,i),s}function Re(e,i){var n=this,s=new m(function(f,a){n.ready().then(function(){J(n._dbInfo,j,function(h,v){if(h)return a(h);try{var y=v.objectStore(n._dbInfo.storeName),g=y.openCursor(),b=1;g.onsuccess=function(){var A=g.result;if(A){var C=A.value;we(C)&&(C=oe(C));var L=e(C,A.key,b++);L!==void 0?f(L):A.continue()}else f()},g.onerror=function(){a(g.error)}}catch(A){a(A)}})}).catch(a)});return E(s,i),s}function q(e,i,n){var s=this;e=$(e);var f=new m(function(a,h){var v;s.ready().then(function(){return v=s._dbInfo,z.call(i)==="[object Blob]"?O(v.db).then(function(y){return y?i:re(i)}):i}).then(function(y){J(s._dbInfo,_,function(g,b){if(g)return h(g);try{var A=b.objectStore(s._dbInfo.storeName);y===null&&(y=void 0);var C=A.put(y,e);b.oncomplete=function(){y===void 0&&(y=null),a(y)},b.onabort=b.onerror=function(){var L=C.error?C.error:C.transaction.error;h(L)}}catch(L){h(L)}})}).catch(h)});return E(f,n),f}function fe(e,i){var n=this;e=$(e);var s=new m(function(f,a){n.ready().then(function(){J(n._dbInfo,_,function(h,v){if(h)return a(h);try{var y=v.objectStore(n._dbInfo.storeName),g=y.delete(e);v.oncomplete=function(){f()},v.onerror=function(){a(g.error)},v.onabort=function(){var b=g.error?g.error:g.transaction.error;a(b)}}catch(b){a(b)}})}).catch(a)});return E(s,i),s}function ve(e){var i=this,n=new m(function(s,f){i.ready().then(function(){J(i._dbInfo,_,function(a,h){if(a)return f(a);try{var v=h.objectStore(i._dbInfo.storeName),y=v.clear();h.oncomplete=function(){s()},h.onabort=h.onerror=function(){var g=y.error?y.error:y.transaction.error;f(g)}}catch(g){f(g)}})}).catch(f)});return E(n,e),n}function Xt(e){var i=this,n=new m(function(s,f){i.ready().then(function(){J(i._dbInfo,j,function(a,h){if(a)return f(a);try{var v=h.objectStore(i._dbInfo.storeName),y=v.count();y.onsuccess=function(){s(y.result)},y.onerror=function(){f(y.error)}}catch(g){f(g)}})}).catch(f)});return E(n,e),n}function qt(e,i){var n=this,s=new m(function(f,a){if(e<0){f(null);return}n.ready().then(function(){J(n._dbInfo,j,function(h,v){if(h)return a(h);try{var y=v.objectStore(n._dbInfo.storeName),g=!1,b=y.openKeyCursor();b.onsuccess=function(){var A=b.result;if(!A){f(null);return}e===0||g?f(A.key):(g=!0,A.advance(e))},b.onerror=function(){a(b.error)}}catch(A){a(A)}})}).catch(a)});return E(s,i),s}function Zt(e){var i=this,n=new m(function(s,f){i.ready().then(function(){J(i._dbInfo,j,function(a,h){if(a)return f(a);try{var v=h.objectStore(i._dbInfo.storeName),y=v.openKeyCursor(),g=[];y.onsuccess=function(){var b=y.result;if(!b){s(g);return}g.push(b.key),b.continue()},y.onerror=function(){f(y.error)}}catch(b){f(b)}})}).catch(f)});return E(n,e),n}function en(e,i){i=k.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var s=this,f;if(!e.name)f=m.reject("Invalid arguments");else{var a=e.name===n.name&&s._dbInfo.db,h=a?m.resolve(s._dbInfo.db):ee(e).then(function(v){var y=N[e.name],g=y.forages;y.db=v;for(var b=0;b<g.length;b++)g[b]._dbInfo.db=v;return v});e.storeName?f=h.then(function(v){if(v.objectStoreNames.contains(e.storeName)){var y=v.version+1;T(e);var g=N[e.name],b=g.forages;v.close();for(var A=0;A<b.length;A++){var C=b[A];C._dbInfo.db=null,C._dbInfo.version=y}var L=new m(function(B,U){var W=S.open(e.name,y);W.onerror=function(Z){var xe=W.result;xe.close(),U(Z)},W.onupgradeneeded=function(){var Z=W.result;Z.deleteObjectStore(e.storeName)},W.onsuccess=function(){var Z=W.result;Z.close(),B(Z)}});return L.then(function(B){g.db=B;for(var U=0;U<b.length;U++){var W=b[U];W._dbInfo.db=B,H(W._dbInfo)}}).catch(function(B){throw(V(e,B)||m.resolve()).catch(function(){}),B})}}):f=h.then(function(v){T(e);var y=N[e.name],g=y.forages;v.close();for(var b=0;b<g.length;b++){var A=g[b];A._dbInfo.db=null}var C=new m(function(L,B){var U=S.deleteDatabase(e.name);U.onerror=function(){var W=U.result;W&&W.close(),B(U.error)},U.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},U.onsuccess=function(){var W=U.result;W&&W.close(),L(W)}});return C.then(function(L){y.db=L;for(var B=0;B<g.length;B++){var U=g[B];H(U._dbInfo)}}).catch(function(L){throw(V(e,L)||m.resolve()).catch(function(){}),L})})}return E(f,i),f}var tn={_driver:"asyncStorage",_initStorage:Ne,_support:x(),iterate:Re,getItem:Te,setItem:q,removeItem:fe,clear:ve,length:Xt,key:qt,keys:Zt,dropInstance:en};function nn(){return typeof openDatabase=="function"}var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rn="~~local_forage_type~",gt=/^~~local_forage_type~([^~]+)~/,Pe="__lfsc__:",Je=Pe.length,Xe="arbf",qe="blob",mt="si08",bt="ui08",_t="uic8",wt="si16",St="si32",Et="ur16",xt="ui32",At="fl32",$t="fl64",It=Je+Xe.length,Dt=Object.prototype.toString;function Ct(e){var i=e.length*.75,n=e.length,s,f=0,a,h,v,y;e[e.length-1]==="="&&(i--,e[e.length-2]==="="&&i--);var g=new ArrayBuffer(i),b=new Uint8Array(g);for(s=0;s<n;s+=4)a=ue.indexOf(e[s]),h=ue.indexOf(e[s+1]),v=ue.indexOf(e[s+2]),y=ue.indexOf(e[s+3]),b[f++]=a<<2|h>>4,b[f++]=(h&15)<<4|v>>2,b[f++]=(v&3)<<6|y&63;return g}function Ze(e){var i=new Uint8Array(e),n="",s;for(s=0;s<i.length;s+=3)n+=ue[i[s]>>2],n+=ue[(i[s]&3)<<4|i[s+1]>>4],n+=ue[(i[s+1]&15)<<2|i[s+2]>>6],n+=ue[i[s+2]&63];return i.length%3===2?n=n.substring(0,n.length-1)+"=":i.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function on(e,i){var n="";if(e&&(n=Dt.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Dt.call(e.buffer)==="[object ArrayBuffer]")){var s,f=Pe;e instanceof ArrayBuffer?(s=e,f+=Xe):(s=e.buffer,n==="[object Int8Array]"?f+=mt:n==="[object Uint8Array]"?f+=bt:n==="[object Uint8ClampedArray]"?f+=_t:n==="[object Int16Array]"?f+=wt:n==="[object Uint16Array]"?f+=Et:n==="[object Int32Array]"?f+=St:n==="[object Uint32Array]"?f+=xt:n==="[object Float32Array]"?f+=At:n==="[object Float64Array]"?f+=$t:i(new Error("Failed to get type for BinaryArray"))),i(f+Ze(s))}else if(n==="[object Blob]"){var a=new FileReader;a.onload=function(){var h=rn+e.type+"~"+Ze(this.result);i(Pe+qe+h)},a.readAsArrayBuffer(e)}else try{i(JSON.stringify(e))}catch(h){console.error("Couldn't convert value into a JSON string: ",e),i(null,h)}}function an(e){if(e.substring(0,Je)!==Pe)return JSON.parse(e);var i=e.substring(It),n=e.substring(Je,It),s;if(n===qe&&gt.test(i)){var f=i.match(gt);s=f[1],i=i.substring(f[0].length)}var a=Ct(i);switch(n){case Xe:return a;case qe:return w([a],{type:s});case mt:return new Int8Array(a);case bt:return new Uint8Array(a);case _t:return new Uint8ClampedArray(a);case wt:return new Int16Array(a);case Et:return new Uint16Array(a);case St:return new Int32Array(a);case xt:return new Uint32Array(a);case At:return new Float32Array(a);case $t:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var et={serialize:on,deserialize:an,stringToBuffer:Ct,bufferToString:Ze};function Nt(e,i,n,s){e.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,s)}function sn(e){var i=this,n={db:null};if(e)for(var s in e)n[s]=typeof e[s]!="string"?e[s].toString():e[s];var f=new m(function(a,h){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(v){return h(v)}n.db.transaction(function(v){Nt(v,n,function(){i._dbInfo=n,a()},function(y,g){h(g)})},h)});return n.serializer=et,f}function le(e,i,n,s,f,a){e.executeSql(n,s,f,function(h,v){v.code===v.SYNTAX_ERR?h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[i.storeName],function(y,g){g.rows.length?a(y,v):Nt(y,i,function(){y.executeSql(n,s,f,a)},a)},a):a(h,v)},a)}function fn(e,i){var n=this;e=$(e);var s=new m(function(f,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(v){le(v,h,"SELECT * FROM "+h.storeName+" WHERE key = ? LIMIT 1",[e],function(y,g){var b=g.rows.length?g.rows.item(0).value:null;b&&(b=h.serializer.deserialize(b)),f(b)},function(y,g){a(g)})})}).catch(a)});return E(s,i),s}function un(e,i){var n=this,s=new m(function(f,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(v){le(v,h,"SELECT * FROM "+h.storeName,[],function(y,g){for(var b=g.rows,A=b.length,C=0;C<A;C++){var L=b.item(C),B=L.value;if(B&&(B=h.serializer.deserialize(B)),B=e(B,L.key,C+1),B!==void 0){f(B);return}}f()},function(y,g){a(g)})})}).catch(a)});return E(s,i),s}function Tt(e,i,n,s){var f=this;e=$(e);var a=new m(function(h,v){f.ready().then(function(){i===void 0&&(i=null);var y=i,g=f._dbInfo;g.serializer.serialize(i,function(b,A){A?v(A):g.db.transaction(function(C){le(C,g,"INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[e,b],function(){h(y)},function(L,B){v(B)})},function(C){if(C.code===C.QUOTA_ERR){if(s>0){h(Tt.apply(f,[e,y,n,s-1]));return}v(C)}})})}).catch(v)});return E(a,n),a}function ln(e,i,n){return Tt.apply(this,[e,i,n,1])}function cn(e,i){var n=this;e=$(e);var s=new m(function(f,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(v){le(v,h,"DELETE FROM "+h.storeName+" WHERE key = ?",[e],function(){f()},function(y,g){a(g)})})}).catch(a)});return E(s,i),s}function dn(e){var i=this,n=new m(function(s,f){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){le(h,a,"DELETE FROM "+a.storeName,[],function(){s()},function(v,y){f(y)})})}).catch(f)});return E(n,e),n}function hn(e){var i=this,n=new m(function(s,f){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){le(h,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(v,y){var g=y.rows.item(0).c;s(g)},function(v,y){f(y)})})}).catch(f)});return E(n,e),n}function vn(e,i){var n=this,s=new m(function(f,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(v){le(v,h,"SELECT key FROM "+h.storeName+" WHERE id = ? LIMIT 1",[e+1],function(y,g){var b=g.rows.length?g.rows.item(0).key:null;f(b)},function(y,g){a(g)})})}).catch(a)});return E(s,i),s}function pn(e){var i=this,n=new m(function(s,f){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){le(h,a,"SELECT key FROM "+a.storeName,[],function(v,y){for(var g=[],b=0;b<y.rows.length;b++)g.push(y.rows.item(b).key);s(g)},function(v,y){f(y)})})}).catch(f)});return E(n,e),n}function yn(e){return new m(function(i,n){e.transaction(function(s){s.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,a){for(var h=[],v=0;v<a.rows.length;v++)h.push(a.rows.item(v).name);i({db:e,storeNames:h})},function(f,a){n(a)})},function(s){n(s)})})}function gn(e,i){i=k.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var s=this,f;return e.name?f=new m(function(a){var h;e.name===n.name?h=s._dbInfo.db:h=openDatabase(e.name,"","",0),e.storeName?a({db:h,storeNames:[e.storeName]}):a(yn(h))}).then(function(a){return new m(function(h,v){a.db.transaction(function(y){function g(L){return new m(function(B,U){y.executeSql("DROP TABLE IF EXISTS "+L,[],function(){B()},function(W,Z){U(Z)})})}for(var b=[],A=0,C=a.storeNames.length;A<C;A++)b.push(g(a.storeNames[A]));m.all(b).then(function(){h()}).catch(function(L){v(L)})},function(y){v(y)})})}):f=m.reject("Invalid arguments"),E(f,i),f}var mn={_driver:"webSQLStorage",_initStorage:sn,_support:nn(),iterate:un,getItem:fn,setItem:ln,removeItem:cn,clear:dn,length:hn,key:vn,keys:pn,dropInstance:gn};function bn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Rt(e,i){var n=e.name+"/";return e.storeName!==i.storeName&&(n+=e.storeName+"/"),n}function _n(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function wn(){return!_n()||localStorage.length>0}function Sn(e){var i=this,n={};if(e)for(var s in e)n[s]=e[s];return n.keyPrefix=Rt(e,i._defaultConfig),wn()?(i._dbInfo=n,n.serializer=et,m.resolve()):m.reject()}function En(e){var i=this,n=i.ready().then(function(){for(var s=i._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var a=localStorage.key(f);a.indexOf(s)===0&&localStorage.removeItem(a)}});return E(n,e),n}function xn(e,i){var n=this;e=$(e);var s=n.ready().then(function(){var f=n._dbInfo,a=localStorage.getItem(f.keyPrefix+e);return a&&(a=f.serializer.deserialize(a)),a});return E(s,i),s}function An(e,i){var n=this,s=n.ready().then(function(){for(var f=n._dbInfo,a=f.keyPrefix,h=a.length,v=localStorage.length,y=1,g=0;g<v;g++){var b=localStorage.key(g);if(b.indexOf(a)===0){var A=localStorage.getItem(b);if(A&&(A=f.serializer.deserialize(A)),A=e(A,b.substring(h),y++),A!==void 0)return A}}});return E(s,i),s}function $n(e,i){var n=this,s=n.ready().then(function(){var f=n._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(f.keyPrefix.length)),a});return E(s,i),s}function In(e){var i=this,n=i.ready().then(function(){for(var s=i._dbInfo,f=localStorage.length,a=[],h=0;h<f;h++){var v=localStorage.key(h);v.indexOf(s.keyPrefix)===0&&a.push(v.substring(s.keyPrefix.length))}return a});return E(n,e),n}function Dn(e){var i=this,n=i.keys().then(function(s){return s.length});return E(n,e),n}function Cn(e,i){var n=this;e=$(e);var s=n.ready().then(function(){var f=n._dbInfo;localStorage.removeItem(f.keyPrefix+e)});return E(s,i),s}function Nn(e,i,n){var s=this;e=$(e);var f=s.ready().then(function(){i===void 0&&(i=null);var a=i;return new m(function(h,v){var y=s._dbInfo;y.serializer.serialize(i,function(g,b){if(b)v(b);else try{localStorage.setItem(y.keyPrefix+e,g),h(a)}catch(A){(A.name==="QuotaExceededError"||A.name==="NS_ERROR_DOM_QUOTA_REACHED")&&v(A),v(A)}})})});return E(f,n),f}function Tn(e,i){if(i=k.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var s=this,f;return e.name?f=new m(function(a){e.storeName?a(Rt(e,s._defaultConfig)):a(e.name+"/")}).then(function(a){for(var h=localStorage.length-1;h>=0;h--){var v=localStorage.key(h);v.indexOf(a)===0&&localStorage.removeItem(v)}}):f=m.reject("Invalid arguments"),E(f,i),f}var Rn={_driver:"localStorageWrapper",_initStorage:Sn,_support:bn(),iterate:An,getItem:xn,setItem:Nn,removeItem:Cn,clear:En,length:Dn,key:$n,keys:In,dropInstance:Tn},Pn=function(i,n){return i===n||typeof i=="number"&&typeof n=="number"&&isNaN(i)&&isNaN(n)},Ln=function(i,n){for(var s=i.length,f=0;f<s;){if(Pn(i[f],n))return!0;f++}return!1},Pt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Ee={},Lt={},ye={INDEXEDDB:tn,WEBSQL:mn,LOCALSTORAGE:Rn},On=[ye.INDEXEDDB._driver,ye.WEBSQL._driver,ye.LOCALSTORAGE._driver],Le=["dropInstance"],tt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Le),Bn={description:"",driver:On.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function kn(e,i){e[i]=function(){var n=arguments;return e.ready().then(function(){return e[i].apply(e,n)})}}function nt(){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(i)for(var n in i)i.hasOwnProperty(n)&&(Pt(i[n])?arguments[0][n]=i[n].slice():arguments[0][n]=i[n])}return arguments[0]}var Fn=function(){function e(i){p(this,e);for(var n in ye)if(ye.hasOwnProperty(n)){var s=ye[n],f=s._driver;this[n]=f,Ee[f]||this.defineDriver(s)}this._defaultConfig=nt({},Bn),this._config=nt({},this._defaultConfig,i),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":c(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var s in n){if(s==="storeName"&&(n[s]=n[s].replace(/\W/g,"_")),s==="version"&&typeof n[s]!="number")return new Error("Database version must be a number.");this._config[s]=n[s]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,s,f){var a=new m(function(h,v){try{var y=n._driver,g=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){v(g);return}for(var b=tt.concat("_initStorage"),A=0,C=b.length;A<C;A++){var L=b[A],B=!Ln(Le,L);if((B||n[L])&&typeof n[L]!="function"){v(g);return}}var U=function(){for(var xe=function(Un){return function(){var Yn=new Error("Method "+Un+" is not implemented by the current driver"),Ot=m.reject(Yn);return E(Ot,arguments[arguments.length-1]),Ot}},rt=0,Wn=Le.length;rt<Wn;rt++){var ot=Le[rt];n[ot]||(n[ot]=xe(ot))}};U();var W=function(xe){Ee[y]&&console.info("Redefining LocalForage driver: "+y),Ee[y]=n,Lt[y]=xe,h()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(W,v):W(!!n._support):W(!0)}catch(Z){v(Z)}});return D(a,s,f),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,s,f){var a=Ee[n]?m.resolve(Ee[n]):m.reject(new Error("Driver not found."));return D(a,s,f),a},e.prototype.getSerializer=function(n){var s=m.resolve(et);return D(s,n),s},e.prototype.ready=function(n){var s=this,f=s._driverSet.then(function(){return s._ready===null&&(s._ready=s._initDriver()),s._ready});return D(f,n,n),f},e.prototype.setDriver=function(n,s,f){var a=this;Pt(n)||(n=[n]);var h=this._getSupportedDrivers(n);function v(){a._config.driver=a.driver()}function y(A){return a._extend(A),v(),a._ready=a._initStorage(a._config),a._ready}function g(A){return function(){var C=0;function L(){for(;C<A.length;){var B=A[C];return C++,a._dbInfo=null,a._ready=null,a.getDriver(B).then(y).catch(L)}v();var U=new Error("No available storage method found.");return a._driverSet=m.reject(U),a._driverSet}return L()}}var b=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=b.then(function(){var A=h[0];return a._dbInfo=null,a._ready=null,a.getDriver(A).then(function(C){a._driver=C._driver,v(),a._wrapLibraryMethodsWithReady(),a._initDriver=g(h)})}).catch(function(){v();var A=new Error("No available storage method found.");return a._driverSet=m.reject(A),a._driverSet}),D(this._driverSet,s,f),this._driverSet},e.prototype.supports=function(n){return!!Lt[n]},e.prototype._extend=function(n){nt(this,n)},e.prototype._getSupportedDrivers=function(n){for(var s=[],f=0,a=n.length;f<a;f++){var h=n[f];this.supports(h)&&s.push(h)}return s},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,s=tt.length;n<s;n++)kn(this,tt[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),Mn=new Fn;u.exports=Mn},{3:3}]},{},[4])(4)})})(Jt);var cr=Jt.exports;const yt=lr(cr);yt.config({name:"work-diary"});const[me,He]=K([]);function dr(){yt.getItem("diary").then(t=>{console.log(t),t&&He(JSON.parse(t))}).catch(t=>console.log(t))}function ht(){let t=JSON.stringify(me());yt.setItem("diary",t).catch(r=>console.log(r))}const hr=()=>{let t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(me())),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download","diary-export.json"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},vr=t=>{console.log("importing diary data",t);let r=new FileReader,o;r.onload=u=>{o=JSON.parse(u.target.result),He(o),ht()},r.readAsText(t)};function pr(t){t=new Date(t);let r=t.getMonth()+1;r<10&&(r=`0${r}`);let o=t.getDate();return o<10&&(o=`0${o}`),`${o}.${r}.${t.getFullYear()}`}function yr(t){t=new Date(t);let r=t.getMonth()+1;r<10&&(r=`0${r}`);let o=t.getDate();return o<10&&(o=`0${o}`),`${t.getFullYear()}-${r}-${o}`}function gr(t){return t=new Date(t),Number(t)}const pe=Vn();function mr(t){K({show:!1,title:"",message:""});const[r,o]=K(!1),[u,l]=K(null),[c,p]=K(!1),[d,S]=K(!1);return te(pe.Provider,{value:{showEditor:r,setShowEditor:o,openToEdit:u,setOpenToEdit:l,deleteHot:c,setDeleteHot:p,showMenu:d,setShowMenu:S},get children(){return t.children}})}var br=de('<article><header><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><button class="icon-button outline"><i class="fa-solid fa-trash-can"></i> </button></header><h6></h6><div class=diary-grid-1><label><input type=checkbox>done</label><p></p></div><hr><p></p><hr><p>duration:<mark> minutes');function _r(t){const{setOpenToEdit:r,deleteHot:o}=be(pe);return(()=>{var u=br(),l=u.firstChild,c=l.firstChild,p=c.nextSibling,d=p.firstChild,S=l.nextSibling,x=S.nextSibling,w=x.firstChild,m=w.firstChild,E=w.nextSibling,D=x.nextSibling,$=D.nextSibling,k=$.nextSibling,P=k.nextSibling,M=P.firstChild,N=M.nextSibling,z=N.firstChild;return c.$$click=()=>r(t.entry.id),p.$$click=()=>t.deleteEntry(t.entry.id),ne(S,()=>t.entry.category),ne(E,()=>pr(t.entry.date)),$.style.setProperty("white-space","pre-wrap"),ne($,()=>t.entry.work),ne(N,()=>t.entry.duration,z),X(()=>(o()===t.entry.id?"var(--pico-del-color)":"var(--pico-primary)")!=null?d.style.setProperty("color",o()===t.entry.id?"var(--pico-del-color)":"var(--pico-primary)"):d.style.removeProperty("color")),X(()=>m.checked=t.entry.done),u})()}_e(["click"]);var wr=de('<button class="float primary"id=floating-button><i class="fa-solid fa-plus fa-2xl float-icon">');function Sr(t){const{showEditor:r,setShowEditor:o}=be(pe),[u,l]=K();return Ie(()=>{setInterval(()=>{l(!0),setTimeout(()=>l(!1),400)},7e3)}),(()=>{var c=wr();return c.$$click=()=>o(!r()),X(()=>ze(c,"buzz",u())),c})()}_e(["click"]);const Er=["Pflege","Pflanzen/Setzen","Ernten","Pflanzenschutz","Anzucht","Umgebungsarbeiten","Anderes"];var xr=de('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-floppy-disk"></i></button><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><label><input type=checkbox>done</label><textarea rows=5 cols=40 placeholder="describe work"></textarea><input type=date><label for=duration>duration <mark></mark></label><input type=range id=duration min=0 max=240 step=5><fieldset><legend>Kategorie'),Ar=de("<label><input type=radio name=category on>");let at;function $r(t){const{showEditor:r,setShowEditor:o,openToEdit:u,setOpenToEdit:l}=be(pe),c=T=>{r()&&(at.contains(T.target)||o(!1))};Ie(()=>{document.addEventListener("click",c,!0)}),vt(()=>{document.removeEventListener("click",c,!0)}),We(()=>{r()&&d({id:Date.now(),date:Date.now(),work:"",category:"Pflege",done:!0,duration:10}),u()!==null?p(u()):d({id:Date.now(),date:Date.now(),work:"",category:"Pflege",done:!0,duration:10})});const p=T=>{const H=me().find(V=>V.id===T);console.log("from Editor",T),d(H)},d=T=>{I(T.id),k(T.done),m(T.work),D(T.date),z(T.category),M(T.duration)};let S,x;const[w,m]=K(""),[E,D]=K(Date.now()),[$,k]=K(!1),[P,M]=K(10),[N,z]=K("Pflege"),[j,_]=K(!1),[R,I]=K(Date.now()),O=()=>{if(w().length<1){_(!0);return}let T={id:R(),work:w(),date:E(),done:$(),duration:P(),category:N()};t.saveNewEntry(T),o(!1)};return(()=>{var T=xr(),H=T.firstChild,V=H.firstChild,Q=V.firstChild,ee=Q.nextSibling,se=V.nextSibling,he=se.firstChild,re=se.nextSibling,oe=re.nextSibling,we=oe.nextSibling,Ge=we.firstChild,Qe=Ge.nextSibling,J=we.nextSibling,Se=J.nextSibling;Se.firstChild;var Ne=at;typeof Ne=="function"?Ae(Ne,H):at=H,Q.$$click=()=>O(),ee.$$click=()=>o(!1),he.addEventListener("change",()=>k(!$())),re.$$input=()=>m(S.value);var Te=S;typeof Te=="function"?Ae(Te,re):S=re,oe.addEventListener("change",q=>D(gr(q.target.value))),ne(Qe,P),J.$$input=()=>M(x.value);var Re=x;return typeof Re=="function"?Ae(Re,J):x=J,ne(Se,te(Gt,{each:Er,children:q=>(()=>{var fe=Ar(),ve=fe.firstChild;return ve.addEventListener("change",()=>z(q)),ne(fe,q,null),X(()=>ve.checked=q===N()),fe})()}),null),X(q=>{var fe=r(),ve=j();return fe!==q.e&&ze(T,"open",q.e=fe),ve!==q.t&&ze(re,"aria-invalid",q.t=ve),q},{e:void 0,t:void 0}),X(()=>he.checked=$()),X(()=>re.value=w()),X(()=>oe.value=yr(E())),X(()=>J.value=P()),T})()}_e(["click","input"]);var Ir=de("<div>");function Dr(){const{showEditor:t,setShowEditor:r,openToEdit:o,setOpenToEdit:u,deleteHot:l,setDeleteHot:c}=be(pe);Ie(async()=>{dr()});const p=async S=>{He([S,...me().filter(x=>x.id!==S.id)]),ht()},d=async S=>{if(l()===!1){c(S),setTimeout(()=>c(!1),2e3);return}l()===S?(He(me().filter(x=>x.id!==S)),ht()):c(S)};return We(Bt(()=>o(),()=>{o()!==null&&r(!0)})),We(Bt(()=>t(),()=>{t()===!1&&u(null)})),(()=>{var S=Ir();return ne(S,te(Sr,{}),null),ne(S,te($r,{saveNewEntry:p}),null),ne(S,te(Gt,{get each(){return me()},children:x=>te(_r,{entry:x,deleteEntry:d})}),null),S})()}var Cr=de('<nav><ul><li><h2><i class="fa-solid fa-person-digging"></i></h2></li></ul><ul><li><h2>Work Diary</h2></li></ul><ul><li><button>Menu');function Nr(){const{showMenu:t,setShowMenu:r}=be(pe);return(()=>{var o=Cr(),u=o.firstChild,l=u.nextSibling,c=l.nextSibling,p=c.firstChild,d=p.firstChild;return d.$$click=()=>r(!t()),o})()}_e(["click"]);var Tr=de('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><h6>export Data</h6><p>exports current data to your device<br>this can serve as an update</p><button>export Diary</button><hr><h6>import diary data</h6><p><mark>Caution!</mark> Existing data will be overwritten.</p><input type=file><button>import Diary');let st,ft;function Rr(t){const{showMenu:r,setShowMenu:o}=be(pe),u=l=>{r()&&(st.contains(l.target)||o(!1))};return Ie(()=>{document.addEventListener("click",u,!0)}),vt(()=>{document.removeEventListener("click",u,!0)}),(()=>{var l=Tr(),c=l.firstChild,p=c.firstChild,d=p.firstChild,S=p.nextSibling,x=S.nextSibling,w=x.nextSibling,m=w.nextSibling,E=m.nextSibling,D=E.nextSibling,$=D.nextSibling,k=$.nextSibling,P=st;typeof P=="function"?Ae(P,c):st=c,d.$$click=()=>o(!1),w.$$click=()=>{hr(),o(!1)};var M=ft;return typeof M=="function"?Ae(M,$):ft=$,k.$$click=()=>{vr(ft.files[0]),o(!1)},k.style.setProperty("background-color","var(--pico-del-color)"),X(()=>ze(l,"open",r())),l})()}_e(["click"]);var Pr=de("<div class=card><dialog><h4>Like to get Notified?</h4><button>activate notifications");function Lr(){const[t,r]=K(!1);return Ie(async()=>{sr(),await fr()||r(!0)}),[te(Nr,{}),te(Rr,{}),(()=>{var o=Pr(),u=o.firstChild,l=u.firstChild,c=l.nextSibling;return c.$$click=()=>{ur(),r(!1)},X(()=>u.open=t()),o})(),te(Dr,{})]}_e(["click"]);const Or=document.getElementById("root");nr(()=>te(mr,{get children(){return te(Lr,{})}}),Or);
