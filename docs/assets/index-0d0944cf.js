(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const v of l.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&u(v)}).observe(document,{childList:!0,subtree:!0});function r(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(c){if(c.ep)return;c.ep=!0;const l=r(c);fetch(c.href,l)}})();const Gn=(e,o)=>e===o,Qn=Symbol("solid-track"),ze={equals:Gn};let Vt=Xt;const he=1,je=2,Kt={owned:null,cleanups:null,context:null,owner:null};var F=null;let ut=null,Jn=null,j=null,Z=null,se=null,Je=0;function Ye(e,o){const r=j,u=F,c=e.length===0,l=o===void 0?u:o,v=c?Kt:{owned:null,cleanups:null,context:l?l.context:null,owner:l},d=c?e:()=>e(()=>oe(()=>Xe(v)));F=v,j=null;try{return Ne(d,!0)}finally{j=r,F=u}}function K(e,o){o=o?Object.assign({},ze,o):ze;const r={value:e,observers:null,observerSlots:null,comparator:o.equals||void 0},u=c=>(typeof c=="function"&&(c=c(r.value)),Jt(r,c));return[Qt.bind(r),u]}function J(e,o,r){const u=mt(e,o,!1,he);Te(u)}function Ee(e,o,r){Vt=er;const u=mt(e,o,!1,he);(!r||!r.render)&&(u.user=!0),se?se.push(u):Te(u)}function Ie(e,o,r){r=r?Object.assign({},ze,r):ze;const u=mt(e,o,!0,0);return u.observers=null,u.observerSlots=null,u.comparator=r.equals||void 0,Te(u),Qt.bind(u)}function oe(e){if(j===null)return e();const o=j;j=null;try{return e()}finally{j=o}}function dt(e,o,r){const u=Array.isArray(e);let c,l=r&&r.defer;return v=>{let d;if(u){d=Array(e.length);for(let S=0;S<e.length;S++)d[S]=e[S]()}else d=e();if(l)return l=!1,v;const $=oe(()=>o(d,c,v));return c=d,$}}function Re(e){Ee(()=>oe(e))}function yt(e){return F===null||(F.cleanups===null?F.cleanups=[e]:F.cleanups.push(e)),e}function Xn(e,o){const r=Symbol("context");return{id:r,Provider:nr(r),defaultValue:e}}function ve(e){return F&&F.context&&F.context[e.id]!==void 0?F.context[e.id]:e.defaultValue}function Gt(e){const o=Ie(e),r=Ie(()=>ht(o()));return r.toArray=()=>{const u=r();return Array.isArray(u)?u:u!=null?[u]:[]},r}function Qt(){if(this.sources&&this.state)if(this.state===he)Te(this);else{const e=Z;Z=null,Ne(()=>Ve(this),!1),Z=e}if(j){const e=this.observers?this.observers.length:0;j.sources?(j.sources.push(this),j.sourceSlots.push(e)):(j.sources=[this],j.sourceSlots=[e]),this.observers?(this.observers.push(j),this.observerSlots.push(j.sources.length-1)):(this.observers=[j],this.observerSlots=[j.sources.length-1])}return this.value}function Jt(e,o,r){let u=e.value;return(!e.comparator||!e.comparator(u,o))&&(e.value=o,e.observers&&e.observers.length&&Ne(()=>{for(let c=0;c<e.observers.length;c+=1){const l=e.observers[c],v=ut&&ut.running;v&&ut.disposed.has(l),(v?!l.tState:!l.state)&&(l.pure?Z.push(l):se.push(l),l.observers&&Zt(l)),v||(l.state=he)}if(Z.length>1e6)throw Z=[],new Error},!1)),o}function Te(e){if(!e.fn)return;Xe(e);const o=Je;Zn(e,e.value,o)}function Zn(e,o,r){let u;const c=F,l=j;j=F=e;try{u=e.fn(o)}catch(v){return e.pure&&(e.state=he,e.owned&&e.owned.forEach(Xe),e.owned=null),e.updatedAt=r+1,qt(v)}finally{j=l,F=c}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Jt(e,u):e.value=u,e.updatedAt=r)}function mt(e,o,r,u=he,c){const l={fn:e,state:u,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:o,owner:F,context:F?F.context:null,pure:r};return F===null||F!==Kt&&(F.owned?F.owned.push(l):F.owned=[l]),l}function He(e){if(e.state===0)return;if(e.state===je)return Ve(e);if(e.suspense&&oe(e.suspense.inFallback))return e.suspense.effects.push(e);const o=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Je);)e.state&&o.push(e);for(let r=o.length-1;r>=0;r--)if(e=o[r],e.state===he)Te(e);else if(e.state===je){const u=Z;Z=null,Ne(()=>Ve(e,o[0]),!1),Z=u}}function Ne(e,o){if(Z)return e();let r=!1;o||(Z=[]),se?r=!0:se=[],Je++;try{const u=e();return qn(r),u}catch(u){r||(se=null),Z=null,qt(u)}}function qn(e){if(Z&&(Xt(Z),Z=null),e)return;const o=se;se=null,o.length&&Ne(()=>Vt(o),!1)}function Xt(e){for(let o=0;o<e.length;o++)He(e[o])}function er(e){let o,r=0;for(o=0;o<e.length;o++){const u=e[o];u.user?e[r++]=u:He(u)}for(o=0;o<r;o++)He(e[o])}function Ve(e,o){e.state=0;for(let r=0;r<e.sources.length;r+=1){const u=e.sources[r];if(u.sources){const c=u.state;c===he?u!==o&&(!u.updatedAt||u.updatedAt<Je)&&He(u):c===je&&Ve(u,o)}}}function Zt(e){for(let o=0;o<e.observers.length;o+=1){const r=e.observers[o];r.state||(r.state=je,r.pure?Z.push(r):se.push(r),r.observers&&Zt(r))}}function Xe(e){let o;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),u=e.sourceSlots.pop(),c=r.observers;if(c&&c.length){const l=c.pop(),v=r.observerSlots.pop();u<c.length&&(l.sourceSlots[v]=u,c[u]=l,r.observerSlots[u]=v)}}if(e.owned){for(o=e.owned.length-1;o>=0;o--)Xe(e.owned[o]);e.owned=null}if(e.cleanups){for(o=e.cleanups.length-1;o>=0;o--)e.cleanups[o]();e.cleanups=null}e.state=0}function tr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qt(e,o=F){throw tr(e)}function ht(e){if(typeof e=="function"&&!e.length)return ht(e());if(Array.isArray(e)){const o=[];for(let r=0;r<e.length;r++){const u=ht(e[r]);Array.isArray(u)?o.push.apply(o,u):o.push(u)}return o}return e}function nr(e,o){return function(u){let c;return J(()=>c=oe(()=>(F.context={...F.context,[e]:u.value},Gt(()=>u.children))),void 0),c}}const rr=Symbol("fallback");function Wt(e){for(let o=0;o<e.length;o++)e[o]()}function or(e,o,r={}){let u=[],c=[],l=[],v=0,d=o.length>1?[]:null;return yt(()=>Wt(l)),()=>{let $=e()||[],S,w;return $[Qn],oe(()=>{let E=$.length,A,R,k,N,M,D,Y,W,_;if(E===0)v!==0&&(Wt(l),l=[],u=[],c=[],v=0,d&&(d=[])),r.fallback&&(u=[rr],c[0]=Ye(T=>(l[0]=T,r.fallback())),v=1);else if(v===0){for(c=new Array(E),w=0;w<E;w++)u[w]=$[w],c[w]=Ye(m);v=E}else{for(k=new Array(E),N=new Array(E),d&&(M=new Array(E)),D=0,Y=Math.min(v,E);D<Y&&u[D]===$[D];D++);for(Y=v-1,W=E-1;Y>=D&&W>=D&&u[Y]===$[W];Y--,W--)k[W]=c[Y],N[W]=l[Y],d&&(M[W]=d[Y]);for(A=new Map,R=new Array(W+1),w=W;w>=D;w--)_=$[w],S=A.get(_),R[w]=S===void 0?-1:S,A.set(_,w);for(S=D;S<=Y;S++)_=u[S],w=A.get(_),w!==void 0&&w!==-1?(k[w]=c[S],N[w]=l[S],d&&(M[w]=d[S]),w=R[w],A.set(_,w)):l[S]();for(w=D;w<E;w++)w in k?(c[w]=k[w],l[w]=N[w],d&&(d[w]=M[w],d[w](w))):c[w]=Ye(m);c=c.slice(0,v=E),u=$.slice(0)}return c});function m(E){if(l[w]=E,d){const[A,R]=K(w);return d[w]=R,o($[w],A)}return o($[w])}}}function Q(e,o){return oe(()=>e(o||{}))}const ir=e=>`Stale read from <${e}>.`;function en(e){const o="fallback"in e&&{fallback:()=>e.fallback};return Ie(or(()=>e.each,e.children,o||void 0))}function ar(e){let o=!1;const r=(l,v)=>(o?l[1]===v[1]:!l[1]==!v[1])&&l[2]===v[2],u=Gt(()=>e.children),c=Ie(()=>{let l=u();Array.isArray(l)||(l=[l]);for(let v=0;v<l.length;v++){const d=l[v].when;if(d)return o=!!l[v].keyed,[v,d,l[v]]}return[-1]},void 0,{equals:r});return Ie(()=>{const[l,v,d]=c();if(l<0)return e.fallback;const $=d.children;return typeof $=="function"&&$.length>0?oe(()=>$(o?v:()=>{if(oe(c)[0]!==l)throw ir("Match");return d.when})):$},void 0,void 0)}function Ut(e){return e}function sr(e,o,r){let u=r.length,c=o.length,l=u,v=0,d=0,$=o[c-1].nextSibling,S=null;for(;v<c||d<l;){if(o[v]===r[d]){v++,d++;continue}for(;o[c-1]===r[l-1];)c--,l--;if(c===v){const w=l<u?d?r[d-1].nextSibling:r[l-d]:$;for(;d<l;)e.insertBefore(r[d++],w)}else if(l===d)for(;v<c;)(!S||!S.has(o[v]))&&o[v].remove(),v++;else if(o[v]===r[l-1]&&r[d]===o[c-1]){const w=o[--c].nextSibling;e.insertBefore(r[d++],o[v++].nextSibling),e.insertBefore(r[--l],w),o[c]=r[l]}else{if(!S){S=new Map;let m=d;for(;m<l;)S.set(r[m],m++)}const w=S.get(o[v]);if(w!=null)if(d<w&&w<l){let m=v,E=1,A;for(;++m<c&&m<l&&!((A=S.get(o[m]))==null||A!==w+E);)E++;if(E>w-d){const R=o[v];for(;d<w;)e.insertBefore(r[d++],R)}else e.replaceChild(r[d++],o[v++])}else v++;else o[v++].remove()}}}const Yt="_$DX_DELEGATE";function ur(e,o,r,u={}){let c;return Ye(l=>{c=l,o===document?e():X(o,e(),o.firstChild?null:void 0,r)},u.owner),()=>{c(),o.textContent=""}}function ae(e,o,r){let u;const c=()=>{const v=document.createElement("template");return v.innerHTML=e,r?v.content.firstChild.firstChild:v.content.firstChild},l=o?()=>oe(()=>document.importNode(u||(u=c()),!0)):()=>(u||(u=c())).cloneNode(!0);return l.cloneNode=l,l}function me(e,o=window.document){const r=o[Yt]||(o[Yt]=new Set);for(let u=0,c=e.length;u<c;u++){const l=e[u];r.has(l)||(r.add(l),o.addEventListener(l,fr))}}function Ce(e,o,r){r==null?e.removeAttribute(o):e.setAttribute(o,r)}function Ae(e,o,r){return oe(()=>e(o,r))}function X(e,o,r,u){if(r!==void 0&&!u&&(u=[]),typeof o!="function")return Ke(e,o,u,r);J(c=>Ke(e,o(),c,r),u)}function fr(e){const o=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}});r;){const u=r[o];if(u&&!r.disabled){const c=r[`${o}Data`];if(c!==void 0?u.call(r,c,e):u.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Ke(e,o,r,u,c){for(;typeof r=="function";)r=r();if(o===r)return r;const l=typeof o,v=u!==void 0;if(e=v&&r[0]&&r[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(o=o.toString()),v){let d=r[0];d&&d.nodeType===3?d.data!==o&&(d.data=o):d=document.createTextNode(o),r=Se(e,r,u,d)}else r!==""&&typeof r=="string"?r=e.firstChild.data=o:r=e.textContent=o;else if(o==null||l==="boolean")r=Se(e,r,u);else{if(l==="function")return J(()=>{let d=o();for(;typeof d=="function";)d=d();r=Ke(e,d,r,u)}),()=>r;if(Array.isArray(o)){const d=[],$=r&&Array.isArray(r);if(vt(d,o,r,c))return J(()=>r=Ke(e,d,r,u,!0)),()=>r;if(d.length===0){if(r=Se(e,r,u),v)return r}else $?r.length===0?zt(e,d,u):sr(e,r,d):(r&&Se(e),zt(e,d));r=d}else if(o.nodeType){if(Array.isArray(r)){if(v)return r=Se(e,r,u,o);Se(e,r,null,o)}else r==null||r===""||!e.firstChild?e.appendChild(o):e.replaceChild(o,e.firstChild);r=o}}return r}function vt(e,o,r,u){let c=!1;for(let l=0,v=o.length;l<v;l++){let d=o[l],$=r&&r[e.length],S;if(!(d==null||d===!0||d===!1))if((S=typeof d)=="object"&&d.nodeType)e.push(d);else if(Array.isArray(d))c=vt(e,d,$)||c;else if(S==="function")if(u){for(;typeof d=="function";)d=d();c=vt(e,Array.isArray(d)?d:[d],Array.isArray($)?$:[$])||c}else e.push(d),c=!0;else{const w=String(d);$&&$.nodeType===3&&$.data===w?e.push($):e.push(document.createTextNode(w))}}return c}function zt(e,o,r=null){for(let u=0,c=o.length;u<c;u++)e.insertBefore(o[u],r)}function Se(e,o,r,u){if(r===void 0)return e.textContent="";const c=u||document.createTextNode("");if(o.length){let l=!1;for(let v=o.length-1;v>=0;v--){const d=o[v];if(c!==d){const $=d.parentNode===e;!l&&!v?$?e.replaceChild(c,d):e.insertBefore(c,r):$&&d.remove()}else l=!0}}else e.insertBefore(c,r);return[c]}var lr=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},pt;typeof window<"u"&&(typeof Promise<"u"?pt=new Promise(function(e){return window.addEventListener("load",e)}):pt={then:function(e){return window.addEventListener("load",e)}});function cr(e,o){o===void 0&&(o={});var r=o.registrationOptions;r===void 0&&(r={}),delete o.registrationOptions;var u=function(c){for(var l=[],v=arguments.length-1;v-- >0;)l[v]=arguments[v+1];o&&o[c]&&o[c].apply(o,l)};"serviceWorker"in navigator&&pt.then(function(){lr()?(dr(e,u,r),navigator.serviceWorker.ready.then(function(c){u("ready",c)}).catch(function(c){return De(u,c)})):(tn(e,u,r),navigator.serviceWorker.ready.then(function(c){u("ready",c)}).catch(function(c){return De(u,c)}))})}function De(e,o){navigator.onLine||e("offline"),e("error",o)}function tn(e,o,r){navigator.serviceWorker.register(e,r).then(function(u){if(o("registered",u),u.waiting){o("updated",u);return}u.onupdatefound=function(){o("updatefound",u);var c=u.installing;c.onstatechange=function(){c.state==="installed"&&(navigator.serviceWorker.controller?o("updated",u):o("cached",u))}}}).catch(function(u){return De(o,u)})}function dr(e,o,r){fetch(e).then(function(u){u.status===404?(o("error",new Error("Service worker not found at "+e)),jt()):u.headers.get("content-type").indexOf("javascript")===-1?(o("error",new Error("Expected "+e+" to have javascript content-type, but received "+u.headers.get("content-type"))),jt()):tn(e,o,r)}).catch(function(u){return De(o,u)})}function jt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return De(emit,e)})}function hr(){cr("/work-diary/serviceworker.js")}const vr=async()=>Notification.permission==="granted",pr=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ue(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,o){(function(r){e.exports=r()})(function(){return function r(u,c,l){function v(S,w){if(!c[S]){if(!u[S]){var m=typeof Ue=="function"&&Ue;if(!w&&m)return m(S,!0);if(d)return d(S,!0);var E=new Error("Cannot find module '"+S+"'");throw E.code="MODULE_NOT_FOUND",E}var A=c[S]={exports:{}};u[S][0].call(A.exports,function(R){var k=u[S][1][R];return v(k||R)},A,A.exports,r,u,c,l)}return c[S].exports}for(var d=typeof Ue=="function"&&Ue,$=0;$<l.length;$++)v(l[$]);return v}({1:[function(r,u,c){(function(l){var v=l.MutationObserver||l.WebKitMutationObserver,d;if(v){var $=0,S=new v(R),w=l.document.createTextNode("");S.observe(w,{characterData:!0}),d=function(){w.data=$=++$%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var m=new l.MessageChannel;m.port1.onmessage=R,d=function(){m.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?d=function(){var N=l.document.createElement("script");N.onreadystatechange=function(){R(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},l.document.documentElement.appendChild(N)}:d=function(){setTimeout(R,0)};var E,A=[];function R(){E=!0;for(var N,M,D=A.length;D;){for(M=A,A=[],N=-1;++N<D;)M[N]();D=A.length}E=!1}u.exports=k;function k(N){A.push(N)===1&&!E&&d()}}).call(this,typeof We<"u"?We:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,u,c){var l=r(1);function v(){}var d={},$=["REJECTED"],S=["FULFILLED"],w=["PENDING"];u.exports=m;function m(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,_!==v&&k(this,_)}m.prototype.catch=function(_){return this.then(null,_)},m.prototype.then=function(_,T){if(typeof _!="function"&&this.state===S||typeof T!="function"&&this.state===$)return this;var I=new this.constructor(v);if(this.state!==w){var O=this.state===S?_:T;A(I,O,this.outcome)}else this.queue.push(new E(I,_,T));return I};function E(_,T,I){this.promise=_,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}E.prototype.callFulfilled=function(_){d.resolve(this.promise,_)},E.prototype.otherCallFulfilled=function(_){A(this.promise,this.onFulfilled,_)},E.prototype.callRejected=function(_){d.reject(this.promise,_)},E.prototype.otherCallRejected=function(_){A(this.promise,this.onRejected,_)};function A(_,T,I){l(function(){var O;try{O=T(I)}catch(H){return d.reject(_,H)}O===_?d.reject(_,new TypeError("Cannot resolve promise with itself")):d.resolve(_,O)})}d.resolve=function(_,T){var I=N(R,T);if(I.status==="error")return d.reject(_,I.value);var O=I.value;if(O)k(_,O);else{_.state=S,_.outcome=T;for(var H=-1,P=_.queue.length;++H<P;)_.queue[H].callFulfilled(T)}return _},d.reject=function(_,T){_.state=$,_.outcome=T;for(var I=-1,O=_.queue.length;++I<O;)_.queue[I].callRejected(T);return _};function R(_){var T=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof T=="function")return function(){T.apply(_,arguments)}}function k(_,T){var I=!1;function O(G){I||(I=!0,d.reject(_,G))}function H(G){I||(I=!0,d.resolve(_,G))}function P(){T(H,O)}var V=N(P);V.status==="error"&&O(V.value)}function N(_,T){var I={};try{I.value=_(T),I.status="success"}catch(O){I.status="error",I.value=O}return I}m.resolve=M;function M(_){return _ instanceof this?_:d.resolve(new this(v),_)}m.reject=D;function D(_){var T=new this(v);return d.reject(T,_)}m.all=Y;function Y(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,O=!1;if(!I)return this.resolve([]);for(var H=new Array(I),P=0,V=-1,G=new this(v);++V<I;)te(_[V],V);return G;function te(pe,ge){T.resolve(pe).then(be,function(q){O||(O=!0,d.reject(G,q))});function be(q){H[ge]=q,++P===I&&!O&&(O=!0,d.resolve(G,H))}}}m.race=W;function W(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,O=!1;if(!I)return this.resolve([]);for(var H=-1,P=new this(v);++H<I;)V(_[H]);return P;function V(G){T.resolve(G).then(function(te){O||(O=!0,d.resolve(P,te))},function(te){O||(O=!0,d.reject(P,te))})}}},{1:1}],3:[function(r,u,c){(function(l){typeof l.Promise!="function"&&(l.Promise=r(2))}).call(this,typeof We<"u"?We:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,u,c){var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function v(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var $=d();function S(){try{if(!$||!$.open)return!1;var t=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),i=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!t||i)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function w(t,i){t=t||[],i=i||{};try{return new Blob(t,i)}catch(a){if(a.name!=="TypeError")throw a;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,s=new n,f=0;f<t.length;f+=1)s.append(t[f]);return s.getBlob(i.type)}}typeof Promise>"u"&&r(3);var m=Promise;function E(t,i){i&&t.then(function(n){i(null,n)},function(n){i(n)})}function A(t,i,n){typeof i=="function"&&t.then(i),typeof n=="function"&&t.catch(n)}function R(t){return typeof t!="string"&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var N="local-forage-detect-blob-support",M=void 0,D={},Y=Object.prototype.toString,W="readonly",_="readwrite";function T(t){for(var i=t.length,n=new ArrayBuffer(i),s=new Uint8Array(n),f=0;f<i;f++)s[f]=t.charCodeAt(f);return n}function I(t){return new m(function(i){var n=t.transaction(N,_),s=w([""]);n.objectStore(N).put(s,"key"),n.onabort=function(f){f.preventDefault(),f.stopPropagation(),i(!1)},n.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);i(a||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function O(t){return typeof M=="boolean"?m.resolve(M):I(t).then(function(i){return M=i,M})}function H(t){var i=D[t.name],n={};n.promise=new m(function(s,f){n.resolve=s,n.reject=f}),i.deferredOperations.push(n),i.dbReady?i.dbReady=i.dbReady.then(function(){return n.promise}):i.dbReady=n.promise}function P(t){var i=D[t.name],n=i.deferredOperations.pop();if(n)return n.resolve(),n.promise}function V(t,i){var n=D[t.name],s=n.deferredOperations.pop();if(s)return s.reject(i),s.promise}function G(t,i){return new m(function(n,s){if(D[t.name]=D[t.name]||fe(),t.db)if(i)H(t),t.db.close();else return n(t.db);var f=[t.name];i&&f.push(t.version);var a=$.open.apply($,f);i&&(a.onupgradeneeded=function(h){var p=a.result;try{p.createObjectStore(t.storeName),h.oldVersion<=1&&p.createObjectStore(N)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+t.name+'" has been upgraded from version '+h.oldVersion+" to version "+h.newVersion+', but the storage "'+t.storeName+'" already exists.');else throw g}}),a.onerror=function(h){h.preventDefault(),s(a.error)},a.onsuccess=function(){var h=a.result;h.onversionchange=function(p){p.target.close()},n(h),P(t)}})}function te(t){return G(t,!1)}function pe(t){return G(t,!0)}function ge(t,i){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),s=t.version<t.db.version,f=t.version>t.db.version;if(s&&(t.version!==i&&console.warn('The database "'+t.name+`" can't be downgraded from version `+t.db.version+" to version "+t.version+"."),t.version=t.db.version),f||n){if(n){var a=t.db.version+1;a>t.version&&(t.version=a)}return!0}return!1}function be(t){return new m(function(i,n){var s=new FileReader;s.onerror=n,s.onloadend=function(f){var a=btoa(f.target.result||"");i({__local_forage_encoded_blob:!0,data:a,type:t.type})},s.readAsBinaryString(t)})}function q(t){var i=T(atob(t.data));return w([i],{type:t.type})}function we(t){return t&&t.__local_forage_encoded_blob}function Pe(t){var i=this,n=i._initReady().then(function(){var s=D[i._dbInfo.name];if(s&&s.dbReady)return s.dbReady});return A(n,t,t),n}function Ze(t){H(t);for(var i=D[t.name],n=i.forages,s=0;s<n.length;s++){var f=n[s];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return t.db=null,te(t).then(function(a){return t.db=a,ge(t)?pe(t):a}).then(function(a){t.db=i.db=a;for(var h=0;h<n.length;h++)n[h]._dbInfo.db=a}).catch(function(a){throw V(t,a),a})}function re(t,i,n,s){s===void 0&&(s=1);try{var f=t.db.transaction(t.storeName,i);n(null,f)}catch(a){if(s>0&&(!t.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return m.resolve().then(function(){if(!t.db||a.name==="NotFoundError"&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),pe(t)}).then(function(){return Ze(t).then(function(){re(t,i,n,s-1)})}).catch(n);n(a)}}function fe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Le(t){var i=this,n={db:null};if(t)for(var s in t)n[s]=t[s];var f=D[n.name];f||(f=fe(),D[n.name]=f),f.forages.push(i),i._initReady||(i._initReady=i.ready,i.ready=Pe);var a=[];function h(){return m.resolve()}for(var p=0;p<f.forages.length;p++){var g=f.forages[p];g!==i&&a.push(g._initReady().catch(h))}var y=f.forages.slice(0);return m.all(a).then(function(){return n.db=f.db,te(n)}).then(function(b){return n.db=b,ge(n,i._defaultConfig.version)?pe(n):b}).then(function(b){n.db=f.db=b,i._dbInfo=n;for(var x=0;x<y.length;x++){var C=y[x];C!==i&&(C._dbInfo.db=n.db,C._dbInfo.version=n.version)}})}function Oe(t,i){var n=this;t=R(t);var s=new m(function(f,a){n.ready().then(function(){re(n._dbInfo,W,function(h,p){if(h)return a(h);try{var g=p.objectStore(n._dbInfo.storeName),y=g.get(t);y.onsuccess=function(){var b=y.result;b===void 0&&(b=null),we(b)&&(b=q(b)),f(b)},y.onerror=function(){a(y.error)}}catch(b){a(b)}})}).catch(a)});return E(s,i),s}function Be(t,i){var n=this,s=new m(function(f,a){n.ready().then(function(){re(n._dbInfo,W,function(h,p){if(h)return a(h);try{var g=p.objectStore(n._dbInfo.storeName),y=g.openCursor(),b=1;y.onsuccess=function(){var x=y.result;if(x){var C=x.value;we(C)&&(C=q(C));var L=t(C,x.key,b++);L!==void 0?f(L):x.continue()}else f()},y.onerror=function(){a(y.error)}}catch(x){a(x)}})}).catch(a)});return E(s,i),s}function ke(t,i,n){var s=this;t=R(t);var f=new m(function(a,h){var p;s.ready().then(function(){return p=s._dbInfo,Y.call(i)==="[object Blob]"?O(p.db).then(function(g){return g?i:be(i)}):i}).then(function(g){re(s._dbInfo,_,function(y,b){if(y)return h(y);try{var x=b.objectStore(s._dbInfo.storeName);g===null&&(g=void 0);var C=x.put(g,t);b.oncomplete=function(){g===void 0&&(g=null),a(g)},b.onabort=b.onerror=function(){var L=C.error?C.error:C.transaction.error;h(L)}}catch(L){h(L)}})}).catch(h)});return E(f,n),f}function ee(t,i){var n=this;t=R(t);var s=new m(function(f,a){n.ready().then(function(){re(n._dbInfo,_,function(h,p){if(h)return a(h);try{var g=p.objectStore(n._dbInfo.storeName),y=g.delete(t);p.oncomplete=function(){f()},p.onerror=function(){a(y.error)},p.onabort=function(){var b=y.error?y.error:y.transaction.error;a(b)}}catch(b){a(b)}})}).catch(a)});return E(s,i),s}function le(t){var i=this,n=new m(function(s,f){i.ready().then(function(){re(i._dbInfo,_,function(a,h){if(a)return f(a);try{var p=h.objectStore(i._dbInfo.storeName),g=p.clear();h.oncomplete=function(){s()},h.onabort=h.onerror=function(){var y=g.error?g.error:g.transaction.error;f(y)}}catch(y){f(y)}})}).catch(f)});return E(n,t),n}function ye(t){var i=this,n=new m(function(s,f){i.ready().then(function(){re(i._dbInfo,W,function(a,h){if(a)return f(a);try{var p=h.objectStore(i._dbInfo.storeName),g=p.count();g.onsuccess=function(){s(g.result)},g.onerror=function(){f(g.error)}}catch(y){f(y)}})}).catch(f)});return E(n,t),n}function rn(t,i){var n=this,s=new m(function(f,a){if(t<0){f(null);return}n.ready().then(function(){re(n._dbInfo,W,function(h,p){if(h)return a(h);try{var g=p.objectStore(n._dbInfo.storeName),y=!1,b=g.openKeyCursor();b.onsuccess=function(){var x=b.result;if(!x){f(null);return}t===0||y?f(x.key):(y=!0,x.advance(t))},b.onerror=function(){a(b.error)}}catch(x){a(x)}})}).catch(a)});return E(s,i),s}function on(t){var i=this,n=new m(function(s,f){i.ready().then(function(){re(i._dbInfo,W,function(a,h){if(a)return f(a);try{var p=h.objectStore(i._dbInfo.storeName),g=p.openKeyCursor(),y=[];g.onsuccess=function(){var b=g.result;if(!b){s(y);return}y.push(b.key),b.continue()},g.onerror=function(){f(g.error)}}catch(b){f(b)}})}).catch(f)});return E(n,t),n}function an(t,i){i=k.apply(this,arguments);var n=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var s=this,f;if(!t.name)f=m.reject("Invalid arguments");else{var a=t.name===n.name&&s._dbInfo.db,h=a?m.resolve(s._dbInfo.db):te(t).then(function(p){var g=D[t.name],y=g.forages;g.db=p;for(var b=0;b<y.length;b++)y[b]._dbInfo.db=p;return p});t.storeName?f=h.then(function(p){if(p.objectStoreNames.contains(t.storeName)){var g=p.version+1;H(t);var y=D[t.name],b=y.forages;p.close();for(var x=0;x<b.length;x++){var C=b[x];C._dbInfo.db=null,C._dbInfo.version=g}var L=new m(function(B,z){var U=$.open(t.name,g);U.onerror=function(ne){var xe=U.result;xe.close(),z(ne)},U.onupgradeneeded=function(){var ne=U.result;ne.deleteObjectStore(t.storeName)},U.onsuccess=function(){var ne=U.result;ne.close(),B(ne)}});return L.then(function(B){y.db=B;for(var z=0;z<b.length;z++){var U=b[z];U._dbInfo.db=B,P(U._dbInfo)}}).catch(function(B){throw(V(t,B)||m.resolve()).catch(function(){}),B})}}):f=h.then(function(p){H(t);var g=D[t.name],y=g.forages;p.close();for(var b=0;b<y.length;b++){var x=y[b];x._dbInfo.db=null}var C=new m(function(L,B){var z=$.deleteDatabase(t.name);z.onerror=function(){var U=z.result;U&&U.close(),B(z.error)},z.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},z.onsuccess=function(){var U=z.result;U&&U.close(),L(U)}});return C.then(function(L){g.db=L;for(var B=0;B<y.length;B++){var z=y[B];P(z._dbInfo)}}).catch(function(L){throw(V(t,L)||m.resolve()).catch(function(){}),L})})}return E(f,i),f}var sn={_driver:"asyncStorage",_initStorage:Le,_support:S(),iterate:Be,getItem:Oe,setItem:ke,removeItem:ee,clear:le,length:ye,key:rn,keys:on,dropInstance:an};function un(){return typeof openDatabase=="function"}var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fn="~~local_forage_type~",_t=/^~~local_forage_type~([^~]+)~/,Me="__lfsc__:",qe=Me.length,et="arbf",tt="blob",St="si08",Et="ui08",$t="uic8",xt="si16",At="si32",It="ur16",Ct="ui32",Dt="fl32",Rt="fl64",Tt=qe+et.length,Nt=Object.prototype.toString;function Pt(t){var i=t.length*.75,n=t.length,s,f=0,a,h,p,g;t[t.length-1]==="="&&(i--,t[t.length-2]==="="&&i--);var y=new ArrayBuffer(i),b=new Uint8Array(y);for(s=0;s<n;s+=4)a=ce.indexOf(t[s]),h=ce.indexOf(t[s+1]),p=ce.indexOf(t[s+2]),g=ce.indexOf(t[s+3]),b[f++]=a<<2|h>>4,b[f++]=(h&15)<<4|p>>2,b[f++]=(p&3)<<6|g&63;return y}function nt(t){var i=new Uint8Array(t),n="",s;for(s=0;s<i.length;s+=3)n+=ce[i[s]>>2],n+=ce[(i[s]&3)<<4|i[s+1]>>4],n+=ce[(i[s+1]&15)<<2|i[s+2]>>6],n+=ce[i[s+2]&63];return i.length%3===2?n=n.substring(0,n.length-1)+"=":i.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function ln(t,i){var n="";if(t&&(n=Nt.call(t)),t&&(n==="[object ArrayBuffer]"||t.buffer&&Nt.call(t.buffer)==="[object ArrayBuffer]")){var s,f=Me;t instanceof ArrayBuffer?(s=t,f+=et):(s=t.buffer,n==="[object Int8Array]"?f+=St:n==="[object Uint8Array]"?f+=Et:n==="[object Uint8ClampedArray]"?f+=$t:n==="[object Int16Array]"?f+=xt:n==="[object Uint16Array]"?f+=It:n==="[object Int32Array]"?f+=At:n==="[object Uint32Array]"?f+=Ct:n==="[object Float32Array]"?f+=Dt:n==="[object Float64Array]"?f+=Rt:i(new Error("Failed to get type for BinaryArray"))),i(f+nt(s))}else if(n==="[object Blob]"){var a=new FileReader;a.onload=function(){var h=fn+t.type+"~"+nt(this.result);i(Me+tt+h)},a.readAsArrayBuffer(t)}else try{i(JSON.stringify(t))}catch(h){console.error("Couldn't convert value into a JSON string: ",t),i(null,h)}}function cn(t){if(t.substring(0,qe)!==Me)return JSON.parse(t);var i=t.substring(Tt),n=t.substring(qe,Tt),s;if(n===tt&&_t.test(i)){var f=i.match(_t);s=f[1],i=i.substring(f[0].length)}var a=Pt(i);switch(n){case et:return a;case tt:return w([a],{type:s});case St:return new Int8Array(a);case Et:return new Uint8Array(a);case $t:return new Uint8ClampedArray(a);case xt:return new Int16Array(a);case It:return new Uint16Array(a);case At:return new Int32Array(a);case Ct:return new Uint32Array(a);case Dt:return new Float32Array(a);case Rt:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var rt={serialize:ln,deserialize:cn,stringToBuffer:Pt,bufferToString:nt};function Lt(t,i,n,s){t.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,s)}function dn(t){var i=this,n={db:null};if(t)for(var s in t)n[s]=typeof t[s]!="string"?t[s].toString():t[s];var f=new m(function(a,h){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(p){return h(p)}n.db.transaction(function(p){Lt(p,n,function(){i._dbInfo=n,a()},function(g,y){h(y)})},h)});return n.serializer=rt,f}function de(t,i,n,s,f,a){t.executeSql(n,s,f,function(h,p){p.code===p.SYNTAX_ERR?h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[i.storeName],function(g,y){y.rows.length?a(g,p):Lt(g,i,function(){g.executeSql(n,s,f,a)},a)},a):a(h,p)},a)}function hn(t,i){var n=this;t=R(t);var s=new m(function(f,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(p){de(p,h,"SELECT * FROM "+h.storeName+" WHERE key = ? LIMIT 1",[t],function(g,y){var b=y.rows.length?y.rows.item(0).value:null;b&&(b=h.serializer.deserialize(b)),f(b)},function(g,y){a(y)})})}).catch(a)});return E(s,i),s}function vn(t,i){var n=this,s=new m(function(f,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(p){de(p,h,"SELECT * FROM "+h.storeName,[],function(g,y){for(var b=y.rows,x=b.length,C=0;C<x;C++){var L=b.item(C),B=L.value;if(B&&(B=h.serializer.deserialize(B)),B=t(B,L.key,C+1),B!==void 0){f(B);return}}f()},function(g,y){a(y)})})}).catch(a)});return E(s,i),s}function Ot(t,i,n,s){var f=this;t=R(t);var a=new m(function(h,p){f.ready().then(function(){i===void 0&&(i=null);var g=i,y=f._dbInfo;y.serializer.serialize(i,function(b,x){x?p(x):y.db.transaction(function(C){de(C,y,"INSERT OR REPLACE INTO "+y.storeName+" (key, value) VALUES (?, ?)",[t,b],function(){h(g)},function(L,B){p(B)})},function(C){if(C.code===C.QUOTA_ERR){if(s>0){h(Ot.apply(f,[t,g,n,s-1]));return}p(C)}})})}).catch(p)});return E(a,n),a}function pn(t,i,n){return Ot.apply(this,[t,i,n,1])}function gn(t,i){var n=this;t=R(t);var s=new m(function(f,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(p){de(p,h,"DELETE FROM "+h.storeName+" WHERE key = ?",[t],function(){f()},function(g,y){a(y)})})}).catch(a)});return E(s,i),s}function yn(t){var i=this,n=new m(function(s,f){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){de(h,a,"DELETE FROM "+a.storeName,[],function(){s()},function(p,g){f(g)})})}).catch(f)});return E(n,t),n}function mn(t){var i=this,n=new m(function(s,f){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){de(h,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(p,g){var y=g.rows.item(0).c;s(y)},function(p,g){f(g)})})}).catch(f)});return E(n,t),n}function bn(t,i){var n=this,s=new m(function(f,a){n.ready().then(function(){var h=n._dbInfo;h.db.transaction(function(p){de(p,h,"SELECT key FROM "+h.storeName+" WHERE id = ? LIMIT 1",[t+1],function(g,y){var b=y.rows.length?y.rows.item(0).key:null;f(b)},function(g,y){a(y)})})}).catch(a)});return E(s,i),s}function wn(t){var i=this,n=new m(function(s,f){i.ready().then(function(){var a=i._dbInfo;a.db.transaction(function(h){de(h,a,"SELECT key FROM "+a.storeName,[],function(p,g){for(var y=[],b=0;b<g.rows.length;b++)y.push(g.rows.item(b).key);s(y)},function(p,g){f(g)})})}).catch(f)});return E(n,t),n}function _n(t){return new m(function(i,n){t.transaction(function(s){s.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,a){for(var h=[],p=0;p<a.rows.length;p++)h.push(a.rows.item(p).name);i({db:t,storeNames:h})},function(f,a){n(a)})},function(s){n(s)})})}function Sn(t,i){i=k.apply(this,arguments);var n=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var s=this,f;return t.name?f=new m(function(a){var h;t.name===n.name?h=s._dbInfo.db:h=openDatabase(t.name,"","",0),t.storeName?a({db:h,storeNames:[t.storeName]}):a(_n(h))}).then(function(a){return new m(function(h,p){a.db.transaction(function(g){function y(L){return new m(function(B,z){g.executeSql("DROP TABLE IF EXISTS "+L,[],function(){B()},function(U,ne){z(ne)})})}for(var b=[],x=0,C=a.storeNames.length;x<C;x++)b.push(y(a.storeNames[x]));m.all(b).then(function(){h()}).catch(function(L){p(L)})},function(g){p(g)})})}):f=m.reject("Invalid arguments"),E(f,i),f}var En={_driver:"webSQLStorage",_initStorage:dn,_support:un(),iterate:vn,getItem:hn,setItem:pn,removeItem:gn,clear:yn,length:mn,key:bn,keys:wn,dropInstance:Sn};function $n(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Bt(t,i){var n=t.name+"/";return t.storeName!==i.storeName&&(n+=t.storeName+"/"),n}function xn(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch{return!0}}function An(){return!xn()||localStorage.length>0}function In(t){var i=this,n={};if(t)for(var s in t)n[s]=t[s];return n.keyPrefix=Bt(t,i._defaultConfig),An()?(i._dbInfo=n,n.serializer=rt,m.resolve()):m.reject()}function Cn(t){var i=this,n=i.ready().then(function(){for(var s=i._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var a=localStorage.key(f);a.indexOf(s)===0&&localStorage.removeItem(a)}});return E(n,t),n}function Dn(t,i){var n=this;t=R(t);var s=n.ready().then(function(){var f=n._dbInfo,a=localStorage.getItem(f.keyPrefix+t);return a&&(a=f.serializer.deserialize(a)),a});return E(s,i),s}function Rn(t,i){var n=this,s=n.ready().then(function(){for(var f=n._dbInfo,a=f.keyPrefix,h=a.length,p=localStorage.length,g=1,y=0;y<p;y++){var b=localStorage.key(y);if(b.indexOf(a)===0){var x=localStorage.getItem(b);if(x&&(x=f.serializer.deserialize(x)),x=t(x,b.substring(h),g++),x!==void 0)return x}}});return E(s,i),s}function Tn(t,i){var n=this,s=n.ready().then(function(){var f=n._dbInfo,a;try{a=localStorage.key(t)}catch{a=null}return a&&(a=a.substring(f.keyPrefix.length)),a});return E(s,i),s}function Nn(t){var i=this,n=i.ready().then(function(){for(var s=i._dbInfo,f=localStorage.length,a=[],h=0;h<f;h++){var p=localStorage.key(h);p.indexOf(s.keyPrefix)===0&&a.push(p.substring(s.keyPrefix.length))}return a});return E(n,t),n}function Pn(t){var i=this,n=i.keys().then(function(s){return s.length});return E(n,t),n}function Ln(t,i){var n=this;t=R(t);var s=n.ready().then(function(){var f=n._dbInfo;localStorage.removeItem(f.keyPrefix+t)});return E(s,i),s}function On(t,i,n){var s=this;t=R(t);var f=s.ready().then(function(){i===void 0&&(i=null);var a=i;return new m(function(h,p){var g=s._dbInfo;g.serializer.serialize(i,function(y,b){if(b)p(b);else try{localStorage.setItem(g.keyPrefix+t,y),h(a)}catch(x){(x.name==="QuotaExceededError"||x.name==="NS_ERROR_DOM_QUOTA_REACHED")&&p(x),p(x)}})})});return E(f,n),f}function Bn(t,i){if(i=k.apply(this,arguments),t=typeof t!="function"&&t||{},!t.name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var s=this,f;return t.name?f=new m(function(a){t.storeName?a(Bt(t,s._defaultConfig)):a(t.name+"/")}).then(function(a){for(var h=localStorage.length-1;h>=0;h--){var p=localStorage.key(h);p.indexOf(a)===0&&localStorage.removeItem(p)}}):f=m.reject("Invalid arguments"),E(f,i),f}var kn={_driver:"localStorageWrapper",_initStorage:In,_support:$n(),iterate:Rn,getItem:Dn,setItem:On,removeItem:Ln,clear:Cn,length:Pn,key:Tn,keys:Nn,dropInstance:Bn},Mn=function(i,n){return i===n||typeof i=="number"&&typeof n=="number"&&isNaN(i)&&isNaN(n)},Fn=function(i,n){for(var s=i.length,f=0;f<s;){if(Mn(i[f],n))return!0;f++}return!1},kt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},$e={},Mt={},_e={INDEXEDDB:sn,WEBSQL:En,LOCALSTORAGE:kn},Wn=[_e.INDEXEDDB._driver,_e.WEBSQL._driver,_e.LOCALSTORAGE._driver],Fe=["dropInstance"],ot=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Fe),Un={description:"",driver:Wn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Yn(t,i){t[i]=function(){var n=arguments;return t.ready().then(function(){return t[i].apply(t,n)})}}function it(){for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var n in i)i.hasOwnProperty(n)&&(kt(i[n])?arguments[0][n]=i[n].slice():arguments[0][n]=i[n])}return arguments[0]}var zn=function(){function t(i){v(this,t);for(var n in _e)if(_e.hasOwnProperty(n)){var s=_e[n],f=s._driver;this[n]=f,$e[f]||this.defineDriver(s)}this._defaultConfig=it({},Un),this._config=it({},this._defaultConfig,i),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(n){if((typeof n>"u"?"undefined":l(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var s in n){if(s==="storeName"&&(n[s]=n[s].replace(/\W/g,"_")),s==="version"&&typeof n[s]!="number")return new Error("Database version must be a number.");this._config[s]=n[s]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},t.prototype.defineDriver=function(n,s,f){var a=new m(function(h,p){try{var g=n._driver,y=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){p(y);return}for(var b=ot.concat("_initStorage"),x=0,C=b.length;x<C;x++){var L=b[x],B=!Fn(Fe,L);if((B||n[L])&&typeof n[L]!="function"){p(y);return}}var z=function(){for(var xe=function(Vn){return function(){var Kn=new Error("Method "+Vn+" is not implemented by the current driver"),Ft=m.reject(Kn);return E(Ft,arguments[arguments.length-1]),Ft}},at=0,Hn=Fe.length;at<Hn;at++){var st=Fe[at];n[st]||(n[st]=xe(st))}};z();var U=function(xe){$e[g]&&console.info("Redefining LocalForage driver: "+g),$e[g]=n,Mt[g]=xe,h()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(U,p):U(!!n._support):U(!0)}catch(ne){p(ne)}});return A(a,s,f),a},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(n,s,f){var a=$e[n]?m.resolve($e[n]):m.reject(new Error("Driver not found."));return A(a,s,f),a},t.prototype.getSerializer=function(n){var s=m.resolve(rt);return A(s,n),s},t.prototype.ready=function(n){var s=this,f=s._driverSet.then(function(){return s._ready===null&&(s._ready=s._initDriver()),s._ready});return A(f,n,n),f},t.prototype.setDriver=function(n,s,f){var a=this;kt(n)||(n=[n]);var h=this._getSupportedDrivers(n);function p(){a._config.driver=a.driver()}function g(x){return a._extend(x),p(),a._ready=a._initStorage(a._config),a._ready}function y(x){return function(){var C=0;function L(){for(;C<x.length;){var B=x[C];return C++,a._dbInfo=null,a._ready=null,a.getDriver(B).then(g).catch(L)}p();var z=new Error("No available storage method found.");return a._driverSet=m.reject(z),a._driverSet}return L()}}var b=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=b.then(function(){var x=h[0];return a._dbInfo=null,a._ready=null,a.getDriver(x).then(function(C){a._driver=C._driver,p(),a._wrapLibraryMethodsWithReady(),a._initDriver=y(h)})}).catch(function(){p();var x=new Error("No available storage method found.");return a._driverSet=m.reject(x),a._driverSet}),A(this._driverSet,s,f),this._driverSet},t.prototype.supports=function(n){return!!Mt[n]},t.prototype._extend=function(n){it(this,n)},t.prototype._getSupportedDrivers=function(n){for(var s=[],f=0,a=n.length;f<a;f++){var h=n[f];this.supports(h)&&s.push(h)}return s},t.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,s=ot.length;n<s;n++)Yn(this,ot[n])},t.prototype.createInstance=function(n){return new t(n)},t}(),jn=new zn;u.exports=jn},{3:3}]},{},[4])(4)})})(nn);var yr=nn.exports;const bt=gr(yr),[mr,Ge]=K({show:!1,title:"",message:""});bt.config({name:"work-diary"});const[ie,Qe]=K([]);function br(){bt.getItem("diary").then(e=>{console.log(e),e&&Qe(JSON.parse(e))}).catch(e=>console.log(e))}function gt(){let e=JSON.stringify(ie());bt.setItem("diary",e).catch(o=>console.log(o))}const wr=()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(ie())),o=document.createElement("a");o.setAttribute("href",e),o.setAttribute("download","diary-export.json"),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)},_r=e=>{console.log("importing diary data",e);let o=new FileReader;o.onload=r=>{try{let u=JSON.parse(r.target.result);Qe(u),gt()}catch(u){Ge({show:!0,title:"error importing file",message:e.name+" "+u})}},o.onerror=r=>{console.log(r),Ge({show:!0,title:"error",message:"error importing diary data"})},o.readAsText(e)};function wt(e){e=new Date(e);let o=e.getMonth()+1;o<10&&(o=`0${o}`);let r=e.getDate();return r<10&&(r=`0${r}`),`${r}.${o}.${e.getFullYear()}`}function Sr(e){e=new Date(e);let o=e.getMonth()+1;o<10&&(o=`0${o}`);let r=e.getDate();return r<10&&(r=`0${r}`),`${e.getFullYear()}-${o}-${r}`}function Er(e){return e=new Date(e),Number(e)}const ue=Xn();function $r(e){const[o,r]=K(!1),[u,c]=K(null),[l,v]=K(!1),[d,$]=K(!1),[S,w]=K(!1),m=["Pflege","Pflanzen/Setzen","Ernten","Pflanzenschutz","Anzucht","Umgebungsarbeiten","Anderes"];return Q(ue.Provider,{value:{showEditor:o,setShowEditor:r,openToEdit:u,setOpenToEdit:c,deleteHot:l,setDeleteHot:v,showMenu:d,setShowMenu:$,categorys:m,toastMessage:mr,setToastMessage:Ge,showReport:S,setShowReport:w},get children(){return e.children}})}var xr=ae('<article><header><button class="icon-button outline"><i class="fa-solid fa-pencil"></i></button><button class="icon-button outline"><i class="fa-solid fa-trash-can"></i> </button></header><h6></h6><p></p><footer><div class=diary-grid-1><label><input type=checkbox>done</label><p></p><p><i class="fa-regular fa-clock"></i><mark> minutes');function Ar(e){const{setOpenToEdit:o,deleteHot:r}=ve(ue);return(()=>{var u=xr(),c=u.firstChild,l=c.firstChild,v=l.nextSibling,d=v.firstChild,$=c.nextSibling,S=$.nextSibling,w=S.nextSibling,m=w.firstChild,E=m.firstChild,A=E.firstChild,R=E.nextSibling,k=R.nextSibling,N=k.firstChild,M=N.nextSibling,D=M.firstChild;return l.$$click=()=>o(e.entry.id),v.$$click=()=>e.deleteEntry(e.entry.id),X($,()=>e.entry.category),S.style.setProperty("white-space","pre-wrap"),X(S,()=>e.entry.work),X(R,()=>wt(e.entry.date)),N.style.setProperty("font-size","1.3rem"),X(M,()=>e.entry.duration,D),J(()=>(r()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)")!=null?d.style.setProperty("color",r()===e.entry.id?"var(--pico-del-color)":"var(--pico-primary)"):d.style.removeProperty("color")),J(()=>A.checked=e.entry.done),u})()}me(["click"]);var Ir=ae('<button class="float primary"id=floating-button><i class="fa-solid fa-plus fa-2xl float-icon">');function Cr(e){const{showEditor:o,setShowEditor:r}=ve(ue),[u,c]=K();return Re(()=>{setInterval(()=>{c(!0),setTimeout(()=>c(!1),400)},7e3)}),(()=>{var l=Ir();return l.$$click=()=>r(!o()),J(()=>Ce(l,"buzz",u())),l})()}me(["click"]);var Dr=ae('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-floppy-disk"></i></button><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><label><input type=checkbox>done</label><textarea rows=5 cols=40 placeholder="describe work"></textarea><input type=date><label for=duration>duration <mark></mark></label><input type=range id=duration min=0 max=240 step=5><fieldset><legend>Kategorie'),Rr=ae("<label><input type=radio name=category on>");let ft;function Tr(e){const{showEditor:o,setShowEditor:r,openToEdit:u,setOpenToEdit:c,categorys:l}=ve(ue),v=P=>{o()&&(ft.contains(P.target)||r(!1))};Re(()=>{document.addEventListener("click",v,!0)}),yt(()=>{document.removeEventListener("click",v,!0)}),Ee(()=>{o()&&$({id:Date.now(),date:Date.now(),work:"",category:"Pflege",done:!0,duration:10}),u()!==null?d(u()):$({id:Date.now(),date:Date.now(),work:"",category:"Pflege",done:!0,duration:10})});const d=P=>{const V=ie().find(G=>G.id===P);console.log("from Editor",P),$(V)},$=P=>{O(P.id),N(P.done),E(P.work),R(P.date),W(P.category),D(P.duration)};let S,w;const[m,E]=K(""),[A,R]=K(Date.now()),[k,N]=K(!1),[M,D]=K(10),[Y,W]=K("Pflege"),[_,T]=K(!1),[I,O]=K(Date.now()),H=()=>{if(m().length<1){T(!0);return}let P={id:I(),work:m(),date:A(),done:k(),duration:M(),category:Y()};e.saveNewEntry(P),r(!1)};return Ee(dt(()=>m(),()=>T(!1))),(()=>{var P=Dr(),V=P.firstChild,G=V.firstChild,te=G.firstChild,pe=te.nextSibling,ge=G.nextSibling,be=ge.firstChild,q=ge.nextSibling,we=q.nextSibling,Pe=we.nextSibling,Ze=Pe.firstChild,re=Ze.nextSibling,fe=Pe.nextSibling,Le=fe.nextSibling;Le.firstChild;var Oe=ft;typeof Oe=="function"?Ae(Oe,V):ft=V,te.$$click=()=>H(),pe.$$click=()=>r(!1),be.addEventListener("change",()=>N(!k())),q.$$input=()=>E(S.value);var Be=S;typeof Be=="function"?Ae(Be,q):S=q,we.addEventListener("change",ee=>R(Er(ee.target.value))),X(re,M),fe.$$input=()=>D(w.value);var ke=w;return typeof ke=="function"?Ae(ke,fe):w=fe,X(Le,Q(en,{each:l,children:ee=>(()=>{var le=Rr(),ye=le.firstChild;return ye.addEventListener("change",()=>W(ee)),X(le,ee,null),J(()=>ye.checked=ee===Y()),le})()}),null),J(ee=>{var le=o(),ye=_();return le!==ee.e&&Ce(P,"open",ee.e=le),ye!==ee.t&&Ce(q,"aria-invalid",ee.t=ye),ee},{e:void 0,t:void 0}),J(()=>be.checked=k()),J(()=>q.value=m()),J(()=>we.value=Sr(A())),J(()=>fe.value=M()),P})()}me(["click","input"]);var Nr=ae("<article><header>Work Report can share: </header><pre></pre><footer><button>close Report</button><button>share report</button><p>");const[Pr,Ht]=K("");function Lr(){let e=0;ie().forEach(r=>{e+=Number(r.duration)});let o=`Arbeitsraport
-------------
`;return o+=`
Zeitaufwand total: ${e} min

`,ie().forEach(r=>{o+=`${wt(r.date)} Zeitaufwand: ${r.duration} min
${r.work}

`}),o}function Or(){let e=0;ie().forEach(r=>{e+=Number(r.duration)});let o=`
    <!doctype html><html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>work report</title>
      </head>
      <body>
        <div>
          <h2>Arbeitsraport</h2>
    `;return o+=`<h3>Zeitaufwand total: ${e} min</h3>`,ie().forEach(r=>{o+=`<h4>${wt(r.date)} Zeitaufwand: ${r.duration} min</h4>
<p>${r.work}</p>

`}),o+="</div></body> </html> ",o}function Br(){const e=Or(),o=new File([e],"report.html",{type:"text/html"});console.log(navigator.canShare()),Ht("pending"),navigator.share({title:"Work Report",text:"hier ist der neuste Arbeitsraport",files:[o]}).then(()=>{Ht("shared successfully")}).catch(r=>Ge({show:!0,title:"error while sharing report ",message:r}))}function kr(){const{showReport:e,setShowReport:o}=ve(ue);return(()=>{var r=Nr(),u=r.firstChild;u.firstChild;var c=u.nextSibling,l=c.nextSibling,v=l.firstChild,d=v.nextSibling,$=d.nextSibling;return X(u,()=>navigator.canShare()?"yes":"no",null),X(c,Lr),v.$$click=()=>o(!1),d.$$click=()=>Br(),X($,()=>Pr()||" "),r})()}me(["click"]);var Mr=ae("<div>");function Fr(){const{showEditor:e,setShowEditor:o,openToEdit:r,setOpenToEdit:u,deleteHot:c,setDeleteHot:l,showReport:v}=ve(ue);Re(async()=>{br()});const d=async S=>{Qe([S,...ie().filter(w=>w.id!==S.id)]),gt()},$=async S=>{if(c()===!1){l(S),setTimeout(()=>l(!1),2e3);return}c()===S?(Qe(ie().filter(w=>w.id!==S)),gt()):l(S)};return Ee(dt(()=>r(),()=>{r()!==null&&o(!0)})),Ee(dt(()=>e(),()=>{e()===!1&&u(null)})),(()=>{var S=Mr();return X(S,Q(Cr,{}),null),X(S,Q(Tr,{saveNewEntry:d}),null),X(S,Q(ar,{get children(){return[Q(Ut,{get when(){return!v()},get children(){return Q(en,{get each(){return ie()},children:w=>Q(Ar,{entry:w,deleteEntry:$})})}}),Q(Ut,{get when(){return v()},get children(){return Q(kr,{})}})]}}),null),S})()}var Wr=ae('<nav><ul><li><h2><i class="fa-solid fa-person-digging"></i></h2></li></ul><ul><li><h2>Work Diary</h2></li></ul><ul><li><button>Menu');function Ur(){const{showMenu:e,setShowMenu:o}=ve(ue);return(()=>{var r=Wr(),u=r.firstChild,c=u.nextSibling,l=c.nextSibling,v=l.firstChild,d=v.firstChild;return d.$$click=()=>o(!e()),r})()}me(["click"]);var Yr=ae('<dialog><article><header><button class="icon-button outline"><i class="fa-solid fa-circle-xmark"></i></button></header><button>generate Report</button><h6>export Data</h6><p>exports current data to your device<br>this can serve as an update</p><button>export Diary</button><hr><h6>import diary data</h6><p><mark>Caution!</mark> Existing data will be overwritten.</p><input type=file><button>import Diary');let lt,ct;function zr(e){const{showMenu:o,setShowMenu:r,showReport:u,setShowReport:c}=ve(ue),l=v=>{o()&&(lt.contains(v.target)||r(!1))};return Re(()=>{document.addEventListener("click",l,!0)}),yt(()=>{document.removeEventListener("click",l,!0)}),(()=>{var v=Yr(),d=v.firstChild,$=d.firstChild,S=$.firstChild,w=$.nextSibling,m=w.nextSibling,E=m.nextSibling,A=E.nextSibling,R=A.nextSibling,k=R.nextSibling,N=k.nextSibling,M=N.nextSibling,D=M.nextSibling,Y=lt;typeof Y=="function"?Ae(Y,d):lt=d,S.$$click=()=>r(!1),w.$$click=()=>{c(!0),r(!1)},A.$$click=()=>{wr(),r(!1)};var W=ct;return typeof W=="function"?Ae(W,M):ct=M,D.$$click=()=>{_r(ct.files[0]),r(!1)},D.style.setProperty("background-color","var(--pico-del-color)"),J(()=>Ce(v,"open",o())),v})()}me(["click"]);var jr=ae("<div id=toast><h3></h3><p>");function Hr(){const{toastMessage:e,setToastMessage:o}=ve(ue);return Ee(()=>{e().show&&setTimeout(()=>o(r=>({title:r.title,message:r.message,show:!1})),3e3)}),(()=>{var r=jr(),u=r.firstChild,c=u.nextSibling;return X(u,()=>e().title),X(c,()=>e().message),J(()=>Ce(r,"open",e().show)),r})()}var Vr=ae("<div class=card><dialog><h4>Like to get Notified?</h4><button>activate notifications");function Kr(){const[e,o]=K(!1);return Re(async()=>{hr(),await vr()||o(!0)}),[Q(Ur,{}),Q(zr,{}),Q(Hr,{}),(()=>{var r=Vr(),u=r.firstChild,c=u.firstChild,l=c.nextSibling;return l.$$click=()=>{pr(),o(!1)},J(()=>u.open=e()),r})(),Q(Fr,{})]}me(["click"]);const Gr=document.getElementById("root");ur(()=>Q($r,{get children(){return Q(Kr,{})}}),Gr);
